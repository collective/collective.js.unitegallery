function debugLine(a,b,c){a===!0&&(a="true"),a===!1&&(a="false");var d=a;if("object"==typeof a){d="";for(name in a){var e=a[name];d+=" "+name+": "+e}}if(1!=b||c||(d+=" "+Math.random()),1==c){var f=jQuery("#debug_line");f.width(200),f.height()>=500&&f.html("");var g=f.html();d=g+"<br> -------------- <br>"+d}jQuery("#debug_line").show().html(d)}function debugSide(a){var b="";for(name in a){var c=a[name];b+=name+" : "+c+"<br>"}jQuery("#debug_side").show().html(b)}function trace(a){"undefined"!=typeof console&&console.log(a)}function UGFunctions(){function a(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c}var c=null,d=this,e={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(a,b){if(a.requestFullscreen)a.requestFullscreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else if(a.webkitRequestFullscreen)a.webkitRequestFullscreen();else{if(!a.msRequestFullscreen)return!1;a.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==d.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(b){document.webkitCancelFullScreen?a("webkitfullscreenchange",document,b):document.msExitFullscreen?a("MSFullscreenChange",document,b):document.mozCancelFullScreen?a("mozfullscreenchange",document,b):a("fullscreenchange",document,b)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return a},this.isFullScreen=function(){var a=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return a=!!a},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==c)return c;var a=["webkit","Moz","ms","O"],b=document.createElement("div");for(var d in a){var e=a[d];if(e+"Transform"in b.style)return e=e.toLowerCase(),c=e,e}return c="",""},this.getImageInsideParentDataByImage=function(a,b,c){var e=a.parent(),f=d.getImageOriginalSize(a),g=d.getImageInsideParentData(e,f.width,f.height,b,c);return g},this.getImageInsideParentData=function(a,b,c,d,e,f,g){if(!e)var e={};var h={};if("undefined"==typeof f)var f=a.width();if("undefined"==typeof g)var g=a.height();e.padding_left&&(f-=e.padding_left),e.padding_right&&(f-=e.padding_right),e.padding_top&&(g-=e.padding_top),e.padding_bottom&&(g-=e.padding_bottom);var i=null,j="100%",k=null,l=null,m="display:block;margin:0px auto;";if(b>0&&c>0){if("down"==d&&f>b&&g>c)j=c,i=b,l=(f-i)/2,k=(g-j)/2;else if("fill"==d){var n=b/c;j=g,i=j*n,f>i?(i=f,j=i/n,l=0,k=Math.round((j-g)/2*-1)):(k=0,l=Math.round((i-f)/2*-1))}else{var n=b/c;j=g,i=j*n,k=0,l=(f-i)/2,"fitvert"!=d&&i>f&&(i=f,j=i/n,l=0,k=(g-j)/2)}i=Math.floor(i),j=Math.floor(j),k=Math.floor(k),l=Math.floor(l),m="position:absolute;"}return e.padding_top&&(k+=e.padding_top),e.padding_left&&(l+=e.padding_left),h.imageWidth=i,h.imageHeight=j,h.imageTop=k,h.imageLeft=l,h.imageRight=l+i,0==k||"100%"==j?h.imageBottom=null:h.imageBottom=k+j,h.style=m,h},this.getElementCenterPosition=function(a,b){var c=a.parent(),e=d.getElementSize(a),f=d.getElementSize(c),g=f.width,h=f.height;b&&void 0!==b.padding_top&&(h-=b.padding_top),b&&void 0!==b.padding_bottom&&(h-=b.padding_bottom),b&&void 0!==b.padding_left&&(g-=b.padding_left),b&&void 0!==b.padding_right&&(g-=b.padding_right);var i={};return i.left=Math.round((g-e.width)/2),i.top=Math.round((h-e.height)/2),b&&void 0!==b.padding_top&&(i.top+=b.padding_top),b&&void 0!==b.padding_left&&(i.left+=b.padding_left),i},this.getElementCenterPoint=function(a,b){if(!b)var b=!1;var c=d.getElementSize(a),e={};return e.x=c.width/2,e.y=c.height/2,1==b&&(e.x+=c.left,e.y+=c.top),e.x=Math.round(e.x),e.y=Math.round(e.y),e},this.getMousePosition=function(a,b){var c={pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c.pageX=a.originalEvent.touches[0].pageX,c.pageY=a.originalEvent.touches[0].pageY,c.clientX=a.originalEvent.touches[0].clientX,c.clientY=a.originalEvent.touches[0].clientY),b){var d=b.offset();c.mouseX=c.pageX-d.left,c.mouseY=c.pageY-d.top}return c},this.getMouseElementPoint=function(a,b){var c={x:a.pageX,y:a.pageY},e=d.getElementLocalPoint(c,b);return e},this.getElementLocalPoint=function(a,b){var c={},d=b.offset();return c.x=Math.round(a.x-d.left),c.y=Math.round(a.y-d.top),c},this.getImageOriginalSize=function(a,b,c){if("undefined"!=typeof b&&"undefined"!=typeof c)return{width:b,height:c};var d=a[0];if("undefined"==typeof d)throw new Error("getImageOriginalSize error - Image not found");var e={};if("undefined"==typeof d.naturalWidth){if("number"==typeof a.data("naturalWidth")){var e={};return e.width=a.data("naturalWidth"),e.height=a.data("naturalHeight"),e}var f=new Image;return f.src=d.src,f.complete?(e.width=f.width,e.height=f.height,a.data("naturalWidth",e.width),a.data("naturalHeight",e.height),e):{width:0,height:0}}return e.width=d.naturalWidth,e.height=d.naturalHeight,e},this.getimageRatio=function(a){var b=d.getImageOriginalSize(a),c=d.getElementSize(a),e=c.width/b.width;return e},this.isImageFitParent=function(a){var b=a.parent(),c=d.getElementSize(a),e=d.getElementSize(b);return c.width<=e.width&&c.height<=e.height},this.getElementSize=function(a){if(void 0===a)throw new Error("Can't get size, empty element");var b=a.position();return b.height=a.outerHeight(),b.width=a.outerWidth(),b.left=Math.round(b.left),b.top=Math.round(b.top),b.right=b.left+b.width,b.bottom=b.top+b.height,b},this.isElementBiggerThenParent=function(a){var b=a.parent(),c=d.getElementSize(a),e=d.getElementSize(b);return c.width>e.width||c.height>e.height},this.isPointInsideElement=function(a,b){var c=a.x>=0&&a.x<b.width;if(0==c)return!1;var d=a.y>=0&&a.y<b.height;return 0!=d},this.getElementRelativePos=function(a,b,c,e){if(!e)var e=a.parent();if("number"==typeof a)var f={width:a,height:a};else var f=d.getElementSize(a);var g=d.getElementSize(e);switch(b){case"top":case"left":b=0,c&&(b+=c);break;case"center":b=Math.round((g.width-f.width)/2),c&&(b+=c);break;case"right":b=g.width-f.width,c&&(b-=c);break;case"middle":b=Math.round((g.height-f.height)/2),c&&(b+=c);break;case"bottom":b=g.height-f.height,c&&(b-=c)}return b},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(a,b,c,e,f,g,h){if(!c)var c=1.2;if(!f)var f="fit";var i,j,k,l,m=c,n=a.parent(),o=d.getElementSize(a),p=d.getImageOriginalSize(a),q=!1,r=0,s=0,t=0,u=0;if(e){var v=d.getMouseElementPoint(e,a);q=d.isPointInsideElement(v,o),t=v.x,u=v.y}else q=!1;if(0==q){var w=d.getElementCenterPoint(a);t=w.x,u=w.y}if(1==b)i=o.height*m,j=o.width*m,0!=t&&(r=-(t*m-t)),0!=u&&(s=-(u*m-u));else{i=o.height/m,j=o.width/m;var x=d.getImageInsideParentData(n,p.width,p.height,f,h);if(j<x.imageWidth)return d.scaleImageFitParent(a,p.width,p.height,f,h),!0;1==q&&(0!=t&&(r=-(t/m-t)),0!=u&&(s=-(u/m-u)))}if(g){var y=1;if(0!=p.width&&(y=j/p.width),y>g)return!1}if(d.setElementSize(a,j,i),0==b&&0==q){var z=d.getElementCenterPosition(a);k=z.left,l=z.top}else k=o.left+r,l=o.top+s;return d.placeElement(a,k,l),!0},this.placeElement=function(a,b,c,e,f,g){if(0==jQuery.isNumeric(b)||0==jQuery.isNumeric(c)){if(!g)var g=a.parent();var h=d.getElementSize(a),i=d.getElementSize(g)}if(0==jQuery.isNumeric(b))switch(b){case"left":b=0,e&&(b+=e);break;case"center":b=Math.round((i.width-h.width)/2),e&&(b+=e);break;case"right":b=i.width-h.width,e&&(b-=e)}if(0==jQuery.isNumeric(c))switch(c){case"top":c=0,f&&(c+=f);break;case"middle":case"center":c=Math.round((i.height-h.height)/2),f&&(c+=f);break;case"bottom":c=i.height-h.height,f&&(c-=f)}var j={position:"absolute",margin:"0px"};null!==b&&(j.left=b),null!==c&&(j.top=c),a.css(j)},this.placeElementInParentCenter=function(a){d.placeElement(a,"center","middle")},this.setElementSizeAndPosition=function(a,b,c,d,e){var f={width:d+"px",height:e+"px",left:b+"px",top:c+"px",position:"absolute",margin:"0px"};a.css(f)},this.setElementSize=function(a,b,c){var d={width:b+"px"};null!==c&&"undefined"!=typeof c&&(d.height=c+"px"),a.css(d)},this.cloneElementSizeAndPos=function(a,b,c,e,f){var g=a.position();if(void 0==g)throw new Error("Can't get size, empty element");c===!0?(g.height=a.outerHeight(),g.width=a.outerWidth()):(g.height=a.height(),g.width=a.width()),g.left=Math.round(g.left),g.top=Math.round(g.top),e&&(g.left+=e),f&&(g.top+=f),d.setElementSizeAndPosition(b,g.left,g.top,g.width,g.height)},this.placeImageInsideParent=function(a,b,c,e,f,g){var h=d.getImageInsideParentData(b,c,e,f,g),i="<img";null!==h.imageWidth&&(i+=" width = '"+h.imageWidth+"'",h.style+="width:"+h.imageWidth+";"),null!=h.imageHeight&&("100%"==h.imageHeight?(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+";"):(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+"px;")),null!==h.imageTop&&(h.style+="top:"+h.imageTop+"px;"),null!==h.imageLeft&&(h.style+="left:"+h.imageLeft+"px;"),a=d.escapeDoubleSlash(a),i+=" style='"+h.style+"'",i+=' src="'+a+'"',i+=">",b.html(i);var j=b.children("img");return j},this.scaleImageCoverParent=function(a,b,c){if("number"==typeof b)var e=b,f=c;else var e=b.outerWidth(),f=b.outerHeight();var g=d.getImageOriginalSize(a),h=g.width,i=g.height,j=h/i,k=f,l=k*j,m=0,n=0;e>l?(l=e,k=l/j,n=0,m=Math.round((k-f)/2*-1)):(m=0,n=Math.round((l-e)/2*-1)),l=Math.round(l),k=Math.round(k),a.css({width:l+"px",height:k+"px",left:n+"px",top:m+"px"})},this.scaleImageFitParent=function(a,b,c,e,f){var g=a.parent(),h=d.getImageInsideParentData(g,b,c,e,f),i=!1,j={};return null!==h.imageWidth&&(i=!0,a.removeAttr("width"),j.width=h.imageWidth+"px"),null!=h.imageHeight&&(i=!0,a.removeAttr("height"),j.height=h.imageHeight+"px"),null!==h.imageTop&&(i=!0,j.top=h.imageTop+"px"),null!==h.imageLeft&&(i=!0,j.left=h.imageLeft+"px"),1==i&&(j.position="absolute",j.margin="0px 0px",a.css(j)),h},this.scaleImageByHeight=function(a,b,c,e){var f=d.getImageOriginalSize(a,c,e),g=f.width/f.height,h=Math.round(b*g);b=Math.round(b),d.setElementSize(a,h,b)},this.scaleImageByWidth=function(a,b,c,e){var f=d.getImageOriginalSize(a,c,e),g=f.width/f.height,h=Math.round(b/g);b=Math.round(b),d.setElementSize(a,b,h)},this.scaleImageExactSizeInParent=function(a,b,c,e,f,g){var h=a.parent(),i=d.getElementSize(h);i.width<e&&(e=i.width),i.height<f&&(f=i.height);var j=d.getImageInsideParentData(null,b,c,g,null,e,f),k=e,l=f,m=j.imageLeft,n=j.imageLeft,o=j.imageTop,p=j.imageTop,q=Math.round((i.width-e)/2),r=Math.round((i.height-f)/2),s=j.imageWidth+m+n,t=e-s;0!=t&&(n+=t);var u=j.imageHeight+o+p,t=f-u;0!=t&&(p+=t),a.removeAttr("width"),a.removeAttr("height");var v={position:"absolute",margin:"0px 0px"};v.width=k+"px",v.height=l+"px",v.left=q+"px",v.top=r+"px",v["padding-left"]=m+"px",v["padding-top"]=o+"px",v["padding-right"]=n+"px",v["padding-bottom"]=p+"px",a.css(v);var w={};return w.imageWidth=k,w.imageHeight=l,w},this.showElement=function(a,b,c){a.show().fadeTo(0,1),b&&b.show().fadeTo(0,1),c&&c.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(a,b){if(!b)var b="ug-button-disabled";0==d.isButtonDisabled(a,b)&&a.addClass(b)},this.convertCustomPrefixOptions=function(a,b,c){if(!b)return a;var d={};return jQuery.each(a,function(a,e){if(0===a.indexOf(b+"_"+c+"_")){var f=a.replace(b+"_"+c+"_",c+"_");d[f]=e}else d[a]=e}),d},this.enableButton=function(a,b){if(!b)var b="ug-button-disabled";1==d.isButtonDisabled(a,b)&&a.removeClass(b)},this.isButtonDisabled=function(a,b){if(!b)var b="ug-button-disabled";return!!a.hasClass(b)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(a,b,c,d,e,f){if(!f)var f=!1;var g=(e-c)/(d-c);return e=a+(b-a)*g,1==f&&(a>e&&(e=a),e>b&&(e=b)),e},this.getNormalizedValue=function(a,b,c,d,e){var f=(e-a)/(b-a);return e=a+(d-c)*f},this.getDistance=function(a,b,c,d){var e=Math.round(Math.sqrt(Math.abs((c-a)*(c-a)+(d-b)*(d-b))));return e},this.getMiddlePoint=function(a,b,c,d){var e={};return e.x=a+Math.round((c-a)/2),e.y=b+Math.round((d-b)/2),e},this.getNumItemsInSpace=function(a,b,c){var d=Math.floor((a+c)/(b+c));return d},this.getNumItemsInSpaceRound=function(a,b,c){var d=Math.round((a+c)/(b+c));return d},this.getSpaceByNumItems=function(a,b,c){var d=a*b+(a-1)*c;return d},this.getItemSizeInSpace=function(a,b,c){var d=Math.floor((a-(b-1)*c)/b);return d},this.getColX=function(a,b,c){var d=a*(b+c);return d},this.getColByIndex=function(a,b){var c=b%a;return c},this.getColRowByIndex=function(a,b){var c=Math.floor(a/b),d=Math.floor(a%b);return{col:d,row:c}},this.getIndexByRowCol=function(a,b,c){if(0>a)return-1;if(0>b)return-1;var d=a*c+b;return d},this.getPrevRowSameColIndex=function(a,b){var c=d.getColRowByIndex(a,b),e=d.getIndexByRowCol(c.row-1,c.col,b);return e},this.getNextRowSameColIndex=function(a,b){var c=d.getColRowByIndex(a,b),e=d.getIndexByRowCol(c.row+1,c.col,b);return e},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(a,b){jQuery.data(document.body,a,b)},this.getGlobalData=function(a){var b=jQuery.data(document.body,a);return b},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(a){if(0==d.isTouchDevice())return null;var b=d.getStoredEventData(a),c=15,f=15;if(null===b.scrollDir&&(Math.abs(b.diffMouseX)>c?b.scrollDir="hor":Math.abs(b.diffMouseY)>f&&Math.abs(b.diffMouseY)>Math.abs(b.diffMouseX)&&(b.scrollDir="vert",b.scrollStartY=b.lastMouseClientY,b.scrollOrigin=jQuery(document).scrollTop(),e.dataCache[a].scrollStartY=b.lastMouseClientY,e.dataCache[a].scrollOrigin=b.scrollOrigin),e.dataCache[a].scrollDir=b.scrollDir),"vert"!==b.scrollDir)return b.scrollDir;var g=(jQuery(document).scrollTop(),b.scrollOrigin-(b.lastMouseClientY-b.scrollStartY));return g>=0&&jQuery(document).scrollTop(g),b.scrollDir},this.wasVerticalScroll=function(a){var b=d.getStoredEventData(a);return"vert"===b.scrollDir},this.storeEventData=function(a,b,c){var f=d.getMousePosition(a),g=jQuery.now(),h={startTime:g,lastTime:g,startMouseX:f.pageX,startMouseY:f.pageY,lastMouseX:f.pageX,lastMouseY:f.pageY,startMouseClientY:f.clientY,lastMouseClientY:f.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};c&&(h=jQuery.extend(h,c)),e.dataCache[b]=h},this.updateStoredEventData=function(a,b,c){if(!e.dataCache[b])throw new Error("updateEventData error: must have stored cache object");var f=e.dataCache[b],g=d.getMousePosition(a);f.lastTime=jQuery.now(),void 0!==g.pageX&&(f.lastMouseX=g.pageX,f.lastMouseY=g.pageY,f.lastMouseClientY=g.clientY),c&&(f=jQuery.extend(f,c)),e.dataCache[b]=f},this.getStoredEventData=function(a,b){if(!e.dataCache[a])throw new Error("updateEventData error: must have stored cache object");var c=e.dataCache[a];return c.diffMouseX=c.lastMouseX-c.startMouseX,c.diffMouseY=c.lastMouseY-c.startMouseY,c.diffMouseClientY=c.lastMouseClientY-c.startMouseClientY,c.diffTime=c.lastTime-c.startTime,b===!0?(c.startMousePos=c.lastMouseY,c.lastMousePos=c.lastMouseY,c.diffMousePos=c.diffMouseY):(c.startMousePos=c.lastMouseX,c.lastMousePos=c.lastMouseX,c.diffMousePos=c.diffMouseX),c},this.isApproveStoredEventClick=function(a,b){if(!e.dataCache[a])return!0;var c=d.getStoredEventData(a,b),f=Math.abs(c.diffMousePos);return!(c.diffTime>400)&&!(f>30)},this.clearStoredEventData=function(a){e.dataCache[a]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){var a=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof a.getContext},this.isScrollbarExists=function(){var a=window.innerWidth>document.documentElement.clientWidth;return a},this.isTouchDevice=function(){if(-1!==e.isTouchDevice)return e.isTouchDevice;try{document.createEvent("TouchEvent"),e.isTouchDevice=!0}catch(a){e.isTouchDevice=!1}return e.isTouchDevice},this.isRgbaSupported=function(){if(-1!==e.isRgbaSupported)return e.isRgbaSupported;var a=document.getElementsByTagName("script")[0],b=a.style.color;try{a.style.color="rgba(1,5,13,0.44)"}catch(c){}var d=a.style.color!=b;return a.style.color=b,e.isRgbaSupported=d,d},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(a){for(var b=jQuery.fn.jquery.split("."),c=a.split("."),d=0,e=b.length;e>d;d++){var f=parseInt(b[d]),g=parseInt(c[d]);if("undefined"==typeof c[d])return!0;if(g>f)return!1;if(f>g)return!0}return!0},this.getCssSizeParam=function(a){return jQuery.isNumeric(a)?a+"px":a},this.convertHexToRGB=function(a,c){var d=a.replace("#","");return d===a?a:(r=parseInt(d.substring(0,2),16),g=parseInt(d.substring(2,4),16),b=parseInt(d.substring(4,6),16),result="rgba("+r+","+g+","+b+","+c+")",result)},this.timestampToString=function(a){var b=new Date(a),c=b.getDate()+"/"+b.getMonth();return c+=" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+":"+b.getMilliseconds()},this.getArrTouches=function(a){var b=[];return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(b=a.originalEvent.touches),b},this.getArrTouchPositions=function(a){for(var b=[],c=0;c<a.length;c++){var d={pageX:a[c].pageX,pageY:a[c].pageY};b.push(d)}return b},this.startTimeDebug=function(){e.starTime=jQuery.now()},this.showTimeDebug=function(){var a=jQuery.now(),b=a-e.starTime;debugLine({"Time Passed":b},!0)},this.initProgressIndicator=function(a,b,c){switch("bar"!=a&&0==d.isCanvasExists()&&(a="bar"),a){case"bar":var e=new UGProgressBar;e.putHidden(c,b);break;default:case"pie":var e=new UGProgressPie;e.putHidden(c,b);break;case"pie2":b.type_fill=!0;var e=new UGProgressPie;e.putHidden(c,b)}return e},this.setButtonMobileReady=function(a){a.on("touchstart",function(a){jQuery(this).addClass("ug-nohover")}),a.on("mousedown touchend",function(a){return a.stopPropagation(),a.stopImmediatePropagation(),!1})},this.registerTheme=function(a){e.arrThemes.push(a)},this.getArrThemes=function(){return e.arrThemes},this.isThemeRegistered=function(a){return-1!==jQuery.inArray(a,e.arrThemes)},this.getFirstRegisteredTheme=function(){if(0==e.arrThemes.length)return"";var a=e.arrThemes[0];return a},this.isTimePassed=function(a,b){if(!b)var b=100;var c=jQuery.now();0==e.timeCache.hasOwnProperty(a)?lastTime=0:lastTime=e.timeCache[a];var d=c-lastTime;return e.timeCache[a]=c,!(b>=d)},this.whenContiniousEventOver=function(a,b,c){if(!c)var c=300;1==e.timeCache.hasOwnProperty(a)&&null!=e.timeCache[a]&&(clearTimeout(e.timeCache[a]),e.timeCache[a]=null),e.timeCache[a]=setTimeout(b,c)},this.validateClickTouchstartEvent=function(a){var b=!0,c=jQuery.now()-e.lastEventTime;return"click"==a&&"touchstart"==e.lastEventType&&1e3>c&&(b=!1),e.lastEventTime=jQuery.now(),e.lastEventType=a,b},this.addClassOnHover=function(a,b){if(!b)var b="ug-button-hover";a.hover(function(){jQuery(this).addClass(b)},function(){jQuery(this).removeClass(b)})},this.destroyButton=function(a){a.off("mouseenter"),a.off("mouseleave"),a.off("click"),a.off("touchstart"),a.off("touchend"),a.off("mousedown"),a.off("tap")},this.setButtonOnClick=function(a,b){d.setButtonMobileReady(a),a.on("click touchstart",function(a){return objThis=jQuery(this),a.stopPropagation(),a.stopImmediatePropagation(),0==d.validateClickTouchstartEvent(a.type)||void b(objThis,a)})},this.setButtonOnTap=function(a,b){a.on("tap",b),0==d.isTouchDevice()?a.on("click",function(a){var b=jQuery(this);return 0==d.validateClickTouchstartEvent(a.type)||void b.trigger("tap")}):(a.on("touchstart",function(a){var b=jQuery(this);b.addClass("ug-nohover"),e.lastTouchStartElement=jQuery(this),e.lastEventTime=jQuery.now()}),a.on("touchend",function(a){var b=jQuery(this);if(0==b.is(e.lastTouchStartElement))return!0;if(!e.lastEventTime)return!0;var c=jQuery.now()-e.lastEventTime;return c>e.touchThreshold||void b.trigger("tap")}))},this.loadJs=function(a,b){b===!0&&(a=location.protocol+"//"+a);var c=document.createElement("script");c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)},this.loadCss=function(a,b){b===!0&&(a=location.protocol+"//"+a);var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a),document.getElementsByTagName("head")[0].appendChild(c)},this.addEvent=function(a,b,c){"undefined"!=typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},this.checkImagesLoaded=function(a,b,c){function d(a,d){e++,"function"==typeof c&&setTimeout(function(){c(a,d)}),e==f&&"function"==typeof b&&setTimeout(function(){b()})}var e=0,f=a.length;return 0==f&&b?(b(),!1):void setTimeout(function(){for(var b=0;f>b;b++){var c=a[b];if(void 0!==c.naturalWidth&&0!==c.naturalWidth)d(a[b],!1);else{var e=jQuery("<img/>");e.data("index",b),e.on("load",function(){var b=jQuery(this).data("index");d(a[b],!1)}),e.on("error",function(){var b=jQuery(this).data("index");d(a[b],!0)}),e.attr("src",c.src)}}})},this.waitForWidth=function(a,b){var c=a.width();return 0!=c?(b(),!1):void(e.handle=setInterval(function(){c=a.width(),0!=c&&(clearInterval(e.handle),b())},300))},this.arrayShuffle=function(a){if("object"!=typeof a)return a;for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},this.getObjectLength=function(a){var b=0;for(var c in a)b++;return b},this.normalizePercent=function(a){return 0>a&&(a=0),a>1&&(a=1),a},this.stripTags=function(a){var b=a.replace(/(<([^>]+)>)/gi,"");return b},this.escapeDoubleSlash=function(a){return a.replace('"','"')},this.htmlentitles=function(a){var b=jQuery("<div/>").text(a).html();return b},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function a(a,b){var c=w[a],d="";0==D.customThumbs&&(d=" ug-thumb-generated");var e=c.index+1,f="style='z-index:"+e+";'",g="<div class='ug-thumb-wrapper"+d+"' "+f+"></div>";if(1==C.thumb_wrapper_as_link){var h=c.link;""==c.link&&(h="javascript:void(0)");var i="";1==C.thumb_link_newpage&&c.link&&(i=" target='_blank'");var g="<a href='"+h+"'"+i+" class='ug-thumb-wrapper"+d+"'></a>"}var j=jQuery(g),k=c.objThumbImage;if(0==D.customThumbs){if(1==C.thumb_show_loader&&k){var l="ug-thumb-loader-dark";"bright"==C.thumb_loader_type&&(l="ug-thumb-loader-bright"),j.append("<div class='ug-thumb-loader "+l+"'></div>"),j.append("<div class='ug-thumb-error' style='display:none'></div>")}if(k){if(k.addClass("ug-thumb-image"),1==C.thumb_image_overlay_effect){var m=k.clone().appendTo(j);m.addClass("ug-thumb-image-overlay "+b).removeClass("ug-thumb-image"),m.fadeTo(0,0),c.objImageOverlay=m}j.append(k)}}return D.isEffectBorder&&j.append("<div class='ug-thumb-border-overlay'></div>"),D.isEffectOverlay&&j.append("<div class='ug-thumb-overlay'></div>"),x.append(j),D.customThumbs&&D.funcSetCustomThumbHtml(j,c),w[a].objThumbWrapper=j,j}function b(a,b,c,d){var e={width:a+"px",height:b+"px"},f={width:a-D.thumbInnerReduce+"px",height:b-D.thumbInnerReduce+"px"},g=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";c?(d!==!0&&c.css(e),c.find(g).css(f)):(x.children(".ug-thumb-wrapper").css(e),x.find(g).css(f))}function c(a,b,c,d){if(!d)var d=!1;A.isFakeFullscreen()&&(d=!0);var e=a.children(".ug-thumb-border-overlay"),f={};f["border-width"]=b+"px",0!=b&&(f["border-color"]=c),d&&d===!0?(e.css(f),0==b?e.hide():e.show()):(0==b?e.stop().fadeOut(C.thumb_transition_duration):e.show().stop().fadeIn(C.thumb_transition_duration),i(e,f))}function d(a,b,c){var d=a.children(".ug-thumb-overlay"),e=C.thumb_transition_duration;c&&c===!0&&(e=0),b?d.stop(!0).fadeTo(e,D.colorOverlayOpacity):d.stop(!0).fadeTo(e,0)}function e(a,b,c){var d=a.children("img.ug-thumb-image"),e=a.children("img.ug-thumb-image-overlay"),f=C.thumb_transition_duration;c&&c===!0&&(f=0),b?e.stop(!0).fadeTo(f,1):(d.fadeTo(0,1),e.stop(!0).fadeTo(f,0))}function f(a,b){if(D.isEffectBorder&&c(a,C.thumb_selected_border_width,C.thumb_selected_border_color,b),D.isEffectOverlay){var f=1==C.thumb_overlay_reverse;d(a,f,b)}D.isEffectImage&&e(a,!1,b),z.trigger(y.events.SETSELECTEDSTYLE,a)}function g(a){var b=y.getItemByThumb(a);return b.isLoaded=!0,b.isThumbImageLoaded=!1,1==D.customThumbs?(z.trigger(y.events.IMAGELOADERROR,a),!0):(a.children(".ug-thumb-loader").hide(),void a.children(".ug-thumb-error").show())}function h(a){if(C.thumb_round_corners_radius<=0)return!1;var b={"border-radius":C.thumb_round_corners_radius+"px"};a?(a.css(b),a.find(".ug-thumb-border-overlay").css(b)):x.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(b)}function i(a,b){a.stop(!0).animate(b,{duration:C.thumb_transition_duration,easing:C.thumb_transition_easing,queue:!1})}function j(a){1==n(a)?f(a,!0,"redraw"):y.setThumbNormalStyle(a,!0,"redraw")}function k(a,c,d){if(1==C.thumb_fixed_size)B.scaleImageCoverParent(c,a);else{"height"==C.thumb_resize_by?B.scaleImageByHeight(c,C.thumb_height):B.scaleImageByWidth(c,C.thumb_width);var e=B.getElementSize(c);B.placeElement(c,0,0),b(e.width,e.height,a)}a.children(".ug-thumb-loader").hide(),c.show(),0==C.thumb_image_overlay_effect?c.fadeTo(0,1):(1==C.thumb_image_overlay_effect&&l(c),c.fadeTo(0,0),j(a)),z.trigger(y.events.AFTERPLACEIMAGE,a)}function l(a){var b=a.siblings(".ug-thumb-image-overlay");if(0==b.length)return!1;var c=B.getElementSize(a),d={width:c.width+"px",height:c.height+"px",left:c.left+"px",top:c.top+"px"};b.css(d),0==D.customThumbs&&b.fadeTo(0,1)}function m(){var a="",b=C.thumb_image_overlay_type.split(",");for(var c in b){var d=b[c];switch(d){case"bw":a+=" ug-bw-effect";break;case"blur":a+=" ug-blur-effect";break;case"sepia":a+=" ug-sepia-effect"}}return a}function n(a){return!!a.hasClass("ug-thumb-selected")}function o(a,c){c=jQuery(c);var d=(y.getItemByThumb(c),B.getElementSize(c));b(d.width,d.height,c,!0),j(c)}function p(a){return 1==D.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==n(a)&&y.setThumbOverStyle(a))}function q(a){return 1==D.touchEnabled||void(0==n(a)&&y.setThumbNormalStyle(a,!1))}function r(a,b){if(!b)var b=!1;var c=jQuery(a),d=c.parents(".ug-thumb-wrapper");return 0!=d.parent().length&&(objItem=y.getItemByThumb(d),(1!=objItem.isLoaded||b!==!1)&&(y.triggerImageLoadedEvent(d,c),void(1==D.customThumbs?z.trigger(y.events.PLACEIMAGE,[d,c]):k(d,c,objItem))))}function s(a,b,c){objItem=y.getItemByThumb(b),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var d=B.getImageOriginalSize(c);objItem.thumbWidth=d.width,objItem.thumbHeight=d.height,objItem.thumbRatioByWidth=d.width/d.height,objItem.thumbRatioByHeight=d.height/d.width,b.addClass("ug-thumb-ratio-set")}var t,u,v,w,x,y=this,z=jQuery(y),A=new UniteGalleryMain,B=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"},this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var C={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},D={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},E={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(a,b){u=a.getObjects(),A=a,t=jQuery(a),v=u.g_objWrapper,w=u.g_arrItems,C=jQuery.extend(C,b),D.isEffectBorder=C.thumb_border_effect,D.isEffectOverlay=C.thumb_color_overlay_effect,D.isEffectImage=C.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(b,c){if(x=b,1==D.isEffectImage)var d=m();if(c!==!0)for(var e=A.getNumItems(),f=0;e>f;f++)a(f,d);else{var g=y.getThumbs();g.removeClass(D.classNewThumb);var h=A.getNewAddedItemsIndexes();jQuery.each(h,function(b,c){var e=a(c,d);e.addClass(D.classNewThumb)})}},this.setThumbNormalStyle=function(a,b,f){if(1==D.customThumbs&&a.removeClass("ug-thumb-over"),D.isEffectBorder&&c(a,C.thumb_border_width,C.thumb_border_color,b),D.isEffectOverlay){var g=1!=C.thumb_overlay_reverse;d(a,g,b)}D.isEffectImage&&e(a,!0,b),z.trigger(y.events.SETNORMALSTYLE,a)},this.setThumbOverStyle=function(a){if(1==D.customThumbs&&a.addClass("ug-thumb-over"),D.isEffectBorder&&c(a,C.thumb_over_border_width,C.thumb_over_border_color),D.isEffectOverlay){var b=1==C.thumb_overlay_reverse;d(a,b)}1==D.isEffectImage&&e(a,!1),z.trigger(y.events.SETOVERSTYLE,a)},this.setHtmlProperties=function(a){if(!a)var a=y.getThumbs();if(0==D.customThumbs&&(1==C.thumb_fixed_size&&b(C.thumb_width,C.thumb_height,a),h(a)),a.each(function(){var a=jQuery(this);j(a)}),D.isEffectOverlay&&C.thumb_overlay_color){var c={};if(B.isRgbaSupported()){var d=B.convertHexToRGB(C.thumb_overlay_color,C.thumb_overlay_opacity);c["background-color"]=d}else c["background-color"]=C.thumb_overlay_color,D.colorOverlayOpacity=C.thumb_overlay_opacity;a.find(".ug-thumb-overlay").css(c)}},this.setThumbSelected=function(a){return 1==D.customThumbs&&a.removeClass("ug-thumb-over"),1==n(a)||(a.addClass("ug-thumb-selected"),void f(a))},this.setThumbUnselected=function(a){a.removeClass("ug-thumb-selected"),y.setThumbNormalStyle(a,!1,"set unselected")},this.setOptions=function(a){C=jQuery.extend(C,a)},this.setThumbInnerReduce=function(a){D.thumbInnerReduce=a},this.setCustomThumbs=function(a,b,c){if(D.customThumbs=!0,"function"!=typeof a)throw new Error("The argument should be function");D.funcSetCustomThumbHtml=a,-1==jQuery.inArray("overlay",b)&&(D.isEffectOverlay=!1),-1==jQuery.inArray("border",b)&&(D.isEffectBorder=!1),D.isEffectImage=!1,c&&c.allow_onresize===!1&&(D.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return C},this.getNumThumbs=function(){var a=w.length;return a},this.getThumbImage=function(a){var b=a.find(".ug-thumb-image");return b},this.getThumbByIndex=function(a){var b=y.getThumbs();if(a>=b.length||0>a)throw new Error("Wrong thumb index");var c=jQuery(b[a]);return c},this.getThumbs=function(a){var b=".ug-thumb-wrapper",c=".ug-thumb-ratio-set";switch(a){default:case y.type.GET_THUMBS_ALL:var d=x.children(b);break;case y.type.GET_THUMBS_NO_RATIO:var d=x.children(b).not(c);break;case y.type.GET_THUMBS_RATIO:var d=x.children(b+c);break;case y.type.GET_THUMBS_NEW:var d=x.children("."+D.classNewThumb)}return d},this.getItemByThumb=function(a){var b=a.data("index");void 0===b&&(b=a.index());var c=w[b];return c},this.isThumbLoaded=function(a){var b=y.getItemByThumb(a);return b.isLoaded},this.getGlobalThumbSize=function(){var a={width:C.thumb_width,height:C.thumb_height};return a},this._____________EXTERNAL_OTHERS__________=function(){},
this.initEvents=function(){var a=".ug-thumb-wrapper";1==D.allowOnResize&&v.on(E.eventSizeChange,o),z.on(y.events.THUMB_IMAGE_LOADED,s),x.on("touchstart",a,function(){D.touchEnabled=!0,x.off("mouseenter").off("mouseleave")}),x.on("mouseenter",a,function(a){var b=jQuery(this);p(b)}),x.on("mouseleave",a,function(a){var b=jQuery(this);q(b)})},this.destroy=function(){var a=".ug-thumb-wrapper";x.off("touchstart",a),v.off(E.eventSizeChange),x.off("mouseenter",a),x.off("mouseleave",a),z.off(y.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var a=x.find(".ug-thumb-image");B.checkImagesLoaded(a,null,function(a,b){if(0==b)r(a,!0);else{var c=jQuery(a).parent();g(c)}})},this.triggerImageLoadedEvent=function(a,b){z.trigger(y.events.THUMB_IMAGE_LOADED,[a,b])},this.hideThumbs=function(){x.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function a(a,c){z=a.getObjects(),H=a,H.attachThumbsPanel("strip",G),y=jQuery(a),A=z.g_objWrapper,B=z.g_arrItems,L=jQuery.extend(L,c),J=L.strip_vertical_type,1==J&&(L=jQuery.extend(L,O),L=jQuery.extend(L,c),c.thumb_resize_by="width"),K.init(a,c),b()}function b(){var a=K.getOptions();M.isNotFixedThumbs=a.thumb_fixed_size===!1,J=L.strip_vertical_type}function c(){K.setHtmlProperties(),e(),h(),g(),0==M.isRunOnce&&(1==L.strip_control_touch&&(F=new UGTouchThumbsControl,F.init(G)),1==L.strip_control_avia&&(E=new UGAviaControl,E.init(G)),p(),K.loadThumbsImages(),u()),M.isRunOnce=!0}function d(a){N.stripSize=a,0==J?N.stripActiveSize=N.stripSize-L.strip_padding_left-L.strip_padding_right:N.stripActiveSize=N.stripSize-L.strip_padding_top-L.strip_padding_bottom,N.stripActiveSize<0&&(N.stripActiveSize=0)}function e(){var a=D.children(".ug-thumb-wrapper"),b=jQuery(a[0]),c=b.outerWidth(),e=b.outerHeight(),f=K.getOptions();0==J?(N.thumbSize=c,1==f.thumb_fixed_size?N.thumbSecondSize=e:N.thumbSecondSize=f.thumb_height,d(C.width()),N.stripInnerSize=D.width()):(N.thumbSize=e,1==f.thumb_fixed_size?N.thumbSecondSize=c:N.thumbSecondSize=f.thumb_width,d(C.height()),N.stripInnerSize=D.height())}function f(a){0==J?D.width(a):D.height(a),N.stripInnerSize=a,p(),jQuery(G).trigger(G.events.INNER_SIZE_CHANGE)}function g(){var a=D.children(".ug-thumb-wrapper"),b=0,c=0;for(0==J&&(c=L.strip_padding_top),i=0;i<a.length;i++){var d=jQuery(a[i]);if(1==M.isNotFixedThumbs){if(objItem=K.getItemByThumb(d),0==objItem.isLoaded)continue;d.show()}I.placeElement(d,b,c),0==J?b+=d.outerWidth()+L.strip_space_between_thumbs:c+=d.outerHeight()+L.strip_space_between_thumbs}if(0==J)var e=b-L.strip_space_between_thumbs;else var e=c-L.strip_space_between_thumbs;f(e)}function h(){if(0==J){var a=N.thumbSecondSize,b={};b.height=a+"px";var c={};c.height=a+"px"}else{var d=N.thumbSecondSize,b={};b.width=d+"px";var c={};c.width=d+"px"}C.css(b),D.css(c)}function j(a){var b=G.getInnerStripPos(),c=b+a;c=G.fixInnerStripLimits(c),G.positionInnerStrip(c,!0)}function k(a){var b=x(a),c=-1*b.min;c=G.fixInnerStripLimits(c),G.positionInnerStrip(c,!0)}function l(a){var b=x(a),c=-1*b.max+N.stripSize;c=G.fixInnerStripLimits(c),G.positionInnerStrip(c,!0)}function m(a){if(0==v())return!1;var b=w(),c=x(a);if(c.min<b.minPosThumbs){var d=a.prev();k(d.length?d:a)}else if(c.max>b.maxPosThumbs){var e=a.next();l(e.length?e:a)}}function n(){var a=H.getSelectedItem();if(null==a)return!0;var b=a.objThumbWrapper;b&&m(b)}function o(){if(0==v())return!1;var a=G.getInnerStripPos(),b=G.fixInnerStripLimits(a);a!=b&&G.positionInnerStrip(b,!0)}function p(){var a=v();1==a?(E&&E.enable(),F&&F.enable()):(E&&E.disable(),F&&F.disable())}function q(){return!v()&&void(0==J?I.placeElement(D,L.strip_thumbs_align,0):I.placeElement(D,0,L.strip_thumbs_align))}function r(a){if(G.isTouchMotionActive()){var b=F.isSignificantPassed();if(1==b)return!0}var c=K.getItemByThumb(a);H.selectItem(c)}function s(){clearTimeout(M.handle),M.handle=setTimeout(function(){g()},50)}function t(){var a=H.getSelectedItem();K.setThumbSelected(a.objThumbWrapper),m(a.objThumbWrapper)}function u(){K.initEvents();var a=C.find(".ug-thumb-wrapper");a.on("click touchend",function(a){var b=jQuery(this);r(b)}),y.on(H.events.ITEM_CHANGE,t),M.isNotFixedThumbs&&jQuery(K).on(K.events.AFTERPLACEIMAGE,s)}function v(){return N.stripInnerSize>N.stripActiveSize}function w(){var a={},b=G.getInnerStripPos();return a.minPosThumbs=-1*b+1,a.maxPosThumbs=-1*b+N.stripSize-1,a}function x(a){var b={},c=a.position();return 0==J?(b.min=c.left,b.max=c.left+N.thumbSize):(b.min=c.top,b.max=c.top+N.thumbSize),b}var y,z,A,B,C,D,E,F,G=this,H=new UniteGalleryMain,I=new UGFunctions,J=!1,K=new UGThumbsGeneral,I=new UGFunctions,L={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},M={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},N={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var O={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(a){if(!a){var a=A;null!=L.parent_container&&(a=L.parent_container)}a.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),C=a.children(".ug-thumbs-strip"),D=C.children(".ug-thumbs-strip-inner"),K.setHtmlThumbs(D),1==M.isNotFixedThumbs&&K.hideThumbs()},this.destroy=function(){var a=C.find(".ug-thumb-wrapper");a.off("click"),a.off("touchend"),y.off(H.events.ITEM_CHANGE),jQuery(K).off(K.events.AFTERPLACEIMAGE),F&&F.destroy(),E&&E.destroy(),K.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(b,c){a(b,c)},this.run=function(){c()},this.positionInnerStrip=function(a,b){if(void 0===b)var b=!1;if(0==J)var c={left:a+"px"};else var c={top:a+"px"};0==b?(D.css(c),G.triggerStripMoveEvent()):(G.triggerStripMoveEvent(),D.stop(!0).animate(c,{duration:L.strip_scroll_to_thumb_duration,easing:L.strip_scroll_to_thumb_easing,queue:!1,progress:function(){G.triggerStripMoveEvent()},always:function(){G.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(G).trigger(G.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!F)return!1;var a=F.isTouchActive();return a},this.isItemThumbVisible=function(a){var b=a.objThumbWrapper,c=b.position(),d=-1*G.getInnerStripPos();if(0==J)var e=d+N.stripSize,f=c.left,g=c.left+b.width();else var e=d+N.stripSize,f=c.top,g=c.top+b.height();var h=!1;return g>=d&&e>=f&&(h=!0),h},this.getInnerStripPos=function(){return 0==J?D.position().left:D.position().top},this.getInnerStripLimits=function(){var a={};return 0==J?a.maxPos=L.strip_padding_left:a.maxPos=L.strip_padding_top,a.minPos=-(N.stripInnerSize-N.stripActiveSize),a},this.fixInnerStripLimits=function(a){var b=G.getInnerStripLimits();return a>b.maxPos&&(a=b.maxPos),a<b.minPos&&(a=b.minPos),a},this.scrollForeward=function(){j(-N.stripSize)},this.scrollBack=function(){j(N.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(a){L=jQuery.extend(L,a),K.setOptions(a),b()},this.setSizeVertical=function(a){if(0==J)throw new Error("setSizeVertical error, the strip size is not vertical");var b=N.thumbSecondSize,c={};c.width=b+"px",c.height=a+"px",C.css(c),d(a);var e={};e.width=b+"px",e.left="0px",e.top="0px",D.css(e),M.is_placed=!0,p()},this.setSizeHorizontal=function(a){if(1==J)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var b=N.thumbSecondSize+L.strip_padding_top+L.strip_padding_bottom,c={};c.width=a+"px",c.height=b+"px",C.css(c),d(a);var e=L.strip_padding_left,f={};f.height=b+"px",f.left=e+"px",f.top="0px",D.css(f),M.is_placed=!0,p()},this.setPosition=function(a,b,c,d){I.placeElement(C,a,b,c,d)},this.resize=function(a){0==J?(C.width(a),N.stripActiveSize=a-L.strip_padding_left-L.strip_padding_right):(C.height(a),N.stripActiveSize=a-L.strip_padding_top-L.strip_padding_bottom),d(a),p(),o(),q(),n()},this.setThumbUnselected=function(a){K.setThumbUnselected(a)},this.setCustomThumbs=function(a){K.setCustomThumbs(a)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var a=K.getOptions(),b=jQuery.extend(L,a),c={g_gallery:H,g_objGallery:y,g_objWrapper:A,g_arrItems:B,g_objStrip:C,g_objStripInner:D,g_aviaControl:E,g_touchThumbsControl:F,isVertical:J,g_options:b,g_thumbs:K};return c},this.getObjThumbs=function(){return K},this.getSelectedThumb=function(){var a=H.getSelectedItemIndex();return-1==a?null:K.getThumbByIndex(a)},this.getSizeAndPosition=function(){var a=I.getElementSize(C);return a},this.getHeight=function(){var a=C.outerHeight();return a},this.getWidth=function(){var a=C.outerWidth();return a},this.getSizes=function(){return N},this.isVertical=function(){return J},this.isPlaced=function(){return M.is_placed},this.isMoveEnabled=function(){var a=v();return a}}function UGTouchThumbsControl(){function a(){var a=jQuery.now(),b={};return b.passedTime=y.lastTime-y.startTime,b.lastActiveTime=a-y.buttonReleaseTime,b.passedDistance=y.lastPos-y.startPos,b.passedDistanceAbs=Math.abs(b.passedDistance),b}function b(){x.thumb_touch_slowFactor=w.normalizeSetting(5e-5,.01,1,100,u.strip_thumb_touch_sensetivity,!0)}function c(a){return 0==v?w.getMousePosition(a).pageX:w.getMousePosition(a).pageY}function d(a){var b=y.mousePos-a,c=y.innerPos-b,d=o.getInnerStripLimits();if(c>d.maxPos){var e=c-d.maxPos;c=d.maxPos+e/3}if(c<d.minPos){var e=d.minPos-c;c=d.minPos-e/3}o.positionInnerStrip(c)}function e(a){var b=o.getInnerStripPos();y.mousePos=a,y.innerPos=b,y.lastPortionPos=b,y.lastDeltaTime=0,y.lastDeltaPos=0,y.startTime=jQuery.now(),y.startPos=y.innerPos,y.lastTime=y.startTime,y.lastPos=y.startPos,y.speed=0}function f(){var a=jQuery.now(),b=a-y.lastTime;b>=x.touch_portion_time&&(y.lastDeltaTime=a-y.lastTime,y.lastDeltaTime>x.touch_portion_time&&(y.lastDeltaTime=x.touch_portion_time),y.lastDeltaPos=y.lastPos-y.lastPortionPos,y.lastPortionPos=y.lastPos,y.lastTime=a)}function g(){var a=x.thumb_touch_slowFactor,b=x.minDeltaTime,c=x.minPath,d=o.getInnerStripPos(),e=jQuery.now(),f=e-y.lastTime,g=d-y.lastPortionPos;b>f&&y.lastDeltaTime>0&&(f=y.lastDeltaTime,g=y.lastDeltaPos+g),b>f&&(f=b);var i=g>0?1:-1,j=0;f>0&&(j=g/f);var k=j*j/(2*a)*i;Math.abs(k)<=c&&(k=0);var l=o.getInnerStripPos(),m=l+k,n=o.fixInnerStripLimits(m),p=o.getInnerStripLimits(),q=x.limitsBreakAddition,r=!1,s=n;if(m>p.maxPos&&(r=!0,n=q,q>m&&(n=m)),m<p.minPos){r=!0;var u=p.minPos-q;n=u,m>u&&(n=m)}var w=n-l,z=Math.abs(Math.round(j/a));if(0!=k&&(z=z*w/k),l!=n){var A={left:n+"px"};1==v&&(A={top:n+"px"}),t.animate(A,{duration:z,easing:x.animationEasing,queue:!0,progress:h})}if(1==r){var B=x.returnAnimateSpeed,C={left:s+"px"};1==v&&(C={top:s+"px"}),t.animate(C,{duration:B,easing:x.returnAnimationEasing,queue:!0,progress:h})}}function h(){y.lastPos=o.getInnerStripPos(),o.triggerStripMoveEvent()}function i(){return 1==y.loop_active||(y.loop_active=!0,void(y.handle=setInterval(f,10)))}function j(a){if(0==y.loop_active)return!0;if(a){var b=c(a);g(b)}y.loop_active=!1,y.handle=clearInterval(y.handle)}function k(a){return 0==y.isControlEnabled||(y.buttonReleaseTime=jQuery.now(),0==y.touch_active?(j(a),!0):(a.preventDefault(),y.touch_active=!1,j(a),void s.removeClass("ug-dragging")))}function l(a){if(0==y.isControlEnabled)return!0;a.preventDefault(),y.touch_active=!0;var b=c(a);t.stop(!0),e(b),i(),s.addClass("ug-dragging")}function m(a){if(0==y.isControlEnabled)return!0;if(0==y.touch_active)return!0;if(a.preventDefault(),0==a.buttons)return y.touch_active=!1,j(a),!0;var b=c(a);y.lastPos=o.getInnerStripPos(),d(b),f()}function n(){s.bind("mousedown touchstart",l),jQuery(window).add("body").bind("mouseup touchend",k),jQuery("body").bind("mousemove touchmove",m)}var o,p,q,r,s,t,u,v,w=new UGFunctions,x={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},y={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){y.isControlEnabled=!0},this.disable=function(){y.isControlEnabled=!1},this.init=function(a){o=a,r=a.getObjects(),p=r.g_gallery,q=r.g_objGallery,s=r.g_objStrip,t=r.g_objStripInner,u=r.g_options,v=r.isVertical,b(),n()},this.isSignificantPassed=function(){var b=a();return b.passedTime>300||b.passedDistanceAbs>30},this.isTouchActive=function(){if(1==y.touch_active)return!0;if(1==t.is(":animated"))return!0;var b=a();return b.lastActiveTime<50},this.destroy=function(){s.unbind("mousedown"),s.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function a(a,b){switch(d.orientation){case"right":case"left":var c={left:a+"px"};break;case"top":case"bottom":var c={top:a+"px"}}f.stop(!0).animate(c,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){b&&b()}})}function b(a){switch(d.orientation){case"right":case"left":m.placeElement(f,a,null);break;case"top":case"bottom":m.placeElement(f,null,a)}}function c(){h.trigger(e.events.FINISH_MOVE)}var d,e,f,g,h,i,j,k=new UniteGalleryMain,l=this,m=new UGFunctions;this.init=function(a,b,c,f,i){d=b,e=c,k=a,g=f,h=i,j=jQuery(k)},this.setHtml=function(a){if(f=a,"strip"==d.panelType)var b=g.strippanel_enable_handle;else var b=g.gridpanel_enable_handle;if(1==b&&(i=new UGPanelHandle,i.init(e,f,g,d.panelType,k),i.setHtml()),d.isDisabledAtStart===!0){var c="<div class='ug-overlay-disabled'></div>";f.append(c),setTimeout(function(){f.children(".ug-overlay-disabled").hide()},d.disabledAtStartTimeout)}},this.placeElements=function(){i&&i.placeHandle()},this.initEvents=function(){i&&(i.initEvents(),j.on(k.events.SLIDER_ACTION_START,function(){i.hideHandle()}),j.on(k.events.SLIDER_ACTION_END,function(){i.showHandle()}))},this.destroy=function(){i&&(i.destroy(),j.off(k.events.SLIDER_ACTION_START),j.off(k.events.SLIDER_ACTION_END))},this.openPanel=function(g){if(!g)var g=!1;return!f.is(":animated")&&(0!=d.isClosed&&(d.isClosed=!1,h.trigger(e.events.OPEN_PANEL),void(g===!1?a(d.originalPos,c):(b(d.originalPos),c()))))},this.closePanel=function(g){if(!g)var g=!1;if(f.is(":animated"))return!1;if(1==d.isClosed)return!1;var i=l.getClosedPanelDest();d.isClosed=!0,h.trigger(e.events.CLOSE_PANEL),g===!1?a(i,c):(b(i),c())},this.setClosedState=function(a){d.originalPos=a,h.trigger(e.events.CLOSE_PANEL),d.isClosed=!0},this.setOpenedState=function(a){h.trigger(e.events.OPEN_PANEL),d.isClosed=!1},this.getClosedPanelDest=function(){var a,b=m.getElementSize(f);switch(d.orientation){case"left":d.originalPos=b.left,a=-d.panelWidth;break;case"right":d.originalPos=b.left;var c=k.getSize();a=c.width;break;case"top":d.originalPos=b.top,a=-d.panelHeight;break;case"bottom":d.originalPos=b.top;var c=k.getSize();a=c.height}return a},this.isPanelClosed=function(){return d.isClosed},this.setDisabledAtStart=function(a){return!(0>=a)&&(d.isDisabledAtStart=!0,void(d.disabledAtStartTimeout=a))}}function UGPanelHandle(){function a(){h.removeClass("ug-button-hover")}function b(){h.addClass("ug-button-closed")}function c(){h.removeClass("ug-button-closed")}function d(a){return a.stopPropagation(),a.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(a.type)||void(g.isPanelClosed()?g.openPanel():g.closePanel())}function e(){var a=g.getOrientation();switch(a){case"right":case"left":"top"!=j.panel_handle_align&&"bottom"!=j.panel_handle_align&&(j.panel_handle_align="top");break;case"bottom":"left"!=j.panel_handle_align&&"right"!=j.panel_handle_align&&(j.panel_handle_align="left");break;case"top":"left"!=j.panel_handle_align&&"right"!=j.panel_handle_align&&(j.panel_handle_align="right")}}var f,g,h,i=new UGFunctions,j={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(a,b,c,d,e){switch(g=a,f=b,d){case"grid":j.panel_handle_align=c.gridpanel_handle_align,j.panel_handle_offset=c.gridpanel_handle_offset,j.panel_handle_skin=c.gridpanel_handle_skin;break;case"strip":j.panel_handle_align=c.strippanel_handle_align,j.panel_handle_offset=c.strippanel_handle_offset,j.panel_handle_skin=c.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+d)}var h=e.getOptions(),i=h.gallery_skin;""==j.panel_handle_skin&&(j.panel_handle_skin=i)},this.setHtml=function(){var a=g.getOrientation(),b="ug-panel-handle-tip";switch(a){case"right":b+=" ug-handle-tip-left";break;case"left":b+=" ug-handle-tip-right";break;case"bottom":b+=" ug-handle-tip-top";break;case"top":b+=" ug-handle-tip-bottom"}f.append("<div class='"+b+" ug-skin-"+j.panel_handle_skin+"'></div>"),h=f.children(".ug-panel-handle-tip")},this.initEvents=function(){i.addClassOnHover(h),h.bind("click touchstart",d),jQuery(g).on(g.events.OPEN_PANEL,function(){a(),c()}),jQuery(g).on(g.events.CLOSE_PANEL,function(){a(),b()})},this.destroy=function(){i.destroyButton(h),jQuery(g).off(g.events.OPEN_PANEL),jQuery(g).off(g.events.CLOSE_PANEL)},this.placeHandle=function(){var a=i.getElementSize(h);e();var b=g.getOrientation();switch(b){case"left":i.placeElement(h,"right",j.panel_handle_align,-a.width);break;case"right":i.placeElement(h,-a.width,j.panel_handle_align,0,j.panel_handle_offset);break;case"top":i.placeElement(h,j.panel_handle_align,"bottom",j.panel_handle_offset,-a.height);break;case"bottom":i.placeElement(h,j.panel_handle_align,"top",j.panel_handle_offset,-a.height);break;default:throw new Error("Wrong panel orientation: "+b)}},this.hideHandle=function(){1==h.is(":visible")&&h.hide()},this.showHandle=function(){0==h.is(":visible")&&h.show()}}function UGStripPanel(){function a(a,b){y=a,r=jQuery(y),C=jQuery.extend(C,b);var c=!1;1==C.strippanel_vertical_type&&(C=jQuery.extend(C,D),c=!0),0==C.strippanel_enable_buttons&&(C=jQuery.extend(C,E),c=!0),1==c&&(C=jQuery.extend(C,b));var d=y.getOptions(),e=d.gallery_skin;""==C.strippanel_buttons_skin&&(C.strippanel_buttons_skin=e),s=y.getElement(),B.init(y,F,w,C,x),A=new UGThumbsStrip,A.init(y,C)}function b(){if(0==C.strippanel_vertical_type){if(0==F.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==F.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==F.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function c(){return(1!=F.isFirstRun||0!=b())&&(A.run(),h(),k(),q(),F.isFirstRun=!1,void n())}function d(a){if(!a)var a=s;if(a.append("<div class='ug-strip-panel'></div>"),t=a.children(".ug-strip-panel"),1==C.strippanel_enable_buttons){var b="ug-strip-arrow-left",c="ug-strip-arrow-right";1==C.strippanel_vertical_type&&(b="ug-strip-arrow-up",c="ug-strip-arrow-down"),t.append("<div class='ug-strip-arrow "+b+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),t.append("<div class='ug-strip-arrow "+c+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}B.setHtml(t),A.setHtml(t),1==C.strippanel_enable_buttons&&(v=t.children("."+b),u=t.children("."+c)),e()}function e(){""!=C.strippanel_background_color&&t.css("background-color",C.strippanel_background_color)}function f(){var a=A.getHeight(),b=F.panelWidth;if(u){v.height(a),u.height(a);var c=v.children(".ug-strip-arrow-tip");z.placeElement(c,"center","middle");var d=u.children(".ug-strip-arrow-tip");z.placeElement(d,"center","middle")}var e=a+C.strippanel_padding_top+C.strippanel_padding_bottom;t.width(b),t.height(e),F.panelHeight=e;var f=b-C.strippanel_padding_left-C.strippanel_padding_right;if(u){var g=u.outerWidth();f=f-2*g-2*C.strippanel_padding_buttons}A.resize(f)}function g(){var a=A.getWidth(),b=F.panelHeight;if(u){v.width(a),u.width(a);var c=v.children(".ug-strip-arrow-tip");z.placeElement(c,"center","middle");var d=u.children(".ug-strip-arrow-tip");z.placeElement(d,"center","middle")}var e=a+C.strippanel_padding_left+C.strippanel_padding_right;t.width(e),t.height(b),F.panelWidth=e;var f=b-C.strippanel_padding_top-C.strippanel_padding_bottom;if(u){var g=u.outerHeight();f=f-2*g-2*C.strippanel_padding_buttons}A.resize(f)}function h(){0==C.strippanel_vertical_type?f():g()}function i(){u&&(z.placeElement(v,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),z.placeElement(u,"right","top",C.strippanel_padding_right,C.strippanel_padding_top));var a=C.strippanel_padding_left;u&&(a+=u.outerWidth()+C.strippanel_padding_buttons),A.setPosition(a,C.strippanel_padding_top)}function j(){u&&(z.placeElement(v,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),z.placeElement(u,"left","bottom",C.strippanel_padding_left,C.strippanel_padding_bottom));var a=C.strippanel_padding_top;u&&(a+=u.outerHeight()+C.strippanel_padding_buttons),A.setPosition(C.strippanel_padding_left,a)}function k(){0==C.strippanel_vertical_type?i():j(),B.placeElements()}function l(a){return!!z.isButtonDisabled(a)||void("advance_item"==C.strippanel_buttons_role?y.nextItem():A.scrollForeward())}function m(a){return!!z.isButtonDisabled(a)||void("advance_item"==C.strippanel_buttons_role?y.prevItem():A.scrollBack())}function n(){if(!u)return!0;if(0==A.isMoveEnabled())return z.disableButton(v),z.disableButton(u),!0;var a=A.getInnerStripLimits(),b=A.getInnerStripPos();b>=a.maxPos?z.disableButton(v):z.enableButton(v),b<=a.minPos?z.disableButton(u):z.enableButton(u)}function o(){n()}function p(){y.isLastItem()?z.disableButton(u):z.enableButton(u),y.isFirstItem()?z.disableButton(v):z.enableButton(v)}function q(){if(1==F.isEventsInited)return!1;if(F.isEventsInited=!0,u)if(z.addClassOnHover(u,"ug-button-hover"),z.addClassOnHover(v,"ug-button-hover"),z.setButtonOnClick(v,m),z.setButtonOnClick(u,l),"advance_item"!=C.strippanel_buttons_role)jQuery(A).on(A.events.STRIP_MOVE,o),jQuery(A).on(A.events.INNER_SIZE_CHANGE,n),r.on(y.events.SIZE_CHANGE,n);else{var a=y.getOptions();0==a.gallery_carousel&&jQuery(y).on(y.events.ITEM_CHANGE,p)}B.initEvents()}var r,s,t,u,v,w=this,x=jQuery(this),y=new UniteGalleryMain,z=new UGFunctions,A=new UGThumbsStrip,B=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var C={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},D={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},E={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},F={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){u&&(z.destroyButton(u),z.destroyButton(v),jQuery(A).off(A.events.STRIP_MOVE),jQuery(y).off(y.events.ITEM_CHANGE),jQuery(y).off(y.events.SIZE_CHANGE)),B.destroy(),A.destroy()},this.getOrientation=function(){return F.orientation},this.setOrientation=function(a){F.orientation=a},this.init=function(b,c){a(b,c)},this.run=function(){c()},this.setHtml=function(a){d(a)},this.getElement=function(){return t},this.getSize=function(){var a=z.getElementSize(t);return a},this.setWidth=function(a){F.panelWidth=a},this.setHeight=function(a){F.panelHeight=a},this.resize=function(a){w.setWidth(a),h(),k()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return B.isPanelClosed()},this.getClosedPanelDest=function(){return B.getClosedPanelDest()},this.openPanel=function(a){B.openPanel(a)},this.closePanel=function(a){B.closePanel(a)},this.setOpenedState=function(a){B.setOpenedState(a)},this.setClosedState=function(a){B.setClosedState(a)},this.setCustomThumbs=function(a){A.setCustomThumbs(a)},this.setDisabledAtStart=function(a){B.setDisabledAtStart(a)}}function UGGridPanel(){function a(a,c){B=a,b(),c&&c.vertical_scroll&&(F.gridpanel_vertical_scroll=c.vertical_scroll),F=jQuery.extend(F,c),1==I.isHorType?(F=jQuery.extend(F,H),F=jQuery.extend(F,c)):1==F.gridpanel_vertical_scroll&&(F=jQuery.extend(F,G),F=jQuery.extend(F,c),F.grid_panes_direction="bottom");var d=B.getOptions(),e=d.gallery_skin;""==F.gridpanel_arrows_skin&&(F.gridpanel_arrows_skin=e);var f=a.getObjects();v=f.g_objWrapper,E.init(B,I,z,F,A),D=new UGThumbsGrid,D.init(B,F)}function b(){if(null==I.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function c(){b(),f(),D.run(),i(),j(),u(),k()}function d(){v.append("<div class='ug-grid-panel'></div>"),w=v.children(".ug-grid-panel"),I.isHorType?(w.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-left-hortype"),x=w.children(".grid-arrow-right-hortype")):0==F.gridpanel_vertical_scroll?(w.append("<div class='grid-arrow grid-arrow-left ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-left"),x=w.children(".grid-arrow-right")):(w.append("<div class='grid-arrow grid-arrow-up ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-down ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-up"),x=w.children(".grid-arrow-down")),E.setHtml(w),y.fadeTo(0,0),x.fadeTo(0,0),D.setHtml(w),e()}function e(){""!=F.gridpanel_background_color&&w.css("background-color",F.gridpanel_background_color)}function f(){"center"==F.gridpanel_grid_align&&(F.gridpanel_grid_align="middle")}function g(){var a=F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom,b=I.panelHeight-a;if(0==F.gridpanel_arrows_always_on){var c=D.getNumPanesEstimationByHeight(b);if(1==c)return b}var d=C.getElementSize(x),e=d.height,a=e+F.gridpanel_arrows_padding_vert;return 1==F.gridpanel_vertical_scroll&&(a*=2),a+=F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom,b=I.panelHeight-a}function h(){var a=F.gridpanel_padding_border_left+F.gridpanel_padding_border_right,b=I.panelWidth-a;if(0==F.gridpanel_arrows_always_on){var c=D.getNumPanesEstimationByWidth(b);if(1==c)return b}var d=C.getElementSize(x),e=d.width;return a+=2*(e+F.gridpanel_arrows_padding_hor),b=I.panelWidth-a}function i(){var a=!1;if(1==F.gridpanel_arrows_always_on)a=!0;else{var b=D.getNumPanes();b>1&&(a=!0)}1==a?(x.show().fadeTo(0,1),y.show().fadeTo(0,1),I.arrowsVisible=!0):(x.hide(),y.hide(),I.arrowsVisible=!1)}function j(){var a=D.getSize();1==I.isHorType?I.panelHeight=a.height+F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom:I.panelWidth=a.width+F.gridpanel_padding_border_left+F.gridpanel_padding_border_right,C.setElementSize(w,I.panelWidth,I.panelHeight)}function k(){return 1!=I.isEventsInited&&(I.isEventsInited=!0,y&&(C.addClassOnHover(y),D.attachPrevPaneButton(y)),x&&(C.addClassOnHover(x),D.attachNextPaneButton(x)),void E.initEvents())}function l(){var a=F.gridpanel_padding_border_left;return a}function m(){var a=F.gridpanel_grid_align,b=0;switch(a){case"top":b=F.gridpanel_padding_border_top;break;case"bottom":b=F.gridpanel_padding_border_bottom}var c=l(),d=D.getElement();C.placeElement(d,c,a,0,b)}function n(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize();switch(F.gridpanel_grid_align){default:case"top":a=F.gridpanel_padding_border_top+e.height+F.gridpanel_arrows_padding_vert;break;case"middle":a="middle";break;case"bottom":a=I.panelHeight-f.height-e.height-F.gridpanel_padding_border_bottom-F.gridpanel_arrows_padding_vert}var g=l(),h=D.getElement();C.placeElement(h,g,a);var f=D.getSize();switch(F.gridpanel_arrows_align_vert){default:case"center":case"middle":b=(f.top-e.height)/2,c=f.bottom+(I.panelHeight-f.bottom-e.height)/2,d=0;break;case"grid":b=f.top-e.height-F.gridpanel_arrows_padding_vert_vert,c=f.bottom+F.gridpanel_arrows_padding_vert,d=0;break;case"border":case"borders":b=F.gridpanel_padding_border_top,c="bottom",d=F.gridpanel_padding_border_bottom}C.placeElement(y,"center",b),C.placeElement(x,"center",c,0,d)}function o(){1==I.arrowsVisible?n():m()}function p(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize(),g=F.gridpanel_padding_border_top;switch(F.gridpanel_grid_align){case"middle":switch(F.gridpanel_arrows_align_vert){default:var h=f.height+F.gridpanel_arrows_padding_vert+e.height;g=(I.panelHeight-h)/2;break;case"border":case"borders":var i=I.panelHeight-e.height-F.gridpanel_padding_border_bottom;g=(i-f.height)/2}break;case"bottom":var h=f.height+e.height+F.gridpanel_arrows_padding_vert;g=I.panelHeight-h-F.gridpanel_padding_border_bottom}var j=D.getElement(),k=l();C.placeElement(j,k,g);var f=D.getSize();switch(F.gridpanel_arrows_align_vert){default:case"center":case"middle":a=f.bottom+(I.panelHeight-f.bottom-e.height)/2,c=0;break;case"grid":a=f.bottom+F.gridpanel_arrows_padding_vert,c=0;break;case"border":case"borders":a="bottom",c=F.gridpanel_padding_border_bottom}b=-e.width/2-F.gridpanel_space_between_arrows/2,C.placeElement(y,"center",a,b,c);var d=Math.abs(b);C.placeElement(x,"center",a,d,c)}function q(){1==I.arrowsVisible?p():m()}function r(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize();switch(F.gridpanel_grid_align){default:case"left":a=F.gridpanel_padding_border_left+F.gridpanel_arrows_padding_hor+e.width;break;case"middle":case"center":a="center";break;case"right":a=I.panelWidth-f.width-e.width-F.gridpanel_padding_border_right-F.gridpanel_arrows_padding_hor}var g=D.getElement();switch(C.placeElement(g,a,F.gridpanel_padding_border_top),f=D.getSize(),F.gridpanel_arrows_align_vert){default:case"center":case"middle":d=(f.height-e.height)/2+f.top;break;case"top":d=F.gridpanel_padding_border_top+F.gridpanel_arrows_padding_vert;break;case"bottom":d=I.panelHeight-F.gridpanel_padding_border_bottom-F.gridpanel_arrows_padding_vert-e.height}switch(F.gridpanel_arrows_align_hor){default:case"borders":b=F.gridpanel_padding_border_left,c=I.panelWidth-F.gridpanel_padding_border_right-e.width;break;case"grid":b=f.left-F.gridpanel_arrows_padding_hor-e.width,c=f.right+F.gridpanel_arrows_padding_hor;break;case"center":b=(f.left-e.width)/2,c=f.right+(I.panelWidth-f.right-e.width)/2}C.placeElement(y,b,d),C.placeElement(x,c,d)}function s(){var a,b=D.getSize();switch(F.gridpanel_grid_align){default:case"left":a=F.gridpanel_padding_border_left;break;case"middle":case"center":a="center";break;case"right":a=I.panelWidth-b.width-F.gridpanel_padding_border_right}var c=D.getElement();C.placeElement(c,a,F.gridpanel_padding_border_top)}function t(){1==I.arrowsVisible?r():s()}function u(){0==I.isHorType?1==F.gridpanel_vertical_scroll?o():q():t(),E.placeElements()}var v,w,x,y,z=this,A=jQuery(this),B=new UniteGalleryMain,C=new UGFunctions,D=new UGThumbsGrid,E=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var F={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},G={gridpanel_grid_align:"middle",
gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},H={gridpanel_grid_align:"center"},I={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){y&&C.destroyButton(y),x&&C.destroyButton(x),E.destroy(),D.destroy()},this.getOrientation=function(){return I.orientation},this.setOrientation=function(a){switch(I.orientation=a,a){case"right":case"left":I.isHorType=!1;break;case"top":case"bottom":I.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+a)}},this.setHeight=function(a){if(1==I.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+I.orientation+"). Please use setWidth");I.panelHeight=a;var b=g();D.setMaxHeight(b)},this.setWidth=function(a){if(0==I.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+I.orientation+"). Please use setHeight");I.panelWidth=a;var b=h();D.setMaxWidth(b)},this.init=function(b,c){a(b,c)},this.setHtml=function(){d()},this.run=function(){c()},this.getElement=function(){return w},this.getSize=function(){var a=C.getElementSize(w);return a},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return E.isPanelClosed()},this.getClosedPanelDest=function(){return E.getClosedPanelDest()},this.openPanel=function(a){E.openPanel(a)},this.closePanel=function(a){E.closePanel(a)},this.setOpenedState=function(a){E.setOpenedState(a)},this.setClosedState=function(a){E.setClosedState(a)},this.setDisabledAtStart=function(a){E.setDisabledAtStart(a)}}function UGThumbsGrid(){function a(a,b,c){if(K=a.getObjects(),R=a,R.attachThumbsPanel("grid",P),J=jQuery(a),L=K.g_objWrapper,M=K.g_arrItems,c===!0&&(W.isTilesMode=!0),W.numThumbs=M.length,l(b),1==W.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(B),U.init(a,V);var d=U.getOptions();W.tileMaxHeight=d.tile_height,W.tileMaxWidth=d.tile_width,T=U.getObjThumbs()}else b.thumb_fixed_size=!0,T.init(a,b)}function b(a){var b=L;a&&(b=a),b.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),N=b.children(".ug-thumbs-grid"),O=N.children(".ug-thumbs-grid-inner"),1==W.isTilesMode?U.setHtml(O):T.setHtmlThumbs(O)}function c(){if(0==W.isHorizontal){if(0==W.gridHeight)throw new Error("You must set height before run.")}else if(0==W.gridWidth)throw new Error("You must set width before run.")}function d(){var a=R.getSelectedItem();if(c(),1==W.isFirstTimeRun)I(),1==W.isTilesMode?(f(),j(),U.run()):(T.setHtmlProperties(),j(),T.loadThumbsImages());else if(1==W.isTilesMode){var b=f();1==b&&(j(),U.run())}if(p(),1==W.isFirstTimeRun&&W.isTilesMode){var d=T.getThumbs();d.each(function(a,b){L.trigger(W.eventSizeChange,jQuery(b))}),d.fadeTo(0,1)}null!=a&&k(a.index),Q.trigger(P.events.PANE_CHANGE,W.currentPane),W.isFirstTimeRun=!1}function e(){if(1==W.isTilesMode)var a=U.getGlobalTileSize();else var a=T.getGlobalThumbSize();return a}function f(){if(0==W.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var a=!1,b=R.isMobileMode(),c=W.spaceBetweenCols;1==b?(W.spaceBetweenCols=V.grid_space_between_mobile,W.spaceBetweenRows=V.grid_space_between_mobile):(W.spaceBetweenCols=V.grid_space_between_cols,W.spaceBetweenRows=V.grid_space_between_rows),W.spaceBetweenCols!=c&&(a=!0);var d=e(),f=d.width,g=W.tileMaxWidth,h=S.getNumItemsInSpace(W.gridWidth,W.tileMaxWidth,W.spaceBetweenCols);return h<V.grid_min_cols&&(g=S.getItemSizeInSpace(W.gridWidth,V.grid_min_cols,W.spaceBetweenCols)),U.setTileSizeOptions(g),g!=f&&(a=!0),a}function g(){var a=e(),b=a.height,c=W.gridWidth,d=V.grid_num_rows*b+(V.grid_num_rows-1)*W.spaceBetweenRows+2*V.grid_padding;W.gridHeight=d,S.setElementSize(N,c,d),S.setElementSize(O,c,d),W.innerWidth=c,W.innerHeight=d}function h(){var a=e(),b=a.width,c=V.grid_num_cols*b+(V.grid_num_cols-1)*W.spaceBetweenCols+2*V.grid_padding,d=W.gridHeight;W.gridWidth=c,S.setElementSize(N,c,d),S.setElementSize(O,c,d),W.innerWidth=c,W.innerHeight=d}function j(){0==W.isHorizontal?h():g()}function k(a){var b=y(a);return-1!=b&&void P.gotoPane(b,"scroll")}function l(a){V=jQuery.extend(V,a),T.setOptions(a),W.isNavigationVertical="top"==V.grid_panes_direction||"bottom"==V.grid_panes_direction,W.spaceBetweenCols=V.grid_space_between_cols,W.spaceBetweenRows=V.grid_space_between_rows}function m(){var a=O.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,g=0;W.innerWidth=0,W.numPanes=1,W.arrPanes=[],W.numThumbsInPane=0,W.arrPanes.push(e);var h=a.length;for(i=0;i<h;i++){var j=jQuery(a[i]);S.placeElement(j,b,c);var k=j.outerWidth(),l=j.outerHeight();b>f&&(f=b);var m=c+l;m>g&&(g=m);var n=f+k;n>W.innerWidth&&(W.innerWidth=n),b+=k+W.spaceBetweenCols,d++,d>=V.grid_num_cols&&(c+=l+W.spaceBetweenRows,b=e,d=0),1==W.numPanes&&W.numThumbsInPane++,c+l>W.gridHeight&&(c=0,e=W.innerWidth+W.spaceBetweenCols,b=e,d=0,1==W.isMaxHeight&&1==W.numPanes&&(W.gridHeight=g,N.height(W.gridHeight)),i<h-1&&(W.numPanes++,W.arrPanes.push(e)))}O.width(W.innerWidth),1==W.isMaxHeight&&1==W.numPanes&&(W.gridHeight=g,N.height(g))}function n(){var a=O.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,g=0;W.innerWidth=0,W.numPanes=1,W.arrPanes=[],W.numThumbsInPane=0,W.arrPanes.push(f);var h=a.length;for(i=0;i<h;i++){var j=jQuery(a[i]);S.placeElement(j,b,c);var k=j.outerWidth(),l=j.outerHeight();b+=k+W.spaceBetweenCols;var m=c+l;m>d&&(d=m),e++,e>=V.grid_num_cols&&(c+=l+W.spaceBetweenRows,b=f,e=0),1==W.numPanes&&W.numThumbsInPane++,m=c+l;var n=g+W.gridHeight;m>n&&(1==W.isMaxHeight&&1==W.numPanes&&(W.gridHeight=d,N.height(W.gridHeight),n=W.gridHeight),c=n+W.spaceBetweenRows,g=c,f=0,b=f,e=0,i<h-1&&(W.numPanes++,W.arrPanes.push(c)))}O.height(d),W.innerHeight=d,1==W.isMaxHeight&&1==W.numPanes&&(W.gridHeight=d,N.height(d))}function o(){var a=O.children(".ug-thumb-wrapper"),b=V.grid_padding,c=V.grid_padding,d=c,e=b,f=0,g=0,h=0,j=0,k=0;W.innerWidth=0,W.numPanes=1,W.arrPanes=[],W.numThumbsInPane=0,W.arrPanes.push(b-V.grid_padding);var l=a.length;for(i=0;i<l;i++){var m=jQuery(a[i]),n=m.outerWidth(),o=m.outerHeight();e-b+n>W.gridWidth&&(k++,d=0,k>=V.grid_num_rows?(k=0,b=e,d=c,h=0,1==W.numPanes&&(W.gridWidth=f+V.grid_padding,N.width(W.gridWidth),W.gridHeight=j+V.grid_padding,N.height(W.gridHeight)),W.numPanes++,W.arrPanes.push(b-V.grid_padding)):(e=b,d=h+W.spaceBetweenRows)),S.placeElement(m,e,d);var p=e+n;p>f&&(f=p);var q=d+o;q>h&&(h=q),q>j&&(j=q),q>g&&(g=q);var p=f+n;p>W.innerWidth&&(W.innerWidth=p),e+=n+W.spaceBetweenCols,1==W.numPanes&&W.numThumbsInPane++}W.innerWidth=f+V.grid_padding,W.innerHeight=j+V.grid_padding,O.width(W.innerWidth),O.height(W.innerHeight),1==W.numPanes&&(W.gridWidth=f+V.grid_padding,W.gridHeight=j+V.grid_padding,N.width(W.gridWidth),N.height(W.gridHeight))}function p(){0==W.isHorizontal?W.isNavigationVertical?n():m():o()}function q(a){if(0>a||a>=W.numThumbs)throw new Error("Thumb not exists: "+a);return!0}function r(a){if(a>=W.numPanes||0>a)throw new Error("Pane "+index+" doesn't exists.");return!0}function s(a){var b=w(a);return 0!=b&&void O.css(b)}function t(a){var b=w(a);return 0!=b&&void O.stop(!0).animate(b,{duration:V.grid_transition_duration,easing:V.grid_transition_easing,queue:!1})}function u(){var a=-W.arrPanes[W.currentPane];t(a)}function v(){return 1==W.isNavigationVertical?W.gridHeight:W.gridWidth}function w(a){var b={};return 1==W.isNavigationVertical?b.top=a+"px":b.left=a+"px",b}function x(){var a=S.getElementSize(O);return 1==W.isNavigationVertical?a.top:a.left}function y(a){if(0==q(a))return-1;var b=Math.floor(a/W.numThumbsInPane);return b}function z(){if(1==W.numPanes)return!1;var a=S.getStoredEventData(W.storedEventID),b=a.diffTime,c=x(),d=Math.abs(c-a.startInnerPos);return d>30||d>5&&b>300}function A(){var a=S.getStoredEventData(W.storedEventID),b=x();diffPos=Math.abs(a.startInnerPos-b);var c=v(),d=Math.round(3*c/8);return diffPos>=d||a.diffTime<300&&diffPos>25}function B(){if(1==W.numPanes)return!0;var a=S.isApproveStoredEventClick(W.storedEventID,W.isNavigationVertical);return a}function C(a){if(1==z())return!0;var b=jQuery(this),c=T.getItemByThumb(b);R.selectItem(c)}function D(a){if(1==W.numPanes)return!0;if(1==W.touchActive)return!0;0==W.isTilesMode&&a.preventDefault(),W.touchActive=!0;var b={startInnerPos:x()};S.storeEventData(a,W.storedEventID,b)}function E(){if(0==V.grid_vertical_scroll_ondrag)return!1;if(1==W.isNavigationVertical)return!1;var a=S.handleScrollTop(W.storedEventID);return"vert"===a}function F(a){if(0==W.touchActive)return!0;a.preventDefault(),S.updateStoredEventData(a,W.storedEventID);var b=S.getStoredEventData(W.storedEventID,W.isNavigationVertical),c=E();if(c)return!0;var d=b.diffMousePos,e=b.startInnerPos+d,f=d>0?"prev":"next",g=W.arrPanes[W.numPanes-1];0==V.grid_carousel&&e>0&&"prev"==f&&(e/=3),0==V.grid_carousel&&-g>e&&"next"==f&&(e=b.startInnerPos+d/3),s(e)}function G(a){if(0==W.touchActive)return!0;S.updateStoredEventData(a,W.storedEventID);var b=S.getStoredEventData(W.storedEventID,W.isNavigationVertical);if(W.touchActive=!1,0==A())return u(),!0;var c=x(),d=c-b.startInnerPos,e=d>0?"prev":"next";"next"==e?0==V.grid_carousel&&P.isLastPane()?u():P.nextPane():0==V.grid_carousel&&P.isFirstPane()?u():P.prevPane()}function H(){var a=R.getSelectedItem();T.setThumbSelected(a.objThumbWrapper),k(a.index)}function I(){if(0==W.isTilesMode){T.initEvents();var a=N.find(".ug-thumb-wrapper");a.on("click touchend",C),J.on(R.events.ITEM_CHANGE,H)}else U.initEvents();N.bind("mousedown touchstart",D),jQuery("body").bind("mousemove touchmove",F),jQuery(window).add("body").bind("mouseup touchend",G)}var J,K,L,M,N,O,P=this,Q=jQuery(this),R=new UniteGalleryMain,S=new UGFunctions,T=new UGThumbsGeneral,U=new UGTileDesign,V={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var W={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==W.isTilesMode){var a=N.find(".ug-thumb-wrapper");a.off("click"),a.off("touchend"),J.on(R.events.ITEM_CHANGE),T.destroy()}else U.destroy();N.unbind("mousedown"),N.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),Q.off(P.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(a){T.setThumbUnselected(a)},this.isItemThumbVisible=function(a){var b=a.index,c=y(b);return c==W.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(a){if(1==W.isTilesMode)var b=V.tile_height;else var c=T.getOptions(),b=c.thumb_height;var d=T.getNumThumbs(),e=Math.ceil(d/V.grid_num_cols),f=e*b+(e-1)*W.spaceBetweenRows,g=Math.ceil(f/a);return g},this.getNumPanesEstimationByWidth=function(a){if(W.isTilesMode)var b=V.tile_width;else var c=T.getOptions(),b=c.thumb_width;var d=T.getNumThumbs(),e=Math.ceil(d/V.grid_num_rows),f=e*b+(e-1)*W.spaceBetweenCols,g=Math.ceil(f/a);return g},this.getHeightEstimationByWidth=function(a){if(0==W.isTilesMode)throw new Error("This function works only with tiles mode");var b=T.getNumThumbs(),c=S.getNumItemsInSpace(a,V.tile_width,W.spaceBetweenCols),d=Math.ceil(b/c);d>V.grid_num_rows&&(d=V.grid_num_rows);var e=S.getSpaceByNumItems(d,V.tile_height,W.spaceBetweenRows);return e+=2*V.grid_padding},this.getElement=function(){return N},this.getSize=function(){var a=S.getElementSize(N);return a},this.getNumPanes=function(){return W.numPanes},this.isFirstPane=function(){return 0==W.currentPane},this.isLastPane=function(){return W.currentPane==W.numPanes-1},this.getPaneInfo=function(){var a={pane:W.currentPane,total:W.numPanes};return a},this.getPane=function(){return W.currentPane},this.setWidth=function(a){W.gridWidth=a,W.isHorizontal=!0},this.setMaxWidth=function(a){W.gridWidth=a,W.isMaxWidth=!0,W.isHorizontal=!0},this.setHeight=function(a){W.gridHeight=a,W.isHorizontal=!1},this.setMaxHeight=function(a){W.gridHeight=a,W.isMaxHeight=!0,W.isHorizontal=!1},this.gotoPane=function(a,b){if(0==r(a))return!1;if(a==W.currentPane)return!1;var c=-W.arrPanes[a];W.currentPane=a,t(c),Q.trigger(P.events.PANE_CHANGE,a)},this.nextPane=function(){var a=W.currentPane+1;if(a>=W.numPanes){if(0==V.grid_carousel)return!0;a=0}P.gotoPane(a,"next")},this.prevPane=function(){var a=W.currentPane-1;return!(0>a&&(a=W.numPanes-1,0==V.grid_carousel))&&void P.gotoPane(a,"prev")},this.attachNextPaneButton=function(a){return S.setButtonOnClick(a,P.nextPane),1==V.grid_carousel||(P.isLastPane()&&a.addClass("ug-button-disabled"),void Q.on(P.events.PANE_CHANGE,function(){P.isLastPane()?a.addClass("ug-button-disabled"):a.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(a){return S.setButtonOnClick(a,P.prevPane),1==V.grid_carousel||(P.isFirstPane()&&a.addClass("ug-button-disabled"),void Q.on(P.events.PANE_CHANGE,function(){P.isFirstPane()?a.addClass("ug-button-disabled"):a.removeClass("ug-button-disabled")}))},this.attachBullets=function(a){a.setActive(W.currentPane),jQuery(a).on(a.events.BULLET_CLICK,function(b,c){P.gotoPane(c,"theme"),a.setActive(c)}),jQuery(P).on(P.events.PANE_CHANGE,function(b,c){a.setActive(c)})},this.getObjTileDesign=function(){return U},this.init=function(b,c,d){a(b,c,d)},this.run=function(){d()},this.setHtml=function(a){b(a)}}function UGTiles(){function a(a,c){g_objects=a.getObjects(),fa=a,Z=jQuery(a),$=g_objects.g_objWrapper,aa=g_objects.g_arrItems,ka=jQuery.extend(ka,c),b(),ha.init(a,ka),ia=ha.getObjThumbs()}function b(){ka.tiles_min_columns<1&&(ka.tiles_min_columns=1),0!=ka.tiles_max_columns&&ka.tiles_max_columns<ka.tiles_min_columns&&(ka.tiles_max_columns=ka.tiles_min_columns)}function c(a){if(!a)if(_)a=_;else var a=$;_=a;var b=ka.tiles_type;a.addClass("ug-tiletype-"+b),ha.setHtml(a),a.children(".ug-thumb-wrapper").hide()}function d(){if(_.addClass("ug-tiles-rest-mode"),la.isTransInited=!0,1==ka.tiles_enable_transition){_.addClass("ug-tiles-transit");var a=ha.getOptions();1==a.tile_enable_image_effect&&0==a.tile_image_effect_reverse&&_.addClass("ug-tiles-transit-overlays"),la.isTransActive=!0}}function e(){return ga.getElementSize(_).width}function f(){return 0!=la.isTransInited&&(_.addClass("ug-tiles-transition-active"),_.removeClass("ug-tiles-rest-mode"),0!=la.isTransActive&&void ha.disableEvents())}function g(){return 0!=la.isTransInited&&(_.removeClass("ug-tiles-transition-active"),void _.addClass("ug-tiles-rest-mode"))}function h(){1==la.isTransActive?(setTimeout(function(){ha.enableEvents(),ha.triggerSizeChangeEventAllTiles(),g()},800),la.handle&&clearTimeout(la.handle),la.handle=setTimeout(function(){g(),ha.triggerSizeChangeEventAllTiles(),la.handle=null},2e3)):(ha.triggerSizeChangeEventAllTiles(),g())}function i(){ja.colWidth=(ja.availWidth-ja.colGap*(ja.numCols-1))/ja.numCols,ja.colWidth=Math.floor(ja.colWidth),ja.totalWidth=ga.getSpaceByNumItems(ja.numCols,ja.colWidth,ja.colGap)}function j(){if(ja.colWidth=ka.tiles_col_width,ja.minCols=ka.tiles_min_columns,ja.maxCols=ka.tiles_max_columns,0==fa.isMobileMode()?ja.colGap=ka.tiles_space_between_cols:ja.colGap=ka.tiles_space_between_cols_mobile,ja.galleryWidth=e(),ja.availWidth=ja.galleryWidth,1==ka.tiles_include_padding&&(ja.availWidth=ja.galleryWidth-2*ja.colGap),1==ka.tiles_exact_width)ja.numCols=ga.getNumItemsInSpace(ja.availWidth,ja.colWidth,ja.colGap),ja.maxCols>0&&ja.numCols>ja.maxCols&&(ja.numCols=ja.maxCols),ja.numCols<ja.minCols?(ja.numCols=ja.minCols,i()):ja.totalWidth=ja.numCols*(ja.colWidth+ja.colGap)-ja.colGap;else{var a=ga.getNumItemsInSpaceRound(ja.availWidth,ja.colWidth,ja.colGap);a<ja.minCols?a=ja.minCols:0!=ja.maxCols&&a>ja.maxCols&&(a=ja.maxCols),ja.numCols=a,i()}switch(ka.tiles_align){case"center":default:ja.addX=Math.round((ja.galleryWidth-ja.totalWidth)/2);break;case"left":ja.addX=0;break;case"right":ja.addX=ja.galleryWidth-ja.totalWidth}for(ja.arrPosx=[],col=0;col<ja.numCols;col++){var b=ga.getColX(col,ja.colWidth,ja.colGap);ja.arrPosx[col]=b+ja.addX}}function k(){ja.maxColHeight=0,ja.colHeights=[0]}function l(){var a=0,b=999999999;for(col=0;col<ja.numCols;col++){if(void 0==ja.colHeights[col]||0==ja.colHeights[col])return col;ja.colHeights[col]<b&&(a=col,b=ja.colHeights[col])}return a}function m(a,b,c,d){if(null===d||"undefined"==typeof d)var d=l();var e=0;void 0!==ja.colHeights[d]&&(e=ja.colHeights[d]);var f=ha.getTileHeightByWidth(ja.colWidth,a);if(null===f){if(1==ka.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var g=ga.getElementSize(a);f=g.height}var h=ja.arrPosx[d];ga.placeElement(a,h,e);var i=e+f;ja.colHeights[d]=i+ja.colGap,ja.maxColHeight<i&&(ja.maxColHeight=i),1==b&&a.show().fadeTo(0,1),1==c&&_.height(ja.maxColHeight)}function n(a){a||(a=!1),j(),k();var b=ia.getThumbs(ia.type.GET_THUMBS_RATIO);f(),ha.resizeAllTiles(ja.colWidth,ha.resizemode.VISIBLE_ELEMENTS,b);for(var c=0;c<b.length;c++){var d=jQuery(b[c]),e=void 0;1==ka.tiles_keep_order&&(e=ga.getColByIndex(ja.numCols,c)),m(d,a,!1,e)}h();var g=_.height();1==la.isTransActive&&g>ja.maxColHeight?setTimeout(function(){_.height(ja.maxColHeight)},700):_.height(ja.maxColHeight)}function o(a){var b=a.index(),c=fa.getItem(b);if(c.ordered_placed===!0)return!1;var d=ga.getPrevRowSameColIndex(b,ja.numCols);if(0>d)return!0;var e=fa.getItem(d);return e.ordered_placed===!0}function p(a,b){if(b!==!0){var c=o(a);if(0==c)return!1}var d=a.index(),e=ga.getColByIndex(ja.numCols,d),f=fa.getItem(d);ha.resizeTile(a,ja.colWidth),m(a,!0,!0,e),f.ordered_placed=!0;var g=fa.getNumItems(),h=ga.getNextRowSameColIndex(d,ja.numCols);if(h>=g)return!1;var i=ia.getThumbByIndex(h),j=fa.getItem(h);ia.isThumbLoaded(i),ia.isThumbLoaded(i)&&!j.ordered_placed&&p(i,!0)}function q(a,b){if(1==b)return!1;a=jQuery(a);var c=jQuery(a).parent();ia.triggerImageLoadedEvent(c,a),1==ka.tiles_keep_order?p(c):(ha.resizeTile(c,ja.colWidth),m(c,!0,!0))}function r(){var a=ia.getThumbs(ia.type.GET_THUMBS_NO_RATIO);if(!a||0==a.length)return!1;if(la.isAllLoaded=!1,1==la.isFirstPlaced){j(),k();var b=Math.abs(ja.galleryWidth-ja.totalWidth);if(1==ka.tiles_set_initial_height&&0==ga.isScrollbarExists()&&25>b){var c=(a.length,Math.ceil(a.length/ja.numCols)),e=c*ka.tiles_col_width*.75;_.height(e),j()}}a.fadeTo(0,0);var f=a.find("img.ug-thumb-image"),g=ja.numCols,h=ja.galleryWidth;ga.checkImagesLoaded(f,function(){j(),(g!=ja.numCols||h!=ja.galleryWidth)&&n(!1),d(),ea.trigger(da.events.ALL_TILES_LOADED)},function(a,b){1==la.isFirstPlaced&&fa.triggerEvent(da.events.TILES_FIRST_PLACED),q(a,b)})}function s(){var a=e(),b=ia.getThumbs(!0),c=ka.tiles_justified_row_height,d=[],f=0,g=ka.tiles_justified_space_between,h=b.length;jQuery.each(b,function(a,b){b=jQuery(b);var e=ia.getItemByThumb(b),g=e.thumbWidth,h=e.thumbHeight;h!==c&&(g=Math.floor(e.thumbRatioByWidth*c)),d[a]=g,f+=g});var i=Math.ceil(f/a);i>h&&(i=h);var j=f/i,k=[],l=0,m=[],n=[],o=0,p=0;jQuery.each(b,function(a,b){var c=d[a];o+c/2>(p+1)*j&&(m[k.length]=l,k.push(n),n=[],l=0,p++),o+=c,l+=c,n.push(b)}),m[k.length]=l,k.push(n);var q=[],r=[],s=0;jQuery.each(k,function(b,e){var f=(e.length,m[b]),h=(e.length-1)*g,i=(a-h)/f,j=Math.round(c*i);s+=j,b>0&&(s+=g),r.push(j);var k=j/c,l=[],n=h;jQuery.each(e,function(a,b){var c=jQuery(b),e=c.index(),f=d[e],g=Math.round(f*k);l[a]=g,n+=g});var o=n-a;jQuery.each(l,function(a,b){return 0!=o&&(0>o?(l[a]=b+1,o++):(l[a]=b-1,o--),void(a==l.length-1&&0!=o&&(l[a]-=o)))}),q[b]=l});var t={arrRows:k,arrRowWidths:q,arrRowHeights:r,gap:g,totalHeight:s};return t}function t(a){if(!a)var a=!1;var b=e(),c=s();_.height(c.totalHeight);var d=e();d!=b&&(c=s()),f();var g=0,i=0;jQuery.each(c.arrRows,function(b,d){var e=c.arrRowWidths[b],f=c.arrRowHeights[b],h=0;jQuery.each(d,function(b,d){var j=jQuery(d),k=f,l=e[b];ha.resizeTile(j,l,k,ha.resizemode.VISIBLE_ELEMENTS),ga.placeElement(j,h,g),h+=l,h>i&&(i=h),h+=c.gap,1==a&&jQuery(d).show()}),g+=f+c.gap}),h()}function u(){var a=jQuery($).find("img.ug-thumb-image"),b=ia.getThumbs();la.isAllLoaded=!1,b.fadeTo(0,0),ga.checkImagesLoaded(a,function(){setTimeout(function(){t(!0),b.fadeTo(0,1),fa.triggerEvent(da.events.TILES_FIRST_PLACED),d(),ea.trigger(da.events.ALL_TILES_LOADED)})},function(a,b){a=jQuery(a);var c=jQuery(a).parent();ia.triggerImageLoadedEvent(c,a)})}function v(){var a=jQuery($).find("img.ug-thumb-image"),b=ia.getThumbs();la.isAllLoaded=!1,b.fadeTo(0,0),ga.checkImagesLoaded(a,function(){1==fa.isMobileMode()?n(!0):x(!0),fa.triggerEvent(da.events.TILES_FIRST_PLACED),d(),ea.trigger(da.events.ALL_TILES_LOADED)},function(a,b){a=jQuery(a);var c=jQuery(a).parent();ia.triggerImageLoadedEvent(c,a)})}function w(){var a=e();ma.galleryWidth=a,ba={},ma.colWidth=ka.tiles_nested_col_width,ma.optimalTileWidth=ka.tiles_nested_optimal_tile_width,ma.currentGap=ka.tiles_space_between_cols,1==fa.isMobileMode()&&(ma.currentGap=ka.tiles_space_between_cols_mobile),null==ma.colWidth?ma.colWidth=Math.floor(ma.optimalTileWidth/ma.nestedOptimalCols):ma.optimalTileWidth>ma.colWidth?ma.nestedOptimalCols=Math.ceil(ma.optimalTileWidth/ma.colWidth):ma.nestedOptimalCols=1,ma.maxColumns=ga.getNumItemsInSpace(a,ma.colWidth,ma.currentGap),ma.colWidth=ga.getItemSizeInSpace(a,ma.maxColumns,ma.currentGap),ma.gridY=0,ca=[];var b=ia.getThumbs(!0);switch(b.each(function(){var a=jQuery(this),b=y(a);ca.push(b)}),ma.optimalTileWidth>ma.colWidth?ma.nestedOptimalCols=Math.ceil(ma.optimalTileWidth/ma.colWidth):ma.nestedOptimalCols=1,ma.totalWidth=ma.maxColumns*(ma.colWidth+ma.currentGap)-ma.currentGap,ka.tiles_align){case"center":default:ma.addX=Math.round((ma.galleryWidth-ma.totalWidth)/2);break;case"left":ma.addX=0;break;case"right":ma.addX=ma.galleryWidth-ma.totalWidth}ma.maxGridY=0}function x(a){var b=e();w(),B();var c=ma.maxGridY*(ma.colWidth+ma.currentGap)-ma.currentGap;_.height(c);var d=e();d!=b&&(w(),B()),0==ka.tiles_nested_debug&&U(a)}function y(a){var b,c,d={},e=ma.colWidth,f=ma.currentGap,g=ha.getTileImageSize(a),h=a.index(),i=Math.ceil(z(h)*(1*ma.nestedOptimalCols/3)+2*ma.nestedOptimalCols/3),j=g.width,k=g.height,l=j/k;return j>k?(b=i,c=Math.round(b/l),0==c&&(c=1)):(c=i,b=Math.round(c*l),0==b&&(b=1)),d.dimWidth=b,d.dimHeight=c,d.width=b*e+f*(b-1),d.height=c*e+f*(c-1),d.imgWidth=j,d.imgHeight=k,d.left=0,d.top=0,d}function z(a){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(a))))}function A(a,b){if(0==b){for(var c=ma.currentItem;c<ca.length;c++)C(c,!0);ma.currentItem=ca.length-1}else C(ma.currentItem,!0);for(var c=0;c<=ma.currentItem;c++)V(c,!0);ma.currentItem++}function B(a){if(1==ka.tiles_nested_debug)return"undefined"==typeof a&&(a=!0),A(!0,a),!1;for(var b=0;b<ca.length;b++)C(b,!0)}function C(a,b){if(!b)var b=!1;ma.maxColHeight=0;for(var c=ga.getObjectLength(ba),d=ma.gridY;c+1>=d;d++){for(var e=0;e<ma.maxColumns;e++)if(0==P(ma.gridY)||0==S(ma.gridY,e)){var f=O(e);return void D(a,f,e)}ma.gridY++}}function D(a,b,c){var d=jQuery.extend(!0,{},ca[a]),e=d.dimWidth,f=b-d.dimWidth,g=ma.nestedOptimalCols,h=b<=d.dimWidth||.33*g>=f||g>=b;if(h)K(a,b);else if(g>=f)g>=4?1==N(Math.floor(b/2),c)?K(a,Math.floor(b/2)+1):K(a,Math.floor(b/2)):K(objImage,b);else if(1==N(e,c))switch(e>=g){case!0:K(a,e-1);break;case!1:K(a,e+1)}d=jQuery.extend(!0,{},ca[a]);var i=I(a,d.dimWidth,c);if(ma.columnsValueToEnableHeightResize<=i[0]&&ma.maxColumns>=2*ma.nestedOptimalCols){var j=J(c,d),k=L(a,j.newHeight,!0);ca[a].dimHeight=k.dimHeight;var l=H(i,k.dimWidth,c),m=E(l),n=!1;m>=2&&(n=!0),j.newHeight>=d.dimHeight&&(d=L(a,j.newHeight,!0));var o=F(j.idToResize,j.newHeight,d.dimHeight);d.top=ma.gridY,d.left=c,o.push({tileID:a,sizes:d});var p=M(o),q=M(l);return q>p||1==n?void G(o):void G(l)}d.left=c,d.top=ma.gridY,ca[a]=d,Q(a,d,c,ma.gridY),ma.maxGridY=d.top+d.dimHeight}function E(a){for(var b=0,c=0,d=0;d<a.length-1;d++){var e=a[d].sizes,f=-1,g=-1;P(e.top+e.dimHeight)&&ma.maxColumns>e.left+e.dimWidth&&(f=ba[e.top+e.dimHeight-1][e.left+e.dimWidth],g=ba[e.top+e.dimHeight][e.left+e.dimWidth]),f!=g&&b++}for(var d=0;d<a.length-1;d++){var e=a[d].sizes,f=-1,g=-1;P(e.top+e.dimHeight)&&e.left-1>=0&&(f=ba[e.top+e.dimHeight-1][e.left-1],g=ba[e.top+e.dimHeight][e.left-1]),f!=g&&c++}return Math.max(c,b)}function F(a,b,c){var d=ca[a],e=d.dimHeight,f=(d.dimWidth,d.left),g=d.top,h=(parseInt(g/(ma.colWidth+ma.currentGap)),parseInt(f/(ma.colWidth+ma.currentGap)),e-b+c),i=L(a,h,!0),j=[];return j.push({tileID:a,sizes:i}),j}function G(a){for(var b=0;b<a.length;b++){var c=a[b].sizes,d=a[b].tileID;ca[d]=jQuery.extend(!0,{},c),Q(d,c,c.left,c.top)}}function H(a,b){for(var c=0,d=0,e=[],f=0,g=0,h=0;h<a[1].length;h++){var i=a[1][h],j=ca[a[1][h]];if(d+=j.dimHeight,0!=h)c+=j.dimHeight,e.push([i,j.dimHeight]);else{var k=K(i,b,!0);c+=k.dimHeight,e.push([a[1][h],k.dimHeight])}}f=j.left,g=j.top;for(var l=d,m=[],h=e.length-1;h>=0;h--){var n,i=e[h][0];0!=h?(n=Math.max(Math.round(1*d/3),Math.floor(e[h][1]*(d/c))),l-=n,k=L(i,n,!0),k.left=f,k.top=g,m.push({tileID:i,sizes:k}),g+=k.dimHeight):(n=l,k=L(i,n,!0),k.left=f,k.top=g,m.push({tileID:i,sizes:k}))}return m}function I(a,b,c){var d=ma.gridY-1,e=0,f=0,g=1,h=[],i=[];if(h.push(a),d>=0){for(f=0;d>=0;){if(e=ba[d][c],"undefined"!=typeof ba[d][c-1]&&ba[d][c-1]==ba[d][c]||"undefined"!=typeof ba[d][c+b]&&ba[d][c+b-1]==ba[d][c+b]||ba[d][c]!=ba[d][c+b-1])return i.push(g),i.push(h),i;f!=e&&(g++,h.push(e)),d--,f=e}return i.push(g),i.push(h),i}return[0,[]]}function J(a,b){var c=0,d=0,e=b.dimWidth,f=b.dimHeight,g=0,h=0,i=jQuery.map(ba,function(a,b){return[a]});if("undefined"==typeof i[ma.gridY]||"undefined"==typeof i[ma.gridY][a-1])d=0;else for(var j=0;"undefined"!=typeof ba[ma.gridY+j]&&-1!=ba[ma.gridY+j][a-1];)g=ba[ma.gridY+j][a-2],j++,d++;if("undefined"==typeof i[ma.gridY]||"undefined"==typeof i[ma.gridY][a+e])c=0;else for(j=0;"undefined"!=typeof ba[ma.gridY+j]&&-1!=ba[ma.gridY+j][a+e];)h=ba[ma.gridY+j][a+e+1],j++,c++;var k=0,l=0;Math.abs(f-d)<Math.abs(f-c)&&0!=d?(k=d,l=g):0!=c?(k=c,l=h):k=f;var m={newHeight:k,idToResize:l};return m}function K(a,b,c){c||(c=!1);var d=ma.colWidth,e=ma.currentGap,f=ca[a],g=f.imgWidth,h=f.imgHeight,i=g/h;if(dimWidth=b,dimHeight=Math.round(dimWidth/i),1==c){var j=jQuery.extend(!0,{},f);return j.dimWidth=dimWidth,j.dimHeight=dimHeight,j.width=dimWidth*d+e*(dimWidth-1),j.height=dimHeight*d+e*(dimHeight-1),j}f.dimWidth=dimWidth,f.dimHeight=dimHeight,f.width=dimWidth*d+e*(dimWidth-1),f.height=dimHeight*d+e*(dimHeight-1)}function L(a,b,c){c||(c=!1);var d=ca[a],e=d.dimWidth,f=ma.colWidth,g=ma.currentGap;if(1==c){var h=jQuery.extend(!0,{},d);return h.dimHeight=b,h.width=e*f+g*(e-1),h.height=b*f+g*(b-1),h}d.dimHeight=b,d.width=e*f+g*(e-1),d.height=b*f+g*(b-1)}function M(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=ca[a[d].tileID];if(0==e.dimHeight||0==e.height)return;resizeVal=e.dimWidth/e.dimHeight/(e.imgWidth/e.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),b+=resizeVal,c++}return b/c}function N(a,b){var c=ma.gridY-1;return!(0>=c||0==P(c))&&ba[c][b+a-1]!=ba[c][b+a]}function O(a){var b=a,c=0;if(1==P(ma.gridY))for(;0==S(ma.gridY,b);)c++,b++;else c=ma.maxColumns;return c}function P(a){return"undefined"!=typeof ba[a]}function Q(a,b,c,d){for(var e=0;e<b.dimHeight;e++)for(var f=0;f<b.dimWidth;f++)0==P(d+e)&&R(d+e),T(d+e,c+f,a)}function R(a){ba[a]=new Object;for(var b=0;b<ma.maxColumns;b++)ba[a][b]=-1}function S(a,b){return-1!=ba[a][b]}function T(a,b,c){ba[a][b]=c}function U(a){if(!a)var a=!1;f();for(var b=0;b<ca.length;b++)V(b,a);_.height(ma.maxColHeight),h()}function V(a,b){var c=ia.getThumbByIndex(a),d=ca[a],e=d.top*(ma.colWidth+ma.currentGap),f=ma.addX+d.left*(ma.colWidth+ma.currentGap);ha.resizeTile(c,d.width,d.height,ha.resizemode.VISIBLE_ELEMENTS),ga.placeElement(c,f,e),e+d.height>ma.maxColHeight&&(ma.maxColHeight=e+d.height),1==b&&c.fadeTo(0,1)}function W(){if(1==la.isFirstTimeRun)return!0;if(0==la.isAllLoaded)return!1;switch(ka.tiles_type){case"columns":n(!1);break;case"justified":t(!1);break;case"nested":var a=fa.isMobileMode();1==a?n(!1):x(!1)}}function X(){ea.on(da.events.ALL_TILES_LOADED,function(){la.isAllLoaded=!0}),Z.on(fa.events.SIZE_CHANGE,W),Z.on(da.events.TILES_FIRST_PLACED,function(){la.isFirstPlaced=!1}),ha.initEvents()}function Y(){switch($.children(".ug-tile").show(),1==la.isFirstTimeRun&&X(),ha.run(),ka.tiles_type){default:case"columns":r();break;case"justified":u();break;case"nested":v()}la.isFirstTimeRun=!1}var Z,$,_,aa,ba,ca,da=this,ea=jQuery(this),fa=new UniteGalleryMain,ga=new UGFunctions,ha=new UGTileDesign,ia=new UGThumbsGeneral,ja={},ka={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var la={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},ma={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){Z.off(fa.events.SIZE_CHANGE),ha.destroy(),Z.off(da.events.TILES_FIRST_PLACED)},this.init=function(b,c){a(b,c)},this.setHtml=function(a){c(a)},this.getObjTileDesign=function(){return ha},this.run=function(){Y()},this.runNewItems=function(){if(!_)throw new Error("Can't run new items - parent not set");switch(ha.setHtml(_,!0),ha.run(!0),ka.tiles_type){case"columns":r();break;default:case"justified":case"nested":throw new Error("Tiles type: "+ka.tiles_type+" not support load more yet")}}}function UGTileDesign(){function a(a,c){O=a,I=jQuery(a);var e=O.getObjects();K=e.g_objWrapper,L=O.getArrItems(),R=jQuery.extend(R,S),R=jQuery.extend(R,c),b(),Q.init(a,R);var f={allow_onresize:!1},g=["overlay"];T.funcCustomTileHtml&&(g=[]),Q.setCustomThumbs(d,g,f);var h=Q.getOptions();R=jQuery.extend(R,h),T.ratioByWidth=R.tile_width/R.tile_height,T.ratioByHeight=R.tile_height/R.tile_width,R.tile_size_by==M.sizeby.GLOBAL_RATIO&&T.isTextpanelOutside&&(T.hasImageContainer=!0)}function b(){if(1==R.tile_enable_overlay?(R.thumb_overlay_opacity=R.tile_overlay_opacity,R.thumb_overlay_color=R.tile_overlay_color):0==R.tile_enable_icons?R.thumb_color_overlay_effect=!1:R.thumb_overlay_opacity=0,R.tile_as_link&&(R.thumb_wrapper_as_link=!0,R.thumb_link_newpage=R.tile_link_newpage),1==R.tile_enable_outline&&0==R.tile_enable_border&&(R.tile_enable_outline=!1),T.tileInnerReduce=0,R.tile_enable_border&&(T.tileInnerReduce=2*R.tile_border_width,Q.setThumbInnerReduce(T.tileInnerReduce)),T.isSaparateIcons=!P.isRgbaSupported(),1==R.tile_enable_textpanel){switch(R.tile_textpanel_position){case"top":R.tile_textpanel_align="top";case"bottom":T.isTextpanelOutside=!0,R.tile_textpanel_always_on=!0,R.tile_textpanel_offset=0;break;case"inside_top":R.tile_textpanel_align="top";break;case"middle":R.tile_textpanel_align="middle",R.tile_textpanel_appear_type="fade"}0==R.tile_textpanel_always_on&&(T.isSaparateIcons=!0)}0!=R.tile_textpanel_offset&&(R.tile_textpanel_appear_type="fade",R.tile_textpanel_margin=R.tile_textpanel_offset),"title_and_desc"==R.tile_textpanel_source&&(R.tile_textpanel_enable_description=!0,R.tile_textpanel_desc_style_as_title=!0)}function c(){var a=O.isMobileMode();switch(T.isTextPanelHidden=!1,1==a&&0==R.tile_textpanel_always_on&&(T.isTextPanelHidden=!0),
T.isVideoplayIconAlwaysOn=R.tile_videoplay_icon_always_on,R.tile_videoplay_icon_always_on){case"always":T.isVideoplayIconAlwaysOn=!0;break;case"never":T.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":T.isVideoplayIconAlwaysOn=1==a;break;case"desktop_only":T.isVideoplayIconAlwaysOn=0==a}}function d(a,b){if(a.addClass("ug-tile"),T.funcCustomTileHtml)return T.funcCustomTileHtml(a,b),!1;var c="";1==T.hasImageContainer&&(c+="<div class='ug-image-container ug-trans-enabled'>");var d="ug-thumb-image";(0==R.tile_enable_image_effect||1==R.tile_image_effect_reverse)&&(d+=" ug-trans-enabled");var e=P.stripTags(b.title);e=P.htmlentitles(e),c+='<img src="'+P.escapeDoubleSlash(b.urlThumb)+"\" alt='"+e+"' class='"+d+"'>",1==T.hasImageContainer&&(c+="</div>"),a.append(c),R.tile_size_by==M.sizeby.GLOBAL_RATIO&&a.fadeTo(0,0);var f={};if(1==R.tile_enable_background&&(f["background-color"]=R.tile_background_color),1==R.tile_enable_border&&(f["border-width"]=R.tile_border_width+"px",f["border-style"]="solid",f["border-color"]=R.tile_border_color,R.tile_border_radius&&(f["border-radius"]=R.tile_border_radius+"px")),1==R.tile_enable_outline&&(f.outline="1px solid "+R.tile_outline_color),1==R.tile_enable_shadow){var g=R.tile_shadow_h+"px ";g+=R.tile_shadow_v+"px ",g+=R.tile_shadow_blur+"px ",g+=R.tile_shadow_spread+"px ",g+=R.tile_shadow_color,f["box-shadow"]=g}a.css(f);var h="";if(R.tile_enable_icons){if(0==R.tile_as_link&&1==R.tile_enable_action){var i="ug-button-play ug-icon-zoom";"image"!=b.type&&(i="ug-button-play ug-icon-play"),h+="<div class='ug-tile-icon "+i+"' style='display:none'></div>"}if(b.link&&1==R.tile_show_link_icon||1==R.tile_as_link)if(0==R.tile_as_link){var j="";1==R.tile_link_newpage&&(j=" target='_blank'"),h+="<a href='"+b.link+"'"+j+" class='ug-tile-icon ug-icon-link'></a>"}else h+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var l=T.isSaparateIcons;if(0==l&&"image"!=b.type&&1==T.isVideoplayIconAlwaysOn&&(l=!0),l)var m=a;else var m=a.children(".ug-thumb-overlay");m.append(h);var n=m.children("."+i);0==n.length?n=null:n.hide();var o=m.children(".ug-icon-link");0==o.length?o=null:o.hide(),o||1!=R.tile_enable_action||a.addClass("ug-tile-clickable")}else 1==R.tile_enable_action&&a.addClass("ug-tile-clickable");if(1==R.tile_enable_image_effect){var p="";0==R.tile_image_effect_reverse&&(p=" ug-trans-enabled");var q="<div class='ug-tile-image-overlay"+p+"' >",r=" ug-"+R.tile_image_effect_type+"-effect";q+='<img src="'+P.escapeDoubleSlash(b.urlThumb)+"\" alt='"+b.title+"' class='"+r+p+"'>",q+="</div>",a.append(q),1==R.tile_image_effect_reverse&&a.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==R.tile_enable_textpanel){var s=new UGTextPanel;s.init(O,R,"tile");var t="";(1==R.tile_textpanel_always_on||1==T.isTextpanelOutside)&&(t="ug-trans-enabled"),s.appendHTML(a,t);var u=b.title,v="";switch(R.tile_textpanel_source){case"desc":case"description":u=b.description;break;case"desc_title":""!=b.description&&(u=b.description);break;case"title_and_desc":u=b.title,v=b.description}if(s.setTextPlain(u,v),0==R.tile_textpanel_always_on&&s.getElement().fadeTo(0,0),a.data("objTextPanel",s),1==R.tile_textpanel_always_on){var w=k(a);w.css("z-index",2)}if(1==T.isTextpanelOutside){var x="<div class='ug-tile-cloneswrapper'></div>";a.append(x);var y=a.children(".ug-tile-cloneswrapper"),z=new UGTextPanel;z.init(O,R,"tile"),z.appendHTML(y),z.setTextPlain(u,v),a.data("objTextPanelClone",z)}}null!==b.addHtml&&a.append(b.addHtml)}function e(a){var b=a.children(".ug-tile-image-overlay");return b}function f(a){var b=a.children(".ug-thumb-overlay");return b}function g(a){if(0==T.hasImageContainer)return null;var b=a.children(".ug-image-container");return b}function h(a){var b=a.find(".ug-tile-image-overlay img");return b}function i(a){var b=a.data("objTextPanel");return b}function j(a){var b=a.data("objTextPanelClone");return b}function k(a){var b=a.children(".ug-textpanel");return b}function l(a){var b=a.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==b.length)throw new Error("text panel cloned element not found");return b}function m(a){if(1==T.isTextpanelOutside)var b=l(a);else var b=k(a);if(!b)return 0;var c=P.getElementSize(b);return c.height}function n(a){var b=a.find(".ug-icon-link");return 0==b.length?null:b}function o(a){var b=T.ratioByHeight;switch(R.tile_size_by){default:b=T.ratioByHeight;break;case M.sizeby.IMAGE_RATIO:if(!a)throw new Error("tile should be given for tile ratio");var c=M.getItemByTile(a);if("undefined"!=typeof c.thumbRatioByHeight){if(0==c.thumbRatioByHeight)throw trace(c),new Error("the item ratio not inited yet");b=c.thumbRatioByHeight}break;case M.sizeby.CUSTOM:return null}return b}function p(a){var b=a.find(".ug-button-play");return 0==b.length?null:b}function q(a){return!!a.hasClass("ug-thumb-over")}function r(a){return a.hasClass("ug-tile-clickable")}function s(a){return 1==R.tile_enable_icons&&1==T.isVideoplayIconAlwaysOn&&"image"!=a.type}function t(a,b,c,d){var f=e(a),i=M.getTileImage(a),j=h(a);b-=T.tileInnerReduce,c-=T.tileInnerReduce;var k=null;if(1==T.isTextpanelOutside){var l=m(a);if(c-=l,"top"==R.tile_textpanel_position&&(k=l),1==T.hasImageContainer){var n=g(a);P.setElementSize(n,b,c),null!==k&&P.placeElement(n,0,k)}}if(0==R.tile_enable_image_effect)P.scaleImageCoverParent(i,b,c),0==T.hasImageContainer&&null!==k&&P.placeElement(i,0,k);else{var o="nothing";d===!0&&0==T.isTextpanelOutside&&(o=1==R.tile_image_effect_reverse?"effect":"image"),"effect"!=o&&(P.setElementSize(f,b,c),null!==k&&P.placeElement(f,0,k),P.scaleImageCoverParent(j,b,c)),"image"!=o&&(1==T.hasImageContainer?P.scaleImageCoverParent(i,b,c):"effect"==o?(P.scaleImageCoverParent(i,b,c),null!==k&&P.placeElement(i,0,k)):P.cloneElementSizeAndPos(j,i,!1,null,k))}}function u(a,b,c,d){var e=null;if(c&&(e=c-T.tileInnerReduce),d&&(d-=T.tileInnerReduce),"clone"==b){var f=j(a);f.refresh(!0,!0,e);var g=M.getItemByTile(a);return g.textPanelCloneSizeSet=!0,!1}var h=i(a);if(!h)return!1;var k=null;1==T.isTextpanelOutside&&(k=m(a)),h.refresh(!1,!0,e,k);var l=1==R.tile_textpanel_always_on||"fade"==R.tile_textpanel_appear_type;if(l)if(1==T.isTextpanelOutside&&d&&"bottom"==R.tile_textpanel_position){var n=d-k;h.positionPanel(n)}else h.positionPanel()}function v(a){var b=(M.getItemByTile(a),p(a)),c=n(a),d=P.getElementSize(a);t(a,d.width,d.height),1==R.tile_enable_textpanel&&u(a,"regular",d.width,d.height);var e=d.width-T.tileInnerReduce,g=d.height-T.tileInnerReduce,h=0;if(1==T.isTextpanelOutside){var i=m(a);g-=i,"top"==R.tile_textpanel_position&&(h=i)}var j=f(a);if(P.setElementSizeAndPosition(j,0,h,e,g),b||c){var l=0;if(1==R.tile_enable_textpanel&&0==T.isTextPanelHidden&&0==T.isTextpanelOutside){var o=k(a),q=P.getElementSize(o);q.height>0&&(l=Math.floor(q.height/2*-1))}}if(b&&c){var r=P.getElementSize(b),s=P.getElementSize(c),v=R.tile_space_between_icons,w=r.width+v+s.width,x=Math.floor((d.width-w)/2);v>x&&(v=Math.floor((d.width-r.width-s.width)/3),w=r.width+v+s.width,x=Math.floor((d.width-w)/2)),P.placeElement(b,x,"middle",0,l),P.placeElement(c,x+r.width+v,"middle",0,l)}else b&&P.placeElement(b,"center","middle",0,l),c&&P.placeElement(c,"center","middle",0,l);b&&b.show(),c&&c.show()}function w(a,b){var c=(M.getItemByTile(a),e(a)),d=R.thumb_transition_duration;if(0==R.tile_image_effect_reverse){var f=M.getTileImage(a);b?(f.fadeTo(0,1),c.stop(!0).fadeTo(d,0)):c.stop(!0).fadeTo(d,1)}else b?c.stop(!0).fadeTo(d,1):c.stop(!0).fadeTo(d,0)}function x(a,b){var c=R.thumb_transition_duration,d=k(a);if(!d)return!0;if("slide"==R.tile_textpanel_appear_type){var e=P.getElementSize(d);if(0==e.width)return!1;var f=-e.height,g=0,h={},i={},j="bottom";"inside_top"==R.tile_textpanel_position&&(j="top"),h[j]=f+"px",i[j]=g+"px",1==b?(d.fadeTo(0,1),0==d.is(":animated")&&d.css(h),i.opacity=1,d.stop(!0).animate(i,c)):d.stop(!0).animate(h,c)}else 1==b?d.stop(!0).fadeTo(c,1):d.stop(!0).fadeTo(c,0)}function y(a,b,c){var d=R.thumb_transition_duration;c&&c===!0&&(d=0);var e=p(a),f=n(a),g=b?1:0;e&&e.stop(!0).fadeTo(d,g),f&&f.stop(!0).fadeTo(d,g)}function z(a,b){if(b=jQuery(b),R.tile_enable_image_effect&&w(b,!0),1==R.tile_enable_textpanel&&0==R.tile_textpanel_always_on&&0==T.isTextPanelHidden&&x(b,!0),T.isSaparateIcons&&1==R.tile_enable_icons){var c=1==R.thumb_overlay_reverse,d=M.getItemByTile(b);0==s(d)&&y(b,c,!1)}}function A(a,b){if(b=jQuery(b),R.tile_enable_image_effect&&w(b,!1),1==R.tile_enable_textpanel&&0==R.tile_textpanel_always_on&&x(b,!1),1==T.isSaparateIcons&&1==R.tile_enable_icons){var c=1!=R.thumb_overlay_reverse,d=M.getItemByTile(b);0==s(d)?y(b,c,!1):y(b,!0,!0)}}function B(a){var b=Q.getThumbs().not(a);b.each(function(a,b){Q.setThumbNormalStyle(jQuery(b))})}function C(a,b,c){return b=jQuery(b),1==R.tile_visible_before_image&&b.data("image_placed")!==!0&&c!==!0||(v(b),void Q.setThumbNormalStyle(b))}function D(a,b,c){v(b),c.fadeTo(0,1),b.data("image_placed",!0)}function E(a){return 1==r(a)?(N.trigger(M.events.TILE_CLICK,a),!0):void(0==q(a)&&(B(a),Q.setThumbOverStyle(a)))}function F(a){var b=jQuery(this),c=b.prop("tagName").toLowerCase(),d=!0;if(T.funcParentApproveClick&&0==T.funcParentApproveClick()&&(d=!1),"a"==c)0==d&&a.preventDefault();else if(0==q(b))1==d&&E(b);else{if(0==r(b))return!0;1==d&&N.trigger(M.events.TILE_CLICK,b)}}function G(a){a.stopPropagation();var b=jQuery(this).parents(".ug-tile"),c=!0;return T.funcParentApproveClick&&0==T.funcParentApproveClick()&&(c=!1),0==q(b)?(E(b),!0):1==c?(N.trigger(M.events.TILE_CLICK,b),!1):void 0}function H(a){var b=jQuery(this).parents(".ug-tile");T.funcParentApproveClick&&0==T.funcParentApproveClick()&&a.preventDefault(),0==q(b)&&0==R.tile_as_link&&(a.preventDefault(),E(b))}var I,J,K,L,M=this,N=jQuery(this),O=new UniteGalleryMain,P=new UGFunctions,Q=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var R={tile_width:250,tile_height:200,tile_size_by:M.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},S={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},T={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(a){var b=M.getTileImage(a);P.checkImagesLoaded(b,null,function(b,c){D(null,a,jQuery(b))})},this.setHtml=function(a,b){J=a,b!==!0&&c(),Q.setHtmlThumbs(a,b)},this.initEvents=function(){Q.initEvents(),jQuery(Q).on(Q.events.SETOVERSTYLE,z),jQuery(Q).on(Q.events.SETNORMALSTYLE,A),jQuery(Q).on(Q.events.PLACEIMAGE,D),K.on(T.eventSizeChange,C),J.on("click",".ug-tile",F),J.on("click",".ug-tile .ug-button-play",G),J.on("click",".ug-tile .ug-icon-link",H)},this.destroy=function(){if(J.off("click",".ug-tile"),J.off("click",".ug-tile .ug-button-play"),J.off("click",".ug-tile .ug-icon-link"),jQuery(Q).off(Q.events.SETOVERSTYLE),jQuery(Q).off(Q.events.SETNORMALSTYLE),jQuery(Q).off(Q.events.PLACEIMAGE),K.off(T.eventSizeChange),1==R.tile_enable_textpanel){var a=Q.getThumbs();jQuery.each(a,function(a,b){var c=i(jQuery(b));c&&c.destroy()})}Q.destroy()},this.init=function(b,c,d){a(b,c,d)},this.setFixedMode=function(){R.tile_size_by=M.sizeby.GLOBAL_RATIO,R.tile_visible_before_image=!0},this.setApproveClickFunction=function(a){T.funcParentApproveClick=a},this.resizeTile=function(a,b,c,d){if(1==T.isTextpanelOutside&&u(a,"clone",b),b){if(!c)var c=M.getTileHeightByWidth(b,a)}else var b=R.tile_width,c=R.tile_height;switch(P.setElementSize(a,b,c),d){default:case M.resizemode.FULL:M.triggerSizeChangeEvent(a,!0);break;case M.resizemode.WRAPPER_ONLY:return!0;case M.resizemode.VISIBLE_ELEMENTS:if(T.funcCustomTileHtml)return M.triggerSizeChangeEvent(a,!0),!0;t(a,b,c,!0),1==R.tile_enable_textpanel&&1==R.tile_textpanel_always_on&&b&&u(a,"regular",b,c)}},this.resizeAllTiles=function(a,b,d){c();var e=null;if(R.tile_size_by==M.sizeby.GLOBAL_RATIO&&(e=M.getTileHeightByWidth(a)),!d)var d=Q.getThumbs();d.each(function(c,d){M.resizeTile(jQuery(d),a,e,b)})},this.triggerSizeChangeEvent=function(a,b){if(!a)return!1;if(!b)var b=!1;K.trigger(T.eventSizeChange,[a,b])},this.triggerSizeChangeEventAllTiles=function(a){var b=Q.getThumbs();b.each(function(){var b=jQuery(this);M.triggerSizeChangeEvent(b,a)})},this.disableEvents=function(){var a=Q.getThumbs();a.css("pointer-events","none")},this.enableEvents=function(){var a=Q.getThumbs();a.css("pointer-events","auto")},this.setOptions=function(a){R=jQuery.extend(R,a),Q.setOptions(a)},this.setTileSizeOptions=function(a){if(R.tile_size_by!==M.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");R.tile_width=a,R.tile_height=Math.floor(a*T.ratioByHeight)},this.setCustomFunctions=function(a,b){T.funcCustomTileHtml=a,T.funcCustomPositionElements=b},this.run=function(a){var b=Q.type.GET_THUMBS_ALL;a===!0&&(b=Q.type.GET_THUMBS_NEW);var c=Q.getThumbs(b);R.tile_size_by==M.sizeby.GLOBAL_RATIO&&M.resizeAllTiles(R.tile_width,M.resizemode.WRAPPER_ONLY,c),1==R.tile_enable_image_effect&&0==R.tile_image_effect_reverse&&c.children(".ug-thumb-image").fadeTo(0,0),Q.setHtmlProperties(c),1==R.tile_visible_before_image&&(c.children(".ug-thumb-image").fadeTo(0,0),Q.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return Q},this.getOptions=function(){return R},this.getTileImage=function(a){var b=a.find("img.ug-thumb-image");return b},this.getItemByTile=function(a){return Q.getItemByThumb(a)},this.getTileHeightByWidth=function(a,b){var c=o(b);if(null===c)return null;var d=Math.floor((a-T.tileInnerReduce)*c)+T.tileInnerReduce;return b&&1==T.isTextpanelOutside&&R.tile_size_by==M.sizeby.IMAGE_RATIO&&(d+=m(b)),d},this.getTileImageSize=function(a){var b=M.getItemByTile(a);if(!b.thumbWidth||!b.thumbHeight)throw new Error("Can't get image size - image not inited.");var c={width:b.thumbWidth,height:b.thumbHeight};return c},this.getGlobalTileSize=function(){if(R.tile_size_by!=M.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");var a={width:R.tile_width,height:R.tile_height};return a}}function UGAviaControl(){function a(a){return 0==p?a.pageX:a.pageY}function b(b){jQuery("body").on("touchstart",function(a){return 0==q.isControlEnabled||void(q.touchEnabled=!0)}),jQuery("body").mousemove(function(b){if(0==q.isControlEnabled)return!0;if(1==q.touchEnabled)return jQuery("body").off("mousemove"),!0;q.isMouseInsideStrip=m.ismouseover();var c=j.isTouchMotionActive();if(1==q.isMouseInsideStrip&&0==c){var d=a(b);i(d)}else g()})}function c(a){var b=o.strip_padding_top,c=(o.strip_padding_bottom,m.height()),d=n.height();if(c>d)return null;var e=m.offset(),f=e.top,g=a-f-b;if(0>g)return null;var h=o.thumb_height,i=c-o.thumb_height,j=i-h;h>g&&(g=h),g>i&&(g=i);var k=(g-h)/j,l=(d-c)*k;return l=-1*Math.round(l)+b}function d(a){var b=o.strip_padding_left,c=o.strip_padding_right,d=m.width()-b-c,e=n.width();if(d>e)return null;var f=m.offset(),g=f.left,h=a-g-b,i=o.thumb_width,j=d-o.thumb_width,k=j-i;i>h&&(h=i),h>j&&(h=j);var l=(h-i)/k,p=(e-d)*l;return p=-1*Math.round(p)+b}function e(){if(0==q.is_strip_moving)return!1;var a=j.getInnerStripPos();Math.floor(a)==Math.floor(q.strip_finalPos)&&g();var b,c=Math.abs(q.strip_finalPos-a);1>c?b=c:(b=c/4,b>0&&1>b&&(b=1)),q.strip_finalPos<a&&(b=-1*b);var d=a+b;j.positionInnerStrip(d)}function f(){return 1!=q.isStripMoving&&(q.isStripMoving=!0,void(q.handle_timeout=setInterval(e,10)))}function g(){return 0!=q.isStripMoving&&(q.isStripMoving=!1,void(q.handle_timeout=clearInterval(q.handle_timeout)))}function h(a){return 0==p?d(a):c(a)}function i(a){var b=h(a);return null!==b&&(q.is_strip_moving=!0,q.strip_finalPos=b,void f())}var j,k,l,m,n,o,p,q={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){q.isControlEnabled=!0},this.disable=function(){q.isControlEnabled=!1},this.init=function(a){j=a,l=a.getObjects(),k=l.g_gallery,m=l.g_objStrip,n=l.g_objStripInner,o=l.g_options,p=l.isVertical,b()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function a(a,b,d){ra=a,d&&(oa=d,b=wa.convertCustomPrefixOptions(b,oa,"slider")),ba=jQuery(a);var e=ra.getObjects();if(ca=e.g_objWrapper,da=e.g_objThumbs,b.hasOwnProperty("slider_progress_indicator_type")&&(za.slider_progress_indicator_type=b.slider_progress_indicator_type),"bar"==za.slider_progress_indicator_type&&(za=jQuery.extend(za,Aa)),b&&pa.setOptions(b),c(),1==za.slider_enable_bullets){ua=new UGBullets;var f={bullets_skin:za.slider_bullets_skin,bullets_space_between:za.slider_bullets_space_between};ua.init(ra,f)}za.slider_enable_text_panel&&(ya=new UGTextPanel,ya.init(ra,za,"slider")),za.slider_enable_zoom_panel&&(na=new UGZoomButtonsPanel,na.init(pa,za));var g=ra.getGalleryID();va.init(za,!1,g)}function b(){if(1==Ba.isRunOnce)return!1;if(Ba.isRunOnce=!0,za.slider_background_color){var a=za.slider_background_color;1!=za.slider_background_opacity&&(a=wa.convertHexToRGB(a,za.slider_background_opacity)),ea.css("background-color",a)}else 1!=za.slider_background_opacity&&(a=wa.convertHexToRGB("#000000",za.slider_background_opacity),ea.css("background-color",a));1==za.slider_control_swipe&&(la=new UGTouchSliderControl,la.init(pa,za)),1==za.slider_control_zoom&&(ma=new UGZoomSliderControl,ma.init(pa,za)),ya&&ya.run(),W()}function c(){var a=ra.getOptions(),b=a.gallery_skin;""==za.slider_bullets_skin&&(za.slider_bullets_skin=b),""==za.slider_arrows_skin&&(za.slider_arrows_skin=b),""==za.slider_zoompanel_skin&&(za.slider_zoompanel_skin=b),""==za.slider_play_button_skin&&(za.slider_play_button_skin=b),""==za.slider_fullscreen_button_skin&&(za.slider_fullscreen_button_skin=b),za.video_enable_closebutton=za.slider_video_enable_closebutton,"zoom"!=a.gallery_mousewheel_role&&(za.slider_zoom_mousewheel=!1)}function d(a,b){var c="ug-type-square";"round"==za.slider_videoplay_button_type&&(c="ug-type-round");var d="";return d+="<div class='ug-slide-wrapper ug-slide"+b+"'>",d+="<div class='ug-item-wrapper'></div>",d+="<div class='ug-slider-preloader "+a+"'></div>",d+="<div class='ug-button-videoplay "+c+"' style='display:none'></div>",d+="</div>"}function e(a){a&&(ca=a);var b=X(),c=(ra.getOptions(),"<div class='ug-slider-wrapper'>");if(c+="<div class='ug-slider-inner'>",c+=d(b,1),c+=d(b,2),c+=d(b,3),c+="</div>",1==za.slider_enable_arrows&&(c+="<div class='ug-slider-control ug-arrow-left ug-skin-"+za.slider_arrows_skin+"'></div>",c+="<div class='ug-slider-control ug-arrow-right ug-skin-"+za.slider_arrows_skin+"'></div>"),1==za.slider_enable_play_button&&(c+="<div class='ug-slider-control ug-button-play ug-skin-"+za.slider_play_button_skin+"'></div>"),1==za.slider_enable_fullscreen_button&&(c+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+za.slider_fullscreen_button_skin+"'></div>"),c+="</div>",ca.append(c),ea=ca.children(".ug-slider-wrapper"),fa=ea.children(".ug-slider-inner"),ga=fa.children(".ug-slide1"),ha=fa.children(".ug-slide2"),ia=fa.children(".ug-slide3"),ga.data("slidenum",1),ha.data("slidenum",2),ia.data("slidenum",3),ua&&ua.appendHTML(ea),1==za.slider_enable_arrows&&(ja=ea.children(".ug-arrow-left"),ka=ea.children(".ug-arrow-right")),1==za.slider_enable_play_button&&(sa=ea.children(".ug-button-play")),1==za.slider_enable_fullscreen_button&&(ta=ea.children(".ug-button-fullscreen")),1==za.slider_enable_progress_indicator){xa=wa.initProgressIndicator(za.slider_progress_indicator_type,za,ea);var e=xa.getType();"bar"==e&&"pie"==za.slider_progress_indicator_type&&(za.slider_progress_indicator_type="bar",za=jQuery.extend(za,Aa)),ra.setProgressIndicator(xa)}if(1==za.slider_enable_text_panel&&(ya.appendHTML(ea),0==za.slider_textpanel_always_on)){var f=ya.getElement();f.hide().data("isHidden",!0),Ba.isTextPanelSaparateHover=!0}1==za.slider_enable_zoom_panel&&na.appendHTML(ea),va.setHtml(fa)}function f(a){var b=$(a);wa.placeElementInParentCenter(b);var c=_(a);wa.placeElementInParentCenter(c)}function g(){if(ua&&(objBullets=ua.getElement(),wa.placeElement(objBullets,za.slider_bullets_align_hor,za.slider_bullets_align_vert,za.slider_bullets_offset_hor,za.slider_bullets_offset_vert),wa.placeElement(objBullets,za.slider_bullets_align_hor,za.slider_bullets_align_vert,za.slider_bullets_offset_hor,za.slider_bullets_offset_vert)),1==za.slider_enable_arrows&&(wa.placeElement(ja,za.slider_arrow_left_align_hor,za.slider_arrow_left_align_vert,za.slider_arrow_left_offset_hor,za.slider_arrow_left_offset_vert),wa.placeElement(ka,za.slider_arrow_right_align_hor,za.slider_arrow_left_align_vert,za.slider_arrow_right_offset_hor,za.slider_arrow_right_offset_vert)),0==za.slider_controls_always_on&&F(!0),xa){var a=xa.getElement();if("bar"==za.slider_progress_indicator_type){var b=ea.width();xa.setSize(b),wa.placeElement(a,"left",za.slider_progress_indicator_align_vert,0,za.slider_progress_indicator_offset_vert)}else wa.placeElement(a,za.slider_progress_indicator_align_hor,za.slider_progress_indicator_align_vert,za.slider_progress_indicator_offset_hor,za.slider_progress_indicator_offset_vert)}ya&&ya.positionPanel(),h(),f(ga),f(ha),f(ia),D()}function h(){if(sa&&wa.placeElement(sa,za.slider_play_button_align_hor,za.slider_play_button_align_vert,za.slider_play_button_offset_hor,za.slider_play_button_offset_vert),ta&&wa.placeElement(ta,za.slider_fullscreen_button_align_hor,za.slider_fullscreen_button_align_vert,za.slider_fullscreen_button_offset_hor,za.slider_fullscreen_button_offset_vert),na){var a=na.getElement();wa.placeElement(a,za.slider_zoompanel_align_hor,za.slider_zoompanel_align_vert,za.slider_zoompanel_offset_hor,za.slider_zoompanel_offset_vert)}}function i(){var a,b,c,d,e=pa.getSlidesReference(),f=0,g=0,h=0;c=pa.isSlideHasItem(e.objNextSlide),d=pa.isSlideHasItem(e.objPrevSlide),d?(h=e.objPrevSlide.outerWidth(),e.objPrevSlide.css("z-index",1)):e.objPrevSlide.hide(),b=h+e.objCurrentSlide.outerWidth(),a=b,c?(a=b+e.objNextSlide.outerWidth(),e.objPrevSlide.css("z-index",2)):e.objNextSlide.hide(),e.objCurrentSlide.css("z-index",3),wa.placeElement(e.objCurrentSlide,h,f),fa.css({left:-h+"px",width:a+"px"}),d&&(wa.placeElement(e.objPrevSlide,g,f),wa.showElement(e.objPrevSlide)),c&&(wa.showElement(e.objNextSlide),wa.placeElement(e.objNextSlide,b,f))}function j(a){var b=a.data("index");if(void 0===b||null==b)return!1;var c=ra.getItem(b);return!!c&&void q(a,c)}function k(a){a.stop(!0).show(100)}function l(a){a.stop(!0).hide(100)}function m(a,b){var c=za.slider_image_border_width;if(10>=c)return c;var d=wa.getElementSize(a),e=d.width,f=d.height;if(b&&(b.hasOwnProperty("imageWidth")&&(e=b.imageWidth),b.hasOwnProperty("imageHeight")&&(f=b.imageHeight)),0>=e)return c;var g=f>e?e:f,h=2*c,i=h/g;if(i<za.slider_image_border_maxratio)return c;var c=g*za.slider_image_border_maxratio/2;return c=Math.round(c)}function n(a,b,c){var d={};if(1==za.slider_image_border){d["border-style"]="solid";var e=m(a,c);d["border-width"]=e+"px",d["border-color"]=za.slider_image_border_color,d["border-radius"]=za.slider_image_border_radius}"image"!=b&&1==za.slider_video_constantsize&&(d["background-color"]="#000000"),1==za.slider_image_shadow&&(d["box-shadow"]="3px 3px 10px 0px #353535"),a.css(d)}function o(a,b){var c=za.slider_video_constantsize_width,d=za.slider_video_constantsize_height,e=za.slider_video_constantsize_scalemode,f=wa.scaleImageExactSizeInParent(a,b.imageWidth,b.imageHeight,c,d,e);return f}function p(a,b,c){var d=a.children(".ug-item-wrapper"),e=$(a);if("undefined"==typeof b.urlImage||""==b.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var f=b.urlImage,g=a.data("urlImage");a.data("urlImage",f);var h=pa.getScaleMode(a),i=pa.getSlideType(a);if(objPadding=pa.getObjImagePadding(),g==f&&c!==!0){var j=d.children("img");(0==b.imageWidth||0==b.imageHeight)&&ra.checkFillImageSize(j,b);var m={};m="image"!=i&&1==za.slider_video_constantsize?o(j,b):wa.scaleImageFitParent(j,b.imageWidth,b.imageHeight,h,objPadding),n(j,i,m),qa.trigger(pa.events.AFTER_PUT_IMAGE,a)}else if(j=wa.placeImageInsideParent(f,d,b.imageWidth,b.imageHeight,h,objPadding),1==b.isBigImageLoaded){if(j.fadeTo(0,1),l(e),"image"!=i&&1==za.slider_video_constantsize)var m=o(j,b);else var m=wa.getImageInsideParentData(d,b.imageWidth,b.imageHeight,h,objPadding);j.css("width",m.imageWidth+"px"),n(j,i,m),qa.trigger(pa.events.AFTER_PUT_IMAGE,a)}else j.fadeTo(0,0),k(e),a.data("isLoading",!0),pa.isSlideCurrent(a)&&qa.trigger(pa.events.CURRENTSLIDE_LOAD_START),j.data("itemIndex",b.index),j.on("load",function(){var a=jQuery(this),b=a.data("itemIndex");a.fadeTo(0,1);var c=a.parent().parent(),d=pa.getSlideType(c),e=$(c),f=pa.getObjImagePadding(),g=pa.getScaleMode(c);l(e),c.data("isLoading",!1),pa.isSlideCurrent(c)&&qa.trigger(pa.events.CURRENTSLIDE_LOAD_END),ra.onItemBigImageLoaded(null,a);var h=ra.getItem(b),i={};"image"!=d&&1==za.slider_video_constantsize?o(a,h):i=wa.scaleImageFitParent(a,h.imageWidth,h.imageHeight,g,f),a.fadeTo(0,1),n(a,d,i),qa.trigger(pa.events.AFTER_PUT_IMAGE,c)})}function q(a,b){try{var c=a.children(".ug-item-wrapper");if(null==b)return c.html(""),a.removeData("index"),a.removeData("type"),a.removeData("urlImage"),!1;a.data("index"),a.data("index",b.index),a.data("type",b.type),1==za.slider_enable_links&&"image"==b.type&&(b.link?a.addClass("ug-slide-clickable"):a.removeClass("ug-slide-clickable")),p(a,b);var d=_(a);switch(b.type){case"image":d.hide();break;default:d.show()}}catch(e){throw"undefined"!=typeof e.fileName&&"showbig"==e.fileName&&ra.showErrorMessageReplaceGallery(e.message),c.html(""),new Error(e)}}function r(){if(!ya)return!1;if(1==t())return!1;var a=ya.getElement(),b=0;(1==Ba.isTextPanelSaparateHover||1==za.slider_textpanel_always_on)&&(b=za.slider_controls_appear_duration),a.stop().fadeTo(b,0),a.data("isHidden",!0)}function s(){if(!ya)return!1;if(0==t())return!1;var a=ya.getElement(),b=0;(1==Ba.isTextPanelSaparateHover||1==za.slider_textpanel_always_on)&&(a.show(),ya.positionElements(),b=za.slider_controls_appear_duration),a.stop().show().fadeTo(b,1),a.data("isHidden",!1)}function t(){var a=ya.getElement(),b=a.data("isHidden");return b!==!1}function u(a,b){if(void 0==b)var b=pa.getCurrentSlide();var c=pa.getSlideType(b);if(c!=a)throw new Error("Wrong slide type: "+c+", should be: "+a);return!0}function v(){var a=pa.getCurrentSlide(),b=pa.getSlideImage(a),c=wa.getElementSize(a),d=c.left,e=c.top;if(1==za.slider_video_constantsize){var f=wa.getElementSize(b);d+=f.left,e+=f.top}else d+=za.slider_video_padding_left,e+=za.slider_video_padding_top;va.setPosition(d,e)}function w(){var a=za.slider_video_constantsize_width,b=za.slider_video_constantsize_height;va.setSize(a,b);var c=va.getObject();n(c,"video")}function x(a,b,c){qa.trigger(pa.events.TRANSITION_START);var d=za.slider_transition;switch(c&&(d=c),pa.stopSlideAction(null,!0),d){default:case"fade":A(b);break;case"slide":y(a,b);break;case"lightbox_open":A(b,!1,!0)}}function y(a,b){var c=pa.isAnimating();if(1==c)return Ba.itemWaiting=b,!0;null!=Ba.itemWaiting&&(Ba.itemWaiting=null);var d=pa.getSlidesReference();switch(a){case"right":q(d.objPrevSlide,b),i();var e=wa.getElementSize(d.objPrevSlide),f=-e.left;pa.switchSlideNums("right");break;case"left":q(d.objNextSlide,b),i();var g=wa.getElementSize(d.objNextSlide),f=-g.left;pa.switchSlideNums("left");break;default:throw new Error("wrong direction: "+a)}var h=za.slider_transition_speed,j=za.slider_transition_easing,k={duration:h,easing:j,queue:!1,always:function(){if(pa.stopSlideAction(),va.hide(),null!=Ba.itemWaiting){var a=Z(Ba.itemWaiting);y(a,Ba.itemWaiting)}else pa.placeNabourItems(),qa.trigger(pa.events.TRANSITION_END)}};fa.animate({left:f+"px"},k)}function z(a,b,c){c?a.fadeTo(za.slider_transition_speed,b,c):a.fadeTo(za.slider_transition_speed,b)}function A(a,b,c){if(!b)var b=!1;var d=pa.getSlidesReference();q(d.objNextSlide,a);var e=wa.getElementSize(d.objCurrentSlide);wa.placeElement(d.objNextSlide,e.left,e.top);var f=Ba.numCurrent;if(Ba.numCurrent=Ba.numNext,Ba.numNext=f,qa.trigger(pa.events.ITEM_CHANGED),d.objNextSlide.stop(!0),d.objCurrentSlide.stop(!0),1==b)d.objCurrentSlide.fadeTo(0,0),d.objNextSlide.fadeTo(0,1),pa.placeNabourItems(),qa.trigger(pa.events.TRANSITION_END),c!==!0&&va.hide();else{if(d.objNextSlide.fadeTo(0,0),z(d.objCurrentSlide,0,function(){pa.placeNabourItems(),qa.trigger(pa.events.TRANSITION_END),c!==!0&&va.hide()}),1==va.isVisible()){var g=va.getObject();z(g,0)}z(d.objNextSlide,1)}}function B(){1==za.slider_fullscreen_button_mobilehide&&ta&&ta.hide(),1==za.slider_play_button_mobilehide&&sa&&sa.hide(),1==za.slider_zoompanel_mobilehide&&na&&na.getElement().hide()}function C(){1==za.slider_fullscreen_button_mobilehide&&ta&&ta.show(),1==za.slider_play_button_mobilehide&&sa&&sa.show(),1==za.slider_zoompanel_mobilehide&&na&&na.getElement().show()}function D(){var a=ra.isMobileMode();a?B():C()}function E(){var a=ea.children(".ug-slider-control");return a}function F(a){if(0==wa.isTimePassed("sliderControlsToggle"))return!1;if(0==Ba.isControlsVisible)return!1;if(!a)var a=!1;var b=E();a===!0?b.stop().fadeTo(0,0).hide():b.stop().fadeTo(za.slider_controls_appear_duration,0,function(){b.hide()}),Ba.isControlsVisible=!1}function G(a){if(0==wa.isTimePassed("sliderControlsToggle"))return!1;if(1==Ba.isControlsVisible)return!0;if(!a)var a=!1;var b=E();a===!0?b.stop().show():(b.stop().show().fadeTo(0,0),b.fadeTo(za.slider_controls_appear_duration,1)),Ba.isControlsVisible=!0}function H(){0==Ba.isControlsVisible?G():F()}function I(a){if(a==Ba.currentControlsMode)return!1;switch(a){case"image":na&&na.getElement().show();break;case"video":na&&na.getElement().hide();break;default:throw new Error("wrong controld mode: "+a)}Ba.currentControlsMode=a}function J(a,b,c){var d=ra.getSelectedItem();pa.setItem(d,!1,c);var e=d.index;ua&&ua.setActive(e),ya&&0==Ba.isTextPanelSaparateHover&&s(),I("image"==d.type?"image":"video")}function K(a,b){ra.selectItem(b)}function L(a){return!(!la||0!=la.isTapEventOccured(a))||void qa.trigger(pa.events.CLICK,a)}function M(){var a=pa.getCurrentSlide(),b=a.hasClass("ug-slide-clickable"),c=pa.getCurrentItem();return b?(0==za.slider_links_newpage?location.href=c.link:window.open(c.link,"_blank"),!0):void(0==za.slider_controls_always_on&&1==za.slider_controls_appear_ontap&&1==pa.isCurrentSlideType("image")&&(H(),ya&&1==za.slider_textpanel_always_on&&pa.isCurrentSlideType("image")&&pa.isCurrentSlideImageFit()&&s()))}function N(a){ya&&pa.isCurrentSlideType("image")&&0==pa.isCurrentSlideImageFit()&&r()}function O(){G()}function P(){F()}function Q(a){var b=a.parent();pa.startSlideAction(b)}function R(){ra.isPlayMode()&&ra.pausePlaying(),qa.trigger(pa.events.ACTION_START)}function S(){ra.isPlayMode()&&ra.continuePlaying(),qa.trigger(pa.events.ACTION_END);
}function T(a,b,c){ga.data("index")==b&&(objItem=ra.getItem(b),p(ga,objItem,!0)),ha.data("index")==b&&(objItem=ra.getItem(b),p(ha,objItem,!0)),ia.data("index")==b&&(objItem=ra.getItem(b),p(ia,objItem,!0))}function U(a,b){b=jQuery(b);var c=pa.getSlideImage(b),d=_(b),e=wa.getElementSize(c);wa.placeElement(d,"center","middle",e.left,e.top,c)}function V(a){var b=_(a);wa.addClassOnHover(b),wa.setButtonOnClick(b,Q)}function W(){ba.on(ra.events.ITEM_IMAGE_UPDATED,T),ba.on(ra.events.ITEM_CHANGE,J),ua&&jQuery(ua).on(ua.events.BULLET_CLICK,K),1==za.slider_enable_arrows&&(wa.addClassOnHover(ka,"ug-arrow-hover"),wa.addClassOnHover(ja,"ug-arrow-hover"),ra.setNextButton(ka),ra.setPrevButton(ja)),0==za.slider_controls_always_on&&ea.hover(O,P),ea.on("touchend click",L),qa.on(pa.events.CLICK,M),ya&&1==Ba.isTextPanelSaparateHover&&ea.hover(s,r),sa&&(wa.addClassOnHover(sa,"ug-button-hover"),ra.setPlayButton(sa)),ta&&(wa.addClassOnHover(ta,"ug-button-hover"),ra.setFullScreenToggleButton(ta)),ma&&qa.on(pa.events.ZOOM_CHANGE,N),na&&na.initEvents(),va.initEvents(),jQuery(va).on(va.events.SHOW,R),jQuery(va).on(va.events.HIDE,S),V(ga),V(ha),V(ia),qa.on(pa.events.AFTER_PUT_IMAGE,U),ea.on("mouseenter",".ug-item-wrapper img",function(a){qa.trigger(pa.events.IMAGE_MOUSEENTER)}),ea.on("mouseleave",".ug-item-wrapper img",function(a){var b=pa.isMouseInsideSlideImage(a);0==b&&qa.trigger(pa.events.IMAGE_MOUSELEAVE)})}function X(){var a;switch(za.slider_loader_type){default:case 1:a="ug-loader1";break;case 2:a="ug-loader2";break;case 3:a="ug-loader3";break;case 4:a="ug-loader4";break;case 5:a="ug-loader5";break;case 6:a="ug-loader6";break;case 7:a="ug-loader7";break;case 8:a="ug-loader8";break;case 9:a="ug-loader9"}return"black"==za.slider_loader_color&&(a+=" ug-loader-black"),a}function Y(a){switch(a){case 1:return ga;case 2:return ha;case 3:return ia;default:throw new Error("wrong num: "+a)}}function Z(a){var b=pa.getSlidesReference(),c=b.objCurrentSlide.data("index"),d=a.index,e="left";return c>d&&(e="right"),e}function $(a){if(!a)var a=pa.getCurrentSlide();var b=a.children(".ug-slider-preloader");return b}function _(a){var b=a.children(".ug-button-videoplay");return b}function aa(a){if(!a)var a=pa.getCurrentSlide();var b=a.data("index");if(void 0==b)return null;var c=ra.getItem(b);return c}var ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=this,qa=jQuery(pa),ra=new UniteGalleryMain,sa=null,ta=null,ua=null,va=new UGVideoPlayer,wa=new UGFunctions,xa=null,ya=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var za={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Aa={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Ba={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(a){switch(qa.trigger(pa.events.BEFORE_SWITCH_SLIDES),a){case"left":var b=Ba.numCurrent;Ba.numCurrent=Ba.numNext,Ba.numNext=Ba.numPrev,Ba.numPrev=b;break;case"right":var b=Ba.numCurrent;Ba.numCurrent=Ba.numPrev,Ba.numPrev=Ba.numNext,Ba.numNext=b;break;default:throw new Error("wrong direction: "+a)}qa.trigger(pa.events.ITEM_CHANGED)},this.destroy=function(){qa.off(pa.events.AFTER_PUT_IMAGE),ba.off(ra.events.ITEM_IMAGE_UPDATED),ba.off(ra.events.ITEM_CHANGE),ua&&jQuery(ua).on(ua.events.BULLET_CLICK),ea.off("mouseenter"),ea.off("mouseleave"),ea.off("touchend"),ea.off("click"),qa.off(pa.events.CLICK),ma&&qa.off(pa.events.ZOOM_CHANGE),qa.off(pa.events.BEFORE_SWITCH_SLIDES),jQuery(va).off(va.events.SHOW),jQuery(va).off(va.events.HIDE),va.destroy(),ea.off("mouseenter",".ug-item-wrapper img"),ea.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(b,c,d){a(b,c,d)},this.getSlideImage=function(a){if(!a)var a=pa.getCurrentSlide();var b=a.find(".ug-item-wrapper img");return b},this.setHtml=function(a){e(a)},this.run=function(){b()},this.isInnerInPlace=function(){var a=pa.getSlidesReference(),b=wa.getElementSize(a.objCurrentSlide),c=-b.left,d=wa.getElementSize(fa);return c==d.left},this.isAnimating=function(){var a=fa.is(":animated");return a},this.isSlideCurrent=function(a){var b=a.data("slidenum");return Ba.numCurrent==b},this.isSlideHasItem=function(a){var b=a.data("index");return void 0!==b&&null!==b},this.getObjImagePadding=function(){var a={padding_top:za.slider_image_padding_top,padding_bottom:za.slider_image_padding_bottom,padding_left:za.slider_image_padding_left,padding_right:za.slider_image_padding_right};return a},this.getSlidesReference=function(){var a={objPrevSlide:Y(Ba.numPrev),objNextSlide:Y(Ba.numNext),objCurrentSlide:Y(Ba.numCurrent)};return a},this.getCurrentSlide=function(){var a=pa.getSlidesReference();return a.objCurrentSlide},this.getCurrentItemIndex=function(){var a=pa.getSlidesReference(),b=a.objCurrentSlide.data("index");return(null===b||void 0===b)&&(b=-1),b},this.getCurrentItem=function(){var a=pa.getCurrentItemIndex();if(-1==a)return null;var b=ra.getItem(a);return b},this.getSlideType=function(a){void 0==a&&(a=pa.getCurrentSlide());var b=a.data("type");return b},this.isMouseInsideSlideImage=function(a){var b=pa.getSlideImage(),c=wa.getMousePosition(a);void 0===c.pageX&&(c=la.getLastMousePos());var d=wa.getMouseElementPoint(c,b),e=wa.getElementSize(b);return isMouseInside=wa.isPointInsideElement(d,e),isMouseInside},this.isCurrentSlideType=function(a){var b=pa.getSlideType();return b==a},this.isCurrentSlideLoadingImage=function(){var a=pa.getCurrentSlide(),b=a.data("isLoading");return b===!0},this.setItem=function(a,b,c){var d=pa.getSlidesReference(),e=d.objCurrentSlide.data("index"),f=a.index;if(f==e)return!0;var g=void 0==e;if(g)q(d.objCurrentSlide,a),pa.placeNabourItems();else{var h="left";ra.getNumItems(),"next"==c?h="left":"prev"==c||e>f?h="right":e>f&&(h="right"),x(h,a,b)}},this.placeNabourItems=function(){var a=pa.getSlidesReference(),b=a.objCurrentSlide.data("index"),c=ra.getPrevItem(b),d=ra.getNextItem(b);q(a.objNextSlide,d),q(a.objPrevSlide,c),i()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(a,b){a||(a=pa.getCurrentSlide()),b===!0?va.pause():va.hide()},this.startSlideAction=function(a){a||(a=pa.getCurrentSlide());var b=aa(a);if("image"==b.type)return!0;switch(1==za.slider_video_constantsize&&w(),v(),va.show(),b.type){case"youtube":va.playYoutube(b.videoid);break;case"vimeo":va.playVimeo(b.videoid);break;case"html5video":va.playHtml5Video(b.videoogv,b.videowebm,b.videomp4,b.urlImage);break;case"soundcloud":va.playSoundCloud(b.trackid);break;case"wistia":va.playWistia(b.videoid)}},this.getScaleMode=function(a){if(!a)var a=pa.getCurrentSlide();var b=pa.getSlideType(a);return"image"!=b?za.slider_scale_mode_media:za.slider_scale_mode==za.slider_scale_mode_fullscreen?za.slider_scale_mode:1==ra.isFullScreen()?za.slider_scale_mode_fullscreen:za.slider_scale_mode},this.getObjects=function(){var a={g_objSlider:ea,g_objInner:fa,g_options:za,g_objZoomSlider:ma};return a},this.getObjZoom=function(){return ma},this.getOptions=function(){return za},this.getElement=function(){return ea},this.getVideoObject=function(){return va},this.isCurrentSlideImageFit=function(){var a=pa.getCurrentSlide();pa.getSlideType(a),u("image",a);var b=pa.getSlideImage(a);if(0==b.length)return!1;var c=wa.isImageFitParent(b);return c},this.isCurrentImageInPlace=function(){var a=pa.getSlideImage();if(0==a.length)return!1;var b=pa.getScaleMode(),c=pa.getObjImagePadding(),d=aa(),e=a.parent(),f=wa.getImageInsideParentData(e,d.imageWidth,d.imageHeight,b,c),g=wa.getElementSize(a),h=!1;return f.imageWidth==g.width&&(h=!0),h},this.isSlideActionActive=function(){return va.isVisible()},this.isSwiping=function(){if(!la)return!1;var a=la.isTouchActive();return a},this.isPreloading=function(){var a=$();return!!a.is(":visible")},this.setOptions=function(a){oa&&(a=wa.convertCustomPrefixOptions(a,oa,"slider")),za=jQuery.extend(za,a)},this.setSize=function(a,b){if(0>a||0>b)return!0;var c={};c.width=a+"px",c.height=b+"px",ea.css(c);var d={};d.height=b+"px",d.top="0px",d.left="0px",fa.css(d);var e={};e.height=b+"px",e.width=a+"px",ga.css(e),ha.css(e),ia.css(e);var f=a-za.slider_item_padding_left-za.slider_item_padding_right,h=b-za.slider_item_padding_top-za.slider_item_padding_bottom,k={};k.width=f+"px",k.height=h+"px",k.top=za.slider_item_padding_top+"px",k.left=za.slider_item_padding_left+"px",ea.find(".ug-item-wrapper").css(k),ya&&ya.setSizeByParent(),g(),j(ga),j(ha),j(ia),i();var l=pa.getSlideType();if("image"!=l&&1==za.slider_video_constantsize)w();else{var m=a-za.slider_video_padding_left-za.slider_video_padding_right,n=b-za.slider_video_padding_top-za.slider_video_padding_bottom;va.setSize(m,n)}v()},this.refreshSlideItems=function(){return 1==pa.isAnimating()||(j(ga),j(ha),j(ia),void i())},this.isMouseOver=function(){return ea.ismouseover()},this.setPosition=function(a,b){wa.placeElement(ea,a,b)},this.zoomIn=function(){return!ma||void ma.zoomIn()},this.zoomOut=function(){return!ma||void ma.zoomOut()},this.zoomBack=function(){return!ma||void ma.zoomBack()}}function UGTextPanel(){function a(a,b){if(!b)var b=s.textpanel_padding_top;var c=b;if(k){var d=c;q.placeElement(k,0,d);var f=k.is(":visible");if(1==f){var g=q.getElementSize(k),c=g.bottom;c>0&&(t.lastTitleBottom=c)}else{var c=20;t.lastTitleBottom>0&&(c=t.lastTitleBottom)}}var h="";if(l&&(h=jQuery.trim(l.text())),""!=h){var i=c;k&&(i+=s.textpanel_padding_title_description),q.placeElement(l,0,i);var j=jQuery(l).is(":visible");if(1==j){var m=q.getElementSize(l);c=m.bottom,m.height>0&&(t.lastDescHeight=m.height)}else{var n=16;t.lastDescHeight>0&&(n=t.lastDescHeight),c=i+n}}if(!s.textpanel_height&&1==t.setInternalHeight){var o=c+s.textpanel_padding_bottom;e(o,a)}}function b(){var a=0;if(k&&(a+=k.outerHeight()),l){var b="";l&&(b=jQuery.trim(l.text())),""!=b&&(k&&(a+=s.textpanel_padding_title_description),a+=l.outerHeight())}return a}function c(){var c=b(),d=(n.height()-c)/2;a(!1,d)}function d(){var c=b(),d=n.height()-c-s.textpanel_padding_bottom;a(!1,d)}function e(a,b){if(!b)var b=!1;if(1==b){if(m){var c=m.height();a>c&&m.height(a)}var d={height:a+"px"};i.add(n).animate(d,s.textpanel_fade_duration)}else m&&m.height(a),i.add(n).height(a)}function f(){if(1==s.textpanel_enable_bg){m=i.children(".ug-textpanel-bg"),m.fadeTo(0,s.textpanel_bg_opacity);var a={"background-color":s.textpanel_bg_color};a=jQuery.extend(a,s.textpanel_bg_css),m.css(a)}if(1==s.textpanel_enable_title){k=n.children(".ug-textpanel-title");var b={};null!==s.textpanel_title_color&&(b.color=s.textpanel_title_color),null!==s.textpanel_title_font_family&&(b["font-family"]=s.textpanel_title_font_family),null!==s.textpanel_title_text_align&&(b["text-align"]=s.textpanel_title_text_align),null!==s.textpanel_title_font_size&&(b["font-size"]=s.textpanel_title_font_size+"px"),null!==s.textpanel_title_bold&&(s.textpanel_title_bold===!0?b["font-weight"]="bold":b["font-weight"]="normal"),s.textpanel_css_title&&(b=jQuery.extend(b,s.textpanel_css_title)),k.css(b)}if(1==s.textpanel_enable_description){l=n.children(".ug-textpanel-description");var c={};null!==s.textpanel_desc_color&&(c.color=s.textpanel_desc_color),null!==s.textpanel_desc_font_family&&(c["font-family"]=s.textpanel_desc_font_family),null!==s.textpanel_desc_text_align&&(c["text-align"]=s.textpanel_desc_text_align),null!==s.textpanel_desc_font_size&&(c["font-size"]=s.textpanel_desc_font_size+"px"),null!==s.textpanel_desc_bold&&(s.textpanel_desc_bold===!0?c["font-weight"]="bold":c["font-weight"]="normal"),s.textpanel_css_title&&(c=jQuery.extend(c,s.textpanel_css_description)),l.css(c)}}function g(){var a=o.getSelectedItem();p.setText(a.title,a.description)}function h(){jQuery(o).on(o.events.ITEM_CHANGE,g)}var i,j,k,l,m,n,o,p=this,q=new UGFunctions,r="",s={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},t={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(b){if(!s.textpanel_height||"top"==s.textpanel_text_valign)return a(b),!1;switch(s.textpanel_text_valign){default:case"top":a(!1);break;case"bottom":d();break;case"center":case"middle":c()}},this.init=function(a,b,c){if(o=a,c&&(r=c,b=q.convertCustomPrefixOptions(b,r,"textpanel")),b&&(s=jQuery.extend(s,b)),0==s.textpanel_enable_title&&0==s.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");s.textpanel_height&&s.textpanel_height<0&&(s.textpanel_height=null),1==s.textpanel_desc_style_as_title&&(s.textpanel_desc_color||(s.textpanel_desc_color=s.textpanel_title_color),s.textpanel_desc_bold||(s.textpanel_desc_bold=s.textpanel_title_bold),s.textpanel_desc_font_family||(s.textpanel_desc_font_family=s.textpanel_title_font_family),s.textpanel_desc_font_size||(s.textpanel_desc_font_size=s.textpanel_title_font_size),s.textpanel_desc_text_align||(s.textpanel_desc_text_align=s.textpanel_title_text_align))},this.appendHTML=function(a,b){j=a,b=b?" "+b:"";var c="<div class='ug-textpanel"+b+"'>";1==s.textpanel_enable_bg&&(c+="<div class='ug-textpanel-bg"+b+"'></div>"),c+="<div class='ug-textpanel-textwrapper"+b+"'>",1==s.textpanel_enable_title&&(c+="<div class='ug-textpanel-title"+b+"'></div>"),1==s.textpanel_enable_description&&(c+="<div class='ug-textpanel-description"+b+"'></div>"),c+="</div></div>",a.append(c),i=a.children(".ug-textpanel"),n=i.children(".ug-textpanel-textwrapper"),f()},this.destroy=function(){jQuery(o).off(o.events.ITEM_CHANGE)},this.run=function(){p.setSizeByParent(),h()},this.setPanelSize=function(a,b){if(t.setInternalHeight=!0,b)t.setInternalHeight=!1;else var b=80;s.textpanel_height&&(b=s.textpanel_height),i.width(a),i.height(b),m&&(m.width(a),m.height(b));var c=a-s.textpanel_padding_left-s.textpanel_padding_right,d=s.textpanel_padding_left;q.setElementSizeAndPosition(n,d,0,c,b),k&&k.width(c),l&&l.width(c),0==t.isFirstTime&&p.positionElements(!1)},this.setSizeByParent=function(){var a=q.getElementSize(j);p.setPanelSize(a.width)},this.setTextPlain=function(a,b){k&&k.html(a),l&&l.html(b)},this.setText=function(a,b){1==t.isFirstTime?(p.setTextPlain(a,b),t.isFirstTime=!1,p.positionElements(!1)):n.stop().fadeTo(s.textpanel_fade_duration,0,function(){p.setTextPlain(a,b),p.positionElements(!0),jQuery(this).fadeTo(s.textpanel_fade_duration,1)})},this.positionPanel=function(a,b){var c={};if(void 0!==a&&null!==a)c.top=a,c.bottom="auto";else switch(s.textpanel_align){case"top":c.top=s.textpanel_margin+"px";break;case"bottom":c.top="auto",c.bottom=s.textpanel_margin+"px";break;case"middle":c.top=q.getElementRelativePos(i,"middle",s.textpanel_margin)}void 0!==b&&null!==b&&(c.left=b),i.css(c)},this.setOptions=function(a){r&&(a=q.convertCustomPrefixOptions(a,r,"textpanel")),s=jQuery.extend(s,a)},this.getElement=function(){return i},this.getSize=function(){var a=q.getElementSize(i);return a},this.refresh=function(a,b,c,d){f(),c?p.setPanelSize(c,d):p.setSizeByParent(),p.positionElements(!1),b!==!0&&p.positionPanel(),a===!0&&p.show()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.getOptions=function(){return s},this.getOption=function(a){return 0==s.hasOwnProperty(a)?null:s[a]}}function UGZoomButtonsPanel(){function a(a){return!a||!!a.hasClass("ug-zoompanel-button-disabled")}function b(a){a&&a.addClass("ug-zoompanel-button-disabled")}function c(a){a&&a.removeClass("ug-zoompanel-button-disabled")}function d(){if(0==k.isCurrentSlideType("image"))return!0;var d=k.isCurrentSlideImageFit();1==d?0==a(h)&&(b(h),b(i)):1==a(h)&&(c(h),c(i))}var e,f,g,h,i,j=this,k=new UGSlider,l=new UGFunctions,m={slider_zoompanel_skin:""};this.init=function(a,b){k=a,b&&(m=jQuery.extend(m,b))},this.appendHTML=function(a){f=a;var b="<div class='ug-slider-control ug-zoompanel ug-skin-"+m.slider_zoompanel_skin+"'>";b+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",b+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",b+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",b+="</div>",a.append(b),e=a.children(".ug-zoompanel"),g=e.children(".ug-zoompanel-plus"),h=e.children(".ug-zoompanel-minus"),i=e.children(".ug-zoompanel-return")},this.setObjects=function(a,b,c){g=a,h=b,i=c,h&&h.addClass("ug-zoompanel-button-disabled"),i&&i.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return e},j.initEvents=function(){l.addClassOnHover(g,"ug-button-hover"),l.addClassOnHover(h,"ug-button-hover"),l.addClassOnHover(i,"ug-button-hover"),l.setButtonOnClick(g,function(){return 1==a(g)||void k.zoomIn()}),l.setButtonOnClick(h,function(){return 1==a(h)||void k.zoomOut()}),l.setButtonOnClick(i,function(){return 1==a(i)||void k.zoomBack()}),jQuery(k).on(k.events.ZOOM_CHANGE,d),jQuery(k).on(k.events.ITEM_CHANGED,d)}}function UGBullets(){function a(){var a="",b="";-1!=o.bullets_space_between&&(b=" style='margin-left:"+o.bullets_space_between+"px'");for(var c=0;j>c;c++)a+=0==c?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+b+"></div>";if(f.html(a),!h){var d=f.find(".ug-bullet:first-child");d.length&&(h=d.width())}}function b(a){if(1==i.isActive(a))return!0;var b=a.index();jQuery(i).trigger(i.events.BULLET_CLICK,b)}function c(){var a=f.children(".ug-bullet");m.setButtonOnClick(a,b),a.on("mousedown mouseup",function(a){return!1})}function d(a){if(0>a||a>=j)throw new Error("wrong bullet index: "+a)}function e(){if(1==n.isInited)return!0;throw new Error("The bullets are not inited!")}var f,g,h,i=this,j=0,k=new UniteGalleryMain,l=-1,m=new UGFunctions,n={isInited:!1},o={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(a,b,c){k=a,j=c?c:k.getNumItems(),n.isInited=!0,o=jQuery.extend(o,b),""==o.bullets_skin&&(o.bullets_skin=o.gallery_skin)},this.getBulletsWidth=function(){if(0==j)return 0;if(!h)return 0;var a=j*h+(j-1)*o.bullets_space_between;return a},this.appendHTML=function(b){g=b,e();var d="";""!=o.bullets_addclass&&(d=" "+o.bullets_addclass);var h="<div class='ug-slider-control ug-bullets ug-skin-"+o.bullets_skin+d+"'>";h+="</div>",f=jQuery(h),b.append(f),a(),c()},this.updateNumBullets=function(b){j=b,a(),c()},this.getElement=function(){return f},this.setActive=function(a){e(),d(a);var b=f.children(".ug-bullet");b.removeClass("ug-bullet-active");var c=jQuery(b[a]);c.addClass("ug-bullet-active"),l=a},this.isActive=function(a){if(d(a),"number"!=typeof a)var b=a;else var b=f.children(".ug-bullet")[a];return!!b.hasClass("ug-bullet-active")},this.getNumBullets=function(){return j}}function UGProgressBar(){var a,b,c=this,d=0,e=new UGFunctions,f={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(c,d){d&&(f=jQuery.extend(f,d)),c.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),a=c.children(".ug-progress-bar"),b=a.children(".ug-progress-bar-inner"),b.css("background-color",f.slider_progressbar_color),a.height(f.slider_progressbar_line_width),b.height(f.slider_progressbar_line_width),b.width("0%");var e=f.slider_progressbar_opacity,g=b[0];g.style.opacity=e,g.style.filter="alpha(opacity="+100*e+")"},this.putHidden=function(b,d){c.put(b,d),a.hide()},this.getElement=function(){return a},this.setSize=function(d){a.width(d),b.width(d),c.draw()},this.setPosition=function(b,c,d,f){e.placeElement(a,b,c,d,f)},this.draw=function(){var a=100*d;b.width(a+"%")},this.setProgress=function(a){d=e.normalizePercent(a),c.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function a(a){if(!a)var a=0;var b=Math.min(g.slider_progresspie_width,g.slider_progresspie_height)/2,d=c[0].getContext("2d");0==e&&(e=!0,d.rotate(1.5*Math.PI),d.translate(-2*b,0)),d.clearRect(0,0,g.slider_progresspie_width,g.slider_progresspie_height);var f=g.slider_progresspie_width/2,h=g.slider_progresspie_height/2,i=0,j=a*Math.PI*2;if(1==g.slider_progresspie_type_fill)d.beginPath(),d.moveTo(f,h),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath();else{d.globalCompositeOperation="source-over",d.beginPath(),d.moveTo(f,h),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath(),d.globalCompositeOperation="destination-out";var k=b-g.slider_progresspie_stroke_width;d.beginPath(),d.moveTo(f,h),d.arc(f,h,k,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath()}1==g.slider_progresspie_type_fill&&(i=j,j=2*Math.PI,d.beginPath(),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color2,d.fill(),d.closePath())}var b,c,d=this,e=!1,f=new UGFunctions,g={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(a,b){b&&(g=jQuery.extend(g,b)),a.append("<canvas class='ug-canvas-pie' width='"+g.slider_progresspie_width+"' height='"+g.slider_progresspie_height+"'></canvas>"),c=a.children(".ug-canvas-pie")},this.putHidden=function(b,e){d.put(b,e),a(.1),c.hide()},this.getElement=function(){return c},this.setPosition=function(a,b){f.placeElement(c,a,b)},this.getSize=function(){var a={width:g.slider_progresspie_width,height:g.slider_progresspie_height};return a},this.setProgress=function(c){c=f.normalizePercent(c),b=c,a(c)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function a(a){if(!a)var a=r.getSlidesReference();var b=s.getElementSize(a.objCurrentSlide),c=-b.left,d=s.getElementSize(o),e=c-d.left;return e}function b(){var b=r.getSlidesReference(),c=a(b),d=Math.round(3*b.objCurrentSlide.width()/8);if(Math.abs(c)>=d)return!0;var e=Math.abs(t.lastMouseX-t.startMouseX);if(Math.abs(t.lastMouseY-t.startMouseY),20>e)return!1;var f=jQuery.now(),g=f-t.startTime;return 500>g}function c(a){if(1==r.isInnerInPlace())return!1;if(p.trigger(r.events.BEFORE_RETURN),!a)var a=r.getSlidesReference();var b=s.getElementSize(a.objCurrentSlide),c=-b.left;o.animate({left:c+"px"},{duration:q.slider_transition_return_speed,easing:q.slider_transition_continuedrag_easing,queue:!1,progress:function(a,b,d){if(1==t.isDragVideo){var e=s.getElementSize(o),f=e.left,g=f-c,h=t.videoStartX+g;t.videoObject.css("left",h)}},complete:function(){p.trigger(r.events.AFTER_RETURN)}})}function d(a){r.getVideoObject().hide(),r.switchSlideNums(a),r.placeNabourItems()}function e(){var b=r.getSlidesReference(),e=a(b);if(0==e)return!1;var f=e>0?"left":"right",g=!1;switch(f){case"right":if(r.isSlideHasItem(b.objPrevSlide))var h=s.getElementSize(b.objPrevSlide),i=-h.left;else g=!0;break;case"left":if(r.isSlideHasItem(b.objNextSlide))var j=s.getElementSize(b.objNextSlide),i=-j.left;else g=!0}1==g?c(b):o.stop().animate({left:i+"px"},{duration:q.slider_transition_continuedrag_speed,easing:q.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==t.isDragVideo){var a=s.getElementSize(o),b=a.left,c=b-t.startPosx,d=t.videoStartX+c;t.videoObject.css("left",d)}},always:function(){d(f),p.trigger(r.events.AFTER_DRAG_CHANGE)}})}function f(a){var b=t.lastMouseX-t.startMouseX;if(0==b)return!0;var c=0>b?"left":"right",d=r.getObjZoom();if(d){var e=d.isPanEnabled(a,c);if(1==e)return t.isInitDataValid=!1,!0;if(0==t.isInitDataValid)return g(a),!0}var f=t.startPosx+b;if(b>0&&f>0)f/=3;else if(0>b){var h=f+o.width(),i=n.width();i>h&&(f=t.startPosx+b/3)}if(0==t.isDragging&&(t.isDragging=!0,p.trigger(r.events.START_DRAG)),o.css("left",f+"px"),1==t.isDragVideo){var j=f-t.startPosx,k=t.videoStartX+j;t.videoObject.css("left",k)}}function g(a){var b=s.getMousePosition(a);t.startMouseX=b.pageX,t.startMouseY=b.pageY,t.lastMouseX=t.startMouseX,t.lastMouseY=t.startMouseY,t.startTime=jQuery.now();var c=s.getArrTouches(a);t.startArrTouches=s.getArrTouchPositions(c);var d=s.getElementSize(o);t.startPosx=d.left,t.isInitDataValid=!0,t.isDragVideo=!1,s.storeEventData(a,t.storedEventID)}function h(a){t.touch_active=!1}function i(a,b){t.touch_active=!0,g(b)}function j(a){a.preventDefault(),t.isDragging=!1,1==r.isAnimating()&&o.stop(!0,!0);var b=s.getArrTouches(a);return b.length>1?(1==t.touch_active&&h("1"),!0):1==t.touch_active||void i("1",a)}function k(a){if(0==t.touch_active)return!0;if(0==a.buttons)return h("2"),e(),!0;s.updateStoredEventData(a,t.storedEventID),a.preventDefault();var b=s.getMousePosition(a);t.lastMouseX=b.pageX,t.lastMouseY=b.pageY;var c=null;1==q.slider_vertical_scroll_ondrag&&(c=s.handleScrollTop(t.storedEventID)),"vert"!==c&&f(a)}function l(a){var d=s.getArrTouches(a),f=d.length,g=r.isInnerInPlace();if(1==g&&0==t.touch_active&&0==f)return!0;if(0==f&&1==t.touch_active){h("3");var j=!1,k=s.wasVerticalScroll(t.storedEventID);0==k&&(j=b()),1==j?e():c()}else 1==f&&0==t.touch_active&&i("2",a)}function m(){n.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",k),jQuery(window).add("body").bind("mouseup touchend",l)}var n,o,p,q,r=new UGSlider,s=new UGFunctions,q={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},t={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(b){var c=s.getArrTouches(b),d=c.length;if(0!=d||0!=t.lastNumTouches)return t.lastNumTouches=d,!1;t.lastNumTouches=d;var e=r.getSlidesReference(),f=(a(e),Math.abs(t.lastMouseX-t.startMouseX)),g=Math.abs(t.lastMouseY-t.startMouseY),h=jQuery.now(),i=h-t.startTime;return 20>f&&50>g&&500>i},this.init=function(a,b){r=a,p=jQuery(r),g_objects=a.getObjects(),n=g_objects.g_objSlider,o=g_objects.g_objInner,q=jQuery.extend(q,b),m()},this.getLastMousePos=function(){var a={pageX:t.lastMouseX,pageY:t.lastMouseY};return a},this.isTouchActive=function(){return t.touch_active}}function UGZoomSliderControl(){function a(a,b){x=a,w=jQuery(x),g_objects=a.getObjects(),u=g_objects.g_objSlider,v=g_objects.g_objInner,z=jQuery.extend(z,b),t()}function b(){var a=x.getScaleMode();return"down"!=a&&(a="fit"),a}function c(){var a=jQuery.now(),c=a-A.storeImageLastTime;if(20>c)return!1;var d=x.getSlidesReference();if(A.objSlide=d.objCurrentSlide,A.objImage=d.objCurrentSlide.find("img"),0==A.objImage.length)return!1;A.objImageSize=y.getElementSize(A.objImage),A.objParent=A.objImage.parent(),A.objParentSize=y.getElementSize(A.objParent);var e=b();objPadding=x.getObjImagePadding(),A.objFitImageSize=y.getImageInsideParentDataByImage(A.objImage,e,objPadding);var a=jQuery.now();return A.storeImageLastTime=a,!0}function d(a,c){var d=x.getSlidesReference(),e=d.objCurrentSlide.find("img"),f=b();w.trigger(x.events.ZOOM_START);var g=!0,h=x.getObjImagePadding();if("back"==a){var i=y.getImageOriginalSize(e);y.scaleImageFitParent(e,i.width,i.height,f,h)}else{var j="in"==a;g=y.zoomImageInsideParent(e,j,z.slider_zoom_step,c,f,z.slider_zoom_max_ratio,h)}1==g&&(w.trigger(x.events.ZOOMING),w.trigger(x.events.ZOOM_CHANGE),w.trigger(x.events.ZOOM_END))}function e(a,b,c){var d=y.getArrTouches(b);if(c===!0){if(1!=d.length)return!1}else if(d.length>1)return!1;return!!y.isElementBiggerThenParent(a)}function f(a){var b=y.getMousePosition(a);A.startMouseX=b.pageX,A.startMouseY=b.pageY,A.lastMouseX=A.startMouseX,A.lastMouseY=A.startMouseY,A.startImageX=A.objImageSize.left,A.startImageY=A.objImageSize.top,A.panXActive=A.objImageSize.width>A.objParentSize.width,A.panYActive=A.objImageSize.height>A.objParentSize.height}function g(a){A.isPanActive=!0,f(a)}function h(a){if(void 0==A.objImage||0==A.objImage.length)return!0;var b=y.getMousePosition(a),c=(b.pageX-A.startMouseX,b.pageY-A.startMouseY,b.pageX-A.lastMouseX),d=b.pageY-A.lastMouseY,e=0>c?"left":"right",f=0>d?"up":"down";
A.lastMouseX=b.pageX,A.lastMouseY=b.pageY;var g=y.getElementSize(A.objImage);0==A.panYActive?d=0:"down"==f&&g.top>0?d/=3:"up"==f&&g.bottom<A.objParentSize.height&&(d/=3),0==A.panXActive||0==x.isInnerInPlace()?c=0:"right"==e&&g.left>0?c/=3:"left"==e&&g.right<A.objParentSize.width&&(c/=3);var h=g.left+c,i=g.top+d;y.placeElement(A.objImage,h,i)}function i(){var a=!1,b=!1,c=0,d=0,e=y.getElementSize(A.objImage),f=x.getObjImagePadding(),g=y.getElementCenterPosition(A.objImage,f);A.panXActive=A.objImageSize.width>A.objParentSize.width,A.panYActive=A.objImageSize.height>A.objParentSize.height,1==A.panYActive?e.top>0?(d=0,b=!0):e.bottom<A.objParentSize.height&&(d=A.objParentSize.height-e.height,b=!0):e.top!=g.top&&(b=!0,d=g.top),1==A.panXActive?e.left>0?(c=0,a=!0):e.right<A.objParentSize.width&&(c=A.objParentSize.width-e.width,a=!0):e.left!=g.left&&(a=!0,c=g.left);var h={};1==b&&(h.top=d+"px"),1==a&&(h.left=c+"px"),(1==b||1==a)&&A.objImage.animate(h,{duration:z.slider_zoom_return_pan_duration,easing:z.slider_zoom_return_pan_easing,queue:!1})}function j(){return!(!A.objImage||!A.objImage.is(":animated"))}function k(a){A.isZoomActive=!0,A.startDistance=y.getDistance(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),0==A.startDistance&&(A.startDistance=1),A.startMiddlePoint=y.getMiddlePoint(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),A.objImageSize=y.getElementSize(A.objImage),A.startImageX=A.objImageSize.left,A.startImageY=A.objImageSize.top,A.imageOrientPoint=y.getElementLocalPoint(A.startMiddlePoint,A.objImage);var b=y.isPointInsideElement(A.imageOrientPoint,A.objImageSize);0==b&&(A.imageOrientPoint=y.getElementCenterPoint(A.objImage)),w.trigger(x.events.ZOOM_START)}function l(a){if(0==A.isZoomActive)return!1;var b=y.getArrTouches(a);2!=b.length&&(A.isZoomActive=!1,w.trigger(x.events.ZOOM_END))}function m(a){if(1==A.isZoomActive)return!0;var b=y.getArrTouches(a);return 2!=b.length||void k(b)}function n(a){var b=y.getArrTouches(a),c=y.getDistance(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),d=c/A.startDistance,e=y.getMiddlePoint(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),f=A.objImageSize.width*d,g=A.objImageSize.height*d,h=y.getImageOriginalSize(A.objImage),i=1;if(h.width>0&&(i=f/h.width),i>z.slider_zoom_max_ratio)return!0;panX=-(A.imageOrientPoint.x*d-A.imageOrientPoint.x),panY=-(A.imageOrientPoint.y*d-A.imageOrientPoint.y);var j=e.x-A.startMiddlePoint.x,k=e.y-A.startMiddlePoint.y,l=A.startImageX+panX+j,m=A.startImageY+panY+k;y.setElementSizeAndPosition(A.objImage,l,m,f,g),w.trigger(x.events.ZOOMING),w.trigger(x.events.ZOOM_CHANGE)}function o(){if(void 0==A.objImage||0==A.objImage.length)return!0;var a=y.getElementSize(A.objImage);if(a.width<A.objFitImageSize.imageWidth){A.objImage.css({position:"absolute",margin:"none"});var b={top:A.objFitImageSize.imageTop+"px",left:A.objFitImageSize.imageLeft+"px",width:A.objFitImageSize.imageWidth+"px",height:A.objFitImageSize.imageHeight+"px"};A.objImage.animate(b,{duration:z.slider_zoom_return_pan_duration,easing:z.slider_zoom_return_pan_easing,queue:!1})}else i()}function p(a){return 0==x.isCurrentSlideType("image")||(c(),void 0==A.objImage||0==A.objImage.length||(a.preventDefault(),1==j()&&A.objImage.stop(!0),1==A.isZoomActive?l(a):m(a),void(1==A.isZoomActive?A.isPanActive=!1:1==e(A.objImage,a)&&1==A.isZoomedOnce&&g(a))))}function q(a){if(0==x.isCurrentSlideType("image"))return!0;var b=jQuery(a.target);if(1==b.data("ug-button"))return!1;if(c(),void 0==A.objImage||0==A.objImage.length)return!0;var d=A.isPanActive,f=A.isZoomActive;if(0==x.isInnerInPlace())return A.isZoomActive=!1,A.isPanActive=!1,!0;if(1==A.isZoomActive?l(a):m(a),1==A.isZoomActive)A.isPanActive=!1;else{var h=e(A.objImage,a,!0);1==A.isPanActive?A.isPanActive=!1:1==h&&g(a)}(d||f)&&0==A.isZoomActive&&0==A.isPanActive&&o()}function r(a){return 0==x.isCurrentSlideType("image")||void(1==A.isZoomActive?n(a):1==A.isPanActive&&h(a))}function s(a,b,c,e){if(0==z.slider_zoom_mousewheel)return!0;if(0==x.isCurrentSlideType("image"))return!0;a.preventDefault();var f=b>0,g=y.getMousePosition(a),h=1==f?"in":"out";d(h,g)}function t(){u.on("mousewheel",s),u.bind("mousedown touchstart",p),jQuery("body").bind("mousemove touchmove",r),jQuery(window).add("body").bind("mouseup touchend",q),w.bind(x.events.BEFORE_RETURN,function(){o()}),w.bind(x.events.ITEM_CHANGED,function(){A.isZoomedOnce=!1}),w.bind(x.events.ZOOM_CHANGE,function(){A.isZoomedOnce=!0})}var u,v,w,x=new UGSlider,y=new UGFunctions,z={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},A={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(a,b){if(c(),void 0==A.objImage||0==A.objImage.length)return!1;if(0==A.isZoomedOnce)return!1;if(0==e(A.objImage,a))return!1;if(0==x.isInnerInPlace())return!1;if("left"==b){if(A.objImageSize.right<=A.objParentSize.width)return!1}else if(A.objImageSize.left>=0)return!1;return!0},this.init=function(b,c){a(b,c)},this.zoomIn=function(){d("in")},this.zoomOut=function(){d("out")},this.zoomBack=function(){d("back")}}function UGWistiaAPI(){function a(){return"undefined"!=typeof Wistia}function b(a,b,d,f,g){e=null,h=!1;var i=a+"_video",j="<div id='"+i+"' class='wistia_embed' style='width:"+d+";height:"+f+";' data-video-width='"+d+"' data-video-height='"+f+"'>&nbsp;</div>";jQuery("#"+a).html(j),e=Wistia.embed(b,{version:"v1",videoWidth:d,videoHeight:f,container:i,autoPlay:g}),h=!0,c()}function c(){e.bind("play",function(){g.trigger(f.events.START_PLAYING)}),e.bind("pause",function(){g.trigger(f.events.STOP_PLAYING)}),e.bind("end",function(){g.trigger(f.events.STOP_PLAYING),g.trigger(f.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this),h=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(a()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(a){if(null==e)return!1;if(0==h)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.isPlayerReady=function(){return!(!h||!e)}}function UGSoundCloudAPI(){function a(){return"undefined"!=typeof SC}function b(a,b,d,g,h){e=null,g_isPlayerReady=!1;var i=a+"_iframe",j=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+b;j+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",j+=h===!0?"&amp;auto_play=true":"&amp;auto_play=false";var k="<iframe id='"+i+"' src="+j+" width='"+d+"' height='"+g+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k),e=SC.Widget(i),e.bind(SC.Widget.Events.READY,function(){e&&(g_isPlayerReady=!0,c())}),f=a}function c(){e.bind(SC.Widget.Events.PLAY,function(){h.trigger(g.events.START_PLAYING)}),e.bind(SC.Widget.Events.PAUSE,function(){h.trigger(g.events.STOP_PLAYING)}),e.bind(SC.Widget.Events.FINISH,function(){h.trigger(g.events.STOP_PLAYING),h.trigger(g.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var d,e,f,g=this,h=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(a()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.doCommand=function(a){if(null==e)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){g.doCommand("pause")},this.play=function(){g.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,e=null,f&&(jQuery("#"+f).html(""),f=null)}}function UGHtml5MediaAPI(){function a(){return"undefined"!=typeof mejs}function b(a,b,d,f,g){e=null,g_isPlayerReady=!1;var h=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",i=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",j=a+"_video",k="";g&&g===!0&&(k="autoplay='autoplay'");var l="";b.posterImage&&(l="poster='"+b.posterImage+"'");var m="<video id='"+j+"' width='"+d+"' height='"+f+"'  controls='controls' preload='none' "+k+" "+l+">";""!=b.mp4&&(m+="<source type='video/mp4' src='"+b.mp4+"' />"),""!=b.webm&&(m+="<source type='video/webm' src='"+b.webm+"' />"),""!=b.ogv&&(m+="<source type='video/ogg' src='"+b.ogv+"' />"),m+="<object width='"+d+"' height='"+f+"' type='application/x-shockwave-flash' data='"+h+"'>",m+="<param name='movie' value='"+h+"' />",m+="<param name='flashvars' value='controls=true&file="+b.mp4+"' />",m+="</object>",m+="</video>",jQuery("#"+a).html(m),new MediaElement(j,{enablePluginDebug:!1,flashName:h,silverlightName:i,success:function(a,b){g_isPlayerReady=!0,e=a,0==g&&e.pause(),c()},error:function(a){trace(a)}})}function c(){g_ugFunctions.addEvent(e,"play",function(){g.trigger(f.events.START_PLAYING)}),g_ugFunctions.addEvent(e,"pause",function(){g.trigger(f.events.STOP_PLAYING)}),g_ugFunctions.addEvent(e,"ended",function(){g.trigger(f.events.STOP_PLAYING),g.trigger(f.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(a()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.doCommand=function(a){if(null==e)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")}}function UGVimeoAPI(){function a(){return"undefined"!=typeof Froogaloop}function b(a,b,d,f,g){h=null,i=!1;var j=location.protocol+"//player.vimeo.com/video/"+b+"?api=1";g===!0&&(j+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var k="<iframe src="+j+" width='"+d+"' height='"+f+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k);var l=jQuery("#"+a+" iframe")[0];h=Froogaloop(l),h.addEvent("ready",function(){h&&(i=!0,c())}),e=a}function c(){return!!h&&(h.addEvent("cuechange",function(){1==j&&f.play()}),h.addEvent("play",function(){g.trigger(f.events.START_PLAYING)}),h.addEvent("pause",function(){g.trigger(f.events.STOP_PLAYING)}),void h.addEvent("finish",function(){g.trigger(f.events.STOP_PLAYING),g.trigger(f.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this),h=null,i=!1,j=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(a()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(a){if(null==h)return!1;if(0==i)return!1;switch(a){default:h.api(a)}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")},this.destroy=function(){h&&(h.api("unload"),h=null,i=!1),e&&jQuery("#"+e).html("")},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.isPlayerReady=function(){return!(!i||!h)},this.changeVideo=function(a,b){return 0!=f.isPlayerReady()&&(j=b,void h.api("loadVideo",a))},this.getVideoImages=function(a,b,c){var d=location.protocol+"//vimeo.com/api/v2/video/"+a+".json";jQuery.get(d,{},function(a){var d={};d.preview=a[0].thumbnail_large,d.thumb=a[0].thumbnail_medium,c(b,d)})}}function UGYoutubeAPI(){function a(a,b,e,g,j){h&&i&&h.destroy();var k={controls:2,showinfo:l.video_youtube_showinfo,rel:0};j===!0&&(k.autoplay=1),i=!1,h=new YT.Player(a,{height:g,width:e,videoId:b,playerVars:k,events:{onReady:c,onStateChange:d}}),f=a}function b(){return"undefined"!=typeof YT&&"undefined"!=typeof YT.Player}function c(){i=!0}function d(){if("function"!=typeof h.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var a=h.getPlayerState();switch(a){case YT.PlayerState.PLAYING:j.trigger(g.events.START_PLAYING);break;case YT.PlayerState.ENDED:j.trigger(g.events.STOP_PLAYING),j.trigger(g.events.VIDEO_ENDED);break;default:k==YT.PlayerState.PLAYING&&j.trigger(g.events.STOP_PLAYING)}k=a}this.isAPILoaded=!1;var e,f,g=this,h=null,i=!1,j=jQuery(this),k=-1,l={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(a){l=jQuery.extend(l,a)},this.putVideo=function(c,d,f,g,h){return b()?(a(c,d,f,g,h),!0):(this.loadAPI(),void(e=setInterval(function(){b()&&(a(c,d,f,g,h),clearInterval(e))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(a,b){if(!h)return!0;if(0==i)return!1;switch(a){case"play":if("function"!=typeof h.playVideo)return!1;h.playVideo();break;case"pause":if("function"!=typeof h.pauseVideo)return!1;h.pauseVideo();break;case"seek":if("function"!=typeof h.seekTo)return!1;h.seekTo(b);break;case"stopToBeginning":var c=h.getPlayerState();switch(h.pauseVideo(),c){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:h.seekTo(0)}}},this.play=function(){g.doCommand("play")},this.pause=function(){g.doCommand("pause")},this.destroy=function(){try{h&&(i=!1,h.clearVideo(),h.destroy())}catch(a){jQuery("#"+f).html("")}},this.stopToBeginning=function(){g.doCommand("stopToBeginning")},this.changeVideo=function(a,b){return 0!=g.isPlayerReady()&&void(b&&1==b?h.loadVideoById(a,0,"large"):h.cueVideoById(a,0,"large"))},this.isPlayerReady=function(){return!(!i||!h)},this.getVideoImages=function(a){var b={};return b.preview="https://i.ytimg.com/vi/"+a+"/sddefault.jpg",b.thumb="https://i.ytimg.com/vi/"+a+"/default.jpg",b}}function UGVideoPlayer(){function a(){o.hide()}function b(){p.trigger(o.events.PLAY_START),l&&l.hide()}function c(){p.trigger(o.events.PLAY_STOP),l&&l.show()}function d(){p.trigger(o.events.VIDEO_ENDED)}function e(){l&&(q.setButtonMobileReady(l),q.setButtonOnClick(l,a)),jQuery(r).on(r.events.START_PLAYING,b),jQuery(r).on(r.events.STOP_PLAYING,c),jQuery(r).on(r.events.VIDEO_ENDED,d),jQuery(s).on(s.events.START_PLAYING,b),jQuery(s).on(s.events.STOP_PLAYING,c),jQuery(s).on(s.events.VIDEO_ENDED,d),jQuery(t).on(t.events.START_PLAYING,b),jQuery(t).on(t.events.STOP_PLAYING,c),jQuery(t).on(t.events.VIDEO_ENDED,d),jQuery(u).on(u.events.START_PLAYING,b),jQuery(u).on(u.events.STOP_PLAYING,c),jQuery(u).on(u.events.VIDEO_ENDED,d),jQuery(v).on(v.events.START_PLAYING,b),jQuery(v).on(v.events.STOP_PLAYING,c),jQuery(v).on(v.events.VIDEO_ENDED,d)}function f(a){var b=["youtube","vimeo","html5","soundcloud","wistia"];for(var c in b){var d=b[c];if(d!=a)switch(d){case"youtube":r.pause(),r.destroy(),i.hide();break;case"vimeo":s.pause(),s.destroy(),j.hide();break;case"html5":t.pause(),k.hide();break;case"soundcloud":u.pause(),u.destroy(),m.hide();break;case"wistia":v.pause(),n.hide()}}}var g,h,i,j,k,l,m,n,o=this,p=jQuery(this),q=new UGFunctions,r=new UGYoutubeAPI,s=new UGVimeoAPI,t=new UGHtml5MediaAPI,u=new UGSoundCloudAPI,v=new UGWistiaAPI,w=null,x={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var y={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(a,b,c){if(g=c,!g)throw new Error("missing gallery ID for video player, it's a must!");x=jQuery.extend(x,a),r.setOptions(x),b&&1==b&&(y.standAloneMode=!0)},this.setHtml=function(a){y.youtubeInnerID=g+"_youtube_inner",y.vimeoPlayerID=g+"_videoplayer_vimeo",y.html5PlayerID=g+"_videoplayer_html5",y.wistiaPlayerID=g+"_videoplayer_wistia",y.soundCloudPlayerID=g+"_videoplayer_soundcloud";var b="<div class='ug-videoplayer' style='display:none'>";b+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+y.youtubeInnerID+"'></div></div>",b+="<div id='"+y.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",b+="<div id='"+y.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",b+="<div id='"+y.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",b+="<div id='"+y.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==y.standAloneMode&&1==x.video_enable_closebutton&&(b+="<div class='ug-videoplayer-button-close'></div>"),b+="</div>",a.append(b),h=a.children(".ug-videoplayer"),i=h.children(".ug-videoplayer-youtube"),j=h.children(".ug-videoplayer-vimeo"),k=h.children(".ug-videoplayer-html5"),m=h.children(".ug-videoplayer-soundcloud"),n=h.children(".ug-videoplayer-wistia"),0==y.standAloneMode&&1==x.video_enable_closebutton&&(l=h.children(".ug-videoplayer-button-close"))},this.destroy=function(){l&&(l.off("click"),l.off("touchend")),jQuery(r).off(r.events.START_PLAYING),jQuery(r).off(r.events.STOP_PLAYING),jQuery(s).off(s.events.START_PLAYING),jQuery(s).off(s.events.STOP_PLAYING),jQuery(t).off(t.events.START_PLAYING),jQuery(t).off(t.events.STOP_PLAYING),jQuery(u).off(u.events.START_PLAYING,b),jQuery(u).off(u.events.STOP_PLAYING,c),jQuery(v).off(v.events.START_PLAYING,b),jQuery(v).off(v.events.STOP_PLAYING,c),w=null},this.initEvents=function(){e()},this.setSize=function(a,b){q.setElementSize(h,a,b),l&&q.placeElement(l,"right","top")},this.setPosition=function(a,b){q.placeElement(h,a,b)},this.getObject=function(){return h},this.show=function(){return 1==o.isVisible()||(h.show(),h.fadeTo(0,1),l&&l.show(),void p.trigger(o.events.SHOW))},this.hide=function(){return 0==o.isVisible()||(f(),w=null,h.hide(),void p.trigger(o.events.HIDE))},this.getActiveAPI=function(){switch(w){case"youtube":return r;case"vimeo":return s;case"wistia":return v;case"soundcloud":return u;case"html5":return t;default:return null}},this.pause=function(){var a=o.getActiveAPI();return null!=a&&void("function"==typeof a.pause&&a.pause())},this.isVisible=function(){return h.is(":visible")},this.playYoutube=function(a,b){if("undefined"==typeof b)var b=!0;f("youtube"),i.show();var c=i.children("#"+y.youtubeInnerID);0==c.length&&i.append("<div id='"+y.youtubeInnerID+"'></div>"),1==r.isPlayerReady()&&1==y.standAloneMode?r.changeVideo(a,b):r.putVideo(y.youtubeInnerID,a,"100%","100%",b),w="youtube"},this.playVimeo=function(a,b){if("undefined"==typeof b)var b=!0;f("vimeo"),j.show(),s.putVideo(y.vimeoPlayerID,a,"100%","100%",b),w="vimeo"},this.playHtml5Video=function(a,b,c,d,e){if("undefined"==typeof e)var e=!0;f("html5"),k.show();var g={ogv:a,webm:b,mp4:c,posterImage:d};t.putVideo(y.html5PlayerID,g,"100%","100%",e),w="html5"},this.playSoundCloud=function(a,b){if("undefined"==typeof b)var b=!0;f("soundcloud"),m.show(),u.putSound(y.soundCloudPlayerID,a,"100%","100%",b),w="soundcloud"},this.playWistia=function(a,b){if("undefined"==typeof b)var b=!0;f("wistia"),n.show(),v.putVideo(y.wistiaPlayerID,a,"100%","100%",b),w="wistia"}}function ugCheckForMinJQueryVersion(){var a=g_ugFunctions.checkMinJqueryVersion("1.8.0");if(0==a)throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(a,b){function c(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}function d(){if("function"==typeof jQuery.fn.unitegallery)return!0;var a="You have some jquery.js library include that comes after the gallery files js include.";throw a+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==b?(a+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",a+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):a+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(a)}try{"jquery"==b?(c(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),d())}catch(e){var f=e.message;if(f="Unite Gallery Error: "+f,f="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+f+"</div>","jquery"==b){var g=document.getElementById(a);g.innerHTML=f,g.style.display="block"}else jQuery(a).show().html(f);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(a){var b=a;return-1==b.indexOf("UGTheme_")&&(b="UGTheme_"+b),b}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(a){throwErrorShowMessage(a.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(a,b,c,d){var e="object"==typeof b;if(e&&(g_temp.objCustomOptions=b),1==g_temp.isRunFirstTime){if(g_galleryID=a,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),e&&(g_options=jQuery.extend(g_options,b)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var f=g_objWrapper.children();fillItemsArray(f),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),c){if(d&&1==g_options.gallery_enable_cache&&cacheItems(d,c),"noitems"==c)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(c);var f=g_objWrapper.children();fillItemsArray(f),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore,g_objLoadMore.init(t,g_options)),e&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties();var g=g_objWrapper.width();0==g?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(a,b){if("undefined"==typeof b)var b="<b>Unite Gallery Error: </b>";else b="<b>"+b+": </b>";a=b+a;var c="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+a+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(c),g_objWrapper.show()}function throwErrorShowMessage(a){throw showErrorMessage(a),new Error(a)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var a=t.getSize();g_temp.lastWidth=a.width,g_temp.lastHeight=a.height}function setHeightByOriginalRatio(){var a=t.getSize(),b=a.width/a.height;if(b!=a.orig_ratio){var c=a.width/a.orig_ratio;c=Math.round(c),c<g_options.gallery_min_height&&(c=g_options.gallery_min_height),g_objWrapper.height(c)}}function setHtmlObjectsProperties(){var a=g_functions.getCssSizeParam(g_options.gallery_width),b={"max-width":a,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var c=g_functions.getCssSizeParam(g_options.gallery_height);b.height=c}else b.overflow="visible";g_options.gallery_background_color&&(b["background-color"]=g_options.gallery_background_color),g_objWrapper.css(b)}function fillItemByChild(a){var b=t.isMobileMode(),c=a.prop("tagName").toLowerCase(),d="";if("a"==c){d=a.attr("href"),a=a.children();var c=a.prop("tagName").toLowerCase()}var e=a.data("type");void 0==e&&(e="image");var f={};if(f.type=e,"img"==c){var g=a.data("lazyload-src");g&&""!=g&&(a.attr("src",g),jQuery.removeData(a,"lazyload-src"));var h=a.data("image"),i=a.data("thumb");"undefined"==typeof h&&(h=null),"undefined"==typeof i&&(i=null);var j=a.attr("src");h||(h=j),i||(i=j),i||(i=h),h||(h=i),f.urlThumb=i,f.urlImage=h,f.title=a.attr("alt"),f.objThumbImage=a,f.objThumbImage.attr("src",f.urlThumb)}else{if("image"==e)throw trace("Problematic gallery item found:"),trace(a),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");f.urlThumb=a.data("thumb"),f.title=a.data("title"),f.objThumbImage=null,f.urlImage=a.data("image")}if(1==b){var k=a.data("thumb-mobile");"undefined"!=typeof k&&""!=k&&(f.urlThumb=k,"img"==c&&a.attr("src",f.urlThumb));var l=a.data("image-mobile");"undefined"!=typeof l&&""!=l&&(f.urlImage=l)}f.link=d,f.description=a.attr("title"),f.description||(f.description=a.data("description")),f.description||(f.description=""),f.isNewAdded=!1,f.isLoaded=!1,f.isThumbImageLoaded=!1,f.objPreloadImage=null,f.isBigImageLoadStarted=!1,f.isBigImageLoaded=!1,f.isBigImageLoadError=!1,f.imageWidth=0,f.imageHeight=0,f.thumbWidth=0,f.thumbHeight=0,f.thumbRatioByWidth=0,f.thumbRatioByHeight=0;var m=a.data("width"),n=a.data("height");m&&"number"==typeof m&&n&&"number"==typeof n&&(f.thumbWidth=m,f.thumbHeight=n,f.thumbRatioByWidth=m/n,f.thumbRatioByHeight=n/m),f.addHtml=null;var o=void 0==f.urlImage||""==f.urlImage,p=void 0==f.urlThumb||""==f.urlThumb;switch(f.type){case"youtube":if(f.videoid=a.data("videoid"),o||p){var q=g_ugYoutubeAPI.getVideoImages(f.videoid);o&&(f.urlImage=q.preview),p&&(f.urlThumb=q.thumb,"img"==c&&a.attr("src",f.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":f.videoid=a.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":f.videoogv=a.data("videoogv"),f.videowebm=a.data("videowebm"),f.videomp4=a.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":f.trackid=a.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":f.videoid=a.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var r=a.children("img");r.length&&(r=jQuery(r[0]),f.urlThumb=r.attr("src"),f.title=r.attr("alt"),f.objThumbImage=r);var s=a.children().not("img:first-child");s.length&&(f.addHtml=s.clone())}return f.objThumbImage&&(f.objThumbImage.removeAttr("data-description",""),f.objThumbImage.removeAttr("data-image",""),f.objThumbImage.removeAttr("data-thumb",""),f.objThumbImage.removeAttr("title","")),f}function fillItemsArray(a,b){if(b!==!0)g_arrItems=[];else for(var c=0;g_numItems>c;c++)g_arrItems[c].isNewAdded=!1;for(var c=0;c<a.length;c++){var d=jQuery(a[c]),e=fillItemByChild(d);numIndex=g_arrItems.length,e.index=numIndex,b===!0&&(e.isNewAdded=!0),g_arrItems.push(e)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var a=this,b=g_objThumbs.isItemThumbVisible(a);1==b&&preloadItemImage(a)})}}function checkPreloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(a);break;case"visible":var b=g_objThumbs.isItemThumbVisible(a);1==b&&preloadItemImage(a)}}function preloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!0;var b=a.urlImage;return""==b||void 0==b?(a.isBigImageLoadError=!0,!1):(a.isBigImageLoadStarted=!0,a.objPreloadImage=jQuery("<img/>").attr("src",b),a.objPreloadImage.data("itemIndex",a.index),a.objPreloadImage.on("load",t.onItemBigImageLoaded),a.objPreloadImage.on("error",function(){var a=jQuery(this),b=a.data("itemIndex"),c=g_arrItems[b];c.isBigImageLoadError=!0,c.isBigImageLoaded=!1;
var d=jQuery(this).attr("src");console.log("Can't load image: "+d),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[b,c.urlImage]),c.objThumbImage.attr("src",c.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(a){if(1==g_temp.isAllItemsPreloaded)return!1;if(!a)var a=g_selectedItem;if(!a)return!0;var b=a.index,c=b-1,d=b+1;c>0&&preloadItemImage(g_arrItems[c]),g_numItems>d&&preloadItemImage(g_arrItems[d])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var a in g_arrItems)if(0==g_arrItems[a].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(a){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(a){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){var b=g_objSlider.isCurrentSlideLoadingImage();0==b&&t.continuePlaying()}}function onKeyPress(a){var b=jQuery(a.target);if(b.is("textarea")||b.is("select")||b.is("input"))return!0;var c=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0,d=!0;switch(c){case 39:t.nextItem();break;case 37:t.prevItem();break;default:d=!1}1==d&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[c,a])}function onGalleryResized(){var a=t.getSize();if(0==a.width)return!0;t.setSizeClass();var a=t.getSize();if(a.width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&a.height!=g_temp.lastHeight){var b=!1;if(g_temp.funcCustomHeight){var c=g_temp.funcCustomHeight(a);c&&(g_objWrapper.height(c),b=!0)}0==b&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(a){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var a=g_functions.isFullScreen(),b=a?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,c=g_functions.getGlobalData("fullscreenID");return g_galleryID!==c||(a?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(b),void onGalleryResized())}function onItemImageUpdated(a,b){var c=t.getItem(b);checkPreloadItemImage(c)}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(a){a.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var a=g_objSlider.getCurrentItemIndex();-1!=a&&t.selectItem(a)}),1==g_options.gallery_pause_on_mouseover){var a=g_objSlider.getElement();a.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(a,b){if(b){var c=b;"noitems"!=c&&(c=jQuery(b).clone())}else var c=g_objWrapper.children().clone();g_objCache[a]=c}function removeAllSizeClasses(a){a||(a=g_objWrapper),a.removeClass("ug-under-480"),a.removeClass("ug-under-780"),a.removeClass("ug-under-960")}function retriggerEvent(a,b,c){jQuery(a).on(b,function(a){g_objGallery.trigger(c,[this])})}function advanceNextStep(){var a=jQuery.now(),b=a-g_temp.playTimeLastStep;g_temp.playTimeLastStep=a;var c=t.isGalleryVisible();if(0==c)return!1;if(g_temp.playTimePassed+=b,g_temp.objProgress){var d=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(d)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(a,b){if(!b)var b=jQuery(this);var c=b.data("itemIndex"),d=g_arrItems[c];d.isBigImageLoaded=!0;var e=g_functions.getImageOriginalSize(b);d.imageWidth=e.width,d.imageHeight=e.height},this.checkFillImageSize=function(a,b){if(!b){var c=a.data("itemIndex");if(void 0===c)throw new Error("Wrong image given to gallery.checkFillImageSize");var b=g_arrItems[c]}var d=g_functions.getImageOriginalSize(a);b.imageWidth=d.width,b.imageHeight=d.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(a,b){g_temp.thumbsType=a,g_objThumbs=b},this.initSlider=function(a,b){if(!a)var a={};a=jQuery.extend(g_temp.objCustomOptions,a),g_objSlider=new UGSlider,g_objSlider.init(t,a,b)},this.onGalleryMouseWheel=function(a,b,c,d){a.preventDefault(),b>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var a=g_objSlider.getElement();a.off("mouseenter"),a.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var a={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return a},this.getObjSlider=function(){return g_objSlider},this.getItem=function(a){if(0>a)throw new Error("item with index: "+a+" not found");if(a>=g_numItems)throw new Error("item with index: "+a+" not found");return g_arrItems[a]},this.getWidth=function(){var a=t.getSize();return a.width},this.getHeight=function(){var a=t.getSize();return a.height},this.getSize=function(){var a=g_functions.getElementSize(g_objWrapper);return a.orig_width=g_options.gallery_width,a.orig_height=g_options.gallery_height,a.orig_ratio=a.orig_width/a.orig_height,a},this.getGalleryID=function(){var a=g_galleryID.replace("#","");return a},this.getNextItem=function(a,b){"object"==typeof a&&(a=a.index);var c=a+1;if(b!==!0&&1==g_numItems)return null;if(c>=g_numItems){if(1!=g_options.gallery_carousel&&b!==!0)return null;c=0}var d=g_arrItems[c];return d},this.getPrevItem=function(a){"object"==typeof a&&(a=a.index);var b=a-1;if(0>b){if(1!=g_options.gallery_carousel&&forceCarousel!==!0)return null;b=g_numItems-1}var c=g_arrItems[b];return c},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.nextItem)},this.setPrevButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.prevItem)},this.setFullScreenToggleButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnTap(a,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){a.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){a.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){a.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){a.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(a){g_temp.objProgress=a},this.setTextContainers=function(a,b){g_objGallery.on(t.events.ITEM_CHANGE,function(){var c=t.getSelectedItem();a.html(c.title),b.html(c.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var a=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),a.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var a=g_temp.objProgress.getElement();a.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var a in g_arrItems)g_arrItems[a].index=parseInt(a)},this.setOptions=function(a){g_options=jQuery.extend(g_options,a)},this.selectItem=function(a,b){"number"==typeof a&&(a=t.getItem(a));var c=a.index;if(c==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=a,g_selectedItemIndex=c,g_objGallery.trigger(t.events.ITEM_CHANGE,[a,b]),1==g_temp.isPlayMode){t.resetPlaying();var d=g_objSlider.isCurrentSlideLoadingImage();1==d&&t.pausePlaying()}},this.nextItem=function(){var a=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&a>=g_numItems||(a>=g_numItems&&(a=0),void t.selectItem(a,"next")))},this.prevItem=function(){var a=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(a=0),0==g_numItems||(0==g_options.gallery_carousel&&0>a||(0>a&&(a=g_numItems-1),void t.selectItem(a,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var a=g_objWrapper.get(0),b=g_functions.toFullscreen(a);0==b&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(a,b,c){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",a+"px"),b&&g_objWrapper.height(b),c||c===!0||onGalleryResized()},this.setSizeClass=function(a,b){if(!a)var a=g_objWrapper;if(!b)var c=t.getSize(),b=c.width;if(0==b)var b=jQuery(window).width();var d="";return 480>=b?d="ug-under-480":780>=b?d="ug-under-780":960>b&&(d="ug-under-960"),1==a.hasClass(d)||(removeAllSizeClasses(a),void(""!=d&&a.addClass(d)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var a=jQuery(window).width();return!a||480>=a},this.isGalleryVisible=function(){var a=g_objWrapper.is(":visible");return a},this.changeItems=function(a,b){if(!a)var a="noitems";runGallery(g_galleryID,"nochange",a,b)},this.addItems=function(a){if(!a||0==a.length)return!1;var b=g_objWrapper.children(".ug-newitems-wrapper");0==b.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),b=g_objWrapper.children(".ug-newitems-wrapper"),b.append(a);var c=jQuery(b.children());if(fillItemsArray(c,!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");b.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var a=[];return jQuery.each(g_arrItems,function(b,c){1==c.isNewAdded&&a.push(b)}),a},this.showErrorMessageReplaceGallery=function(a){showErrorMessage(a)},this.setFuncCustomHeight=function(a){g_temp.funcCustomHeight=a},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(a,b){b?("array"!=jQuery.type(b)&&(b=[b]),g_objGallery.trigger(a,b)):g_objGallery.trigger(a)},this.onEvent=function(a,b){g_objGallery.on(a,b)},this.destroyEvent=function(a){g_objGallery.off(a)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(a,b,c,d){if(!c||"function"!=typeof c)throw new Error("ajaxRequest error: success function should be passed");var e=g_options.gallery_urlajax;if(!e||""==e)throw new Error("ajaxRequest error: Ajax url don't passed");if("undefined"==typeof b)var b={};var f={action:"unitegallery_ajax_action",client_action:a,galleryID:g_galleryID,data:b};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:f,success:function(a){if(!a)throw new Error("Empty ajax response!");if(-1==a||0===a)throw new Error("ajax error!!!");if("undefined"==typeof a.success)throw new Error("ajax error!!!");return 0==a.success?(showErrorMessage(a.message,"ajax error"),!1):void c(a)},error:function(a,b,c){console.log("Ajax Error!!! "+b),responseText=a.responseText,d&&"function"==typeof d?d(responseText):trace(responseText)}})},this.requestNewItems=function(a,b,c){var d=g_options.gallery_enable_cache;if(c||(c=a),1==b&&(d=!1),1==d&&g_objCache.hasOwnProperty(c)){var e=g_objCache[c];t.changeItems(e,c)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:a},function(a){var b=a.html;t.changeItems(b,c)})},this.run=function(a,b){if(g_options.gallery_debug_errors,b&&b.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=b.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(a,b)}catch(c){if("object"==typeof c){var d=c.message,e=c.lineNumber,f=c.fileName;c.stack,d+=" <br><br> in file: "+f,d+=" <b> line "+e+"</b>",trace(c)}else var d=c;d=d.replace("Error:",""),showErrorMessage(d)}else runGallery(a,b)}}function UGLightbox(){function a(a,c){ca=a,U=jQuery(a),ga=jQuery.extend(ga,ia),ga=jQuery.extend(ga,c),ha.originalOptions=jQuery.extend({},ga),"compact"==ga.lightbox_type&&(ha.isCompact=!0,ga=jQuery.extend(ga,ja),ga=jQuery.extend(ga,c)),b(),1==ha.putSlider?(ca.initSlider(ga,"lightbox"),g_objects=a.getObjects(),da=g_objects.g_objSlider):da=null,1==ga.lightbox_show_textpanel?fa.init(ca,ga,"lightbox"):fa=null}function b(){1==ha.isCompact&&1==ga.lightbox_show_textpanel&&(ga.lightbox_slider_image_padding_bottom=ha.initTextPanelHeight),1==ha.isCompact&&"inside"==ga.lightbox_arrows_position&&(ha.isArrowsInside=!0),1==ha.isArrowsInside&&0==ga.lightbox_arrows_inside_alwayson&&(ha.isArrowsOnHoverMode=!0),0==ga.lightbox_show_textpanel&&(ha.isTopPanelEnabled=!1,ha.topPanelHeight=0,ga.lightbox_slider_image_padding_top=0)}function c(){var a="",b="";1==ha.isCompact&&(b=" ug-lightbox-compact"),a+="<div class='ug-gallery-wrapper ug-lightbox"+b+"'>",a+="<div class='ug-lightbox-overlay'></div>",0==ha.isCompact&&ha.isTopPanelEnabled?(a+="<div class='ug-lightbox-top-panel'>",a+="<div class='ug-lightbox-top-panel-overlay'></div>",ga.lightbox_show_numbers&&(a+="<div class='ug-lightbox-numbers'></div>"),a+="</div>"):ga.lightbox_show_numbers&&(a+="<div class='ug-lightbox-numbers'></div>"),a+="<div class='ug-lightbox-button-close'></div>",a+="<div class='ug-lightbox-arrow-left'></div>",a+="<div class='ug-lightbox-arrow-right'></div>",a+="</div>",V=jQuery(a),jQuery("body").append(V),da&&da.setHtml(V),W=V.children(".ug-lightbox-overlay"),0==ha.isCompact&&1==ha.isTopPanelEnabled&&(_=V.children(".ug-lightbox-top-panel"),0==_.length&&(_=null)),Z=V.find(".ug-lightbox-button-close"),ga.lightbox_show_numbers&&($=V.find(".ug-lightbox-numbers")),X=V.children(".ug-lightbox-arrow-left"),Y=V.children(".ug-lightbox-arrow-right"),fa&&(_?fa.appendHTML(_):fa.appendHTML(V))}function d(){if(null!==ga.lightbox_overlay_color&&W.css("background-color",ga.lightbox_overlay_color),null!==ga.lightbox_overlay_opacity&&W.fadeTo(0,ga.lightbox_overlay_opacity),_&&null!==ga.lightbox_top_panel_opacity&&_.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ga.lightbox_top_panel_opacity),$){var a={};null!==ga.lightbox_numbers_size&&(a["font-size"]=ga.lightbox_numbers_size+"px"),ga.lightbox_numbers_color&&(a.color=ga.lightbox_numbers_color),null!==ga.lightbox_numbers_padding_right&&(a["padding-right"]=ga.lightbox_numbers_padding_right+"px"),null!==ga.lightbox_numbers_padding_top&&(a["padding-top"]=ga.lightbox_numbers_padding_top+"px"),$.css(a)}}function e(a){if(!da)return!0;var b={slider_image_padding_top:a};da.setOptions(b),da.refreshSlideItems()}function f(a){if(!_)return!1;if(!fa)return!1;var b=_.height();if(0==b)return!1;if(0==_.is(":visible"))return!1;var c=b,d=fa.getSize(),f=d.height;b!=ha.topPanelHeight&&(c=ha.topPanelHeight),f>c&&(c=f),b!=c&&(_.height(c),da&&0==da.isAnimating()&&e(c))}function g(a){var b={},c=ga.lightbox_textpanel_width,d=47,e=40,g=a.width-d-e;c>g?(b.textpanel_padding_left=d,b.textpanel_padding_right=e,b.textpanel_title_text_align="center",b.textpanel_desc_text_align="center"):(b.textpanel_padding_left=Math.floor((a.width-c)/2),b.textpanel_padding_right=b.textpanel_padding_left,b.textpanel_title_text_align="left",b.textpanel_desc_text_align="left",ga.lightbox_textpanel_title_text_align&&(b.textpanel_title_text_align=ga.lightbox_textpanel_desc_text_align),ga.lightbox_textpanel_desc_text_align&&(b.textpanel_desc_text_align=ga.lightbox_textpanel_desc_text_align)),fa.setOptions(b),fa.refresh(!0,!0),f("positionTextPanelWide"),fa.positionPanel()}function h(){return!!_&&void _.hide()}function i(){return!!_&&void _.show()}function j(a){if(0==ha.isOpened)return!1;if(!fa)return!1;if(!da)return!1;var b=ea.getElementSize(V),c=fa.getSize();if(0==c.width||c.height>120)return!1;if(!a)var d=da.getSlideImage(),a=ea.getElementSize(d);if(0==a.height||0==a.width)return!1;var e=a.bottom+c.height;if(e<b.height)return!1;var f=da.getOptions(),g=c.height;if(g!=f.slider_image_padding_bottom){var h={slider_image_padding_bottom:g};if(0==da.isAnimating())return da.setOptions(h),da.refreshSlideItems(),!0}return!1}function k(a,b){if(!a)var c=da.getSlideImage(),a=ea.getElementSize(c);ha.textPanelTop=a.bottom,b===!0&&fa.positionPanel(ha.textPanelTop,ha.textPanelLeft)}function l(a){var b=(ea.getElementSize(V),da.getSlideImage()),c=ea.getElementSize(b);if(0==c.width)return!1;ha.textPanelLeft=c.left,ha.textPanelTop=c.bottom;var d=c.width;if($){var e=ea.getElementSize($);d-=e.width;var f=c.right-e.width;ea.placeElement($,f,ha.textPanelTop)}fa&&(fa.show(),fa.refresh(!0,!0,d),k(c));var g=j(c);0==g&&(ha.positionFrom="handleCompactTextpanelSizes",fa&&(fa.positionPanel(ha.textPanelTop,ha.textPanelLeft),a===!0&&(a(),C())))}function m(){if(0==da.isCurrentSlideType("image"))return!0;var a=1==da.isCurrentImageInPlace();return a}function n(a,b){if(0==ha.isArrowsInside)return!1;if(!X)return!1;var c=m();if(X.show(),Y.show(),ha.positionFrom="positionArrowsInside",1==ha.isArrowsOnHoverMode&&1==c&&0==u()&&v(!0),0==c)var d=ea.getElementRelativePos(X,"left",ga.lightbox_arrows_offset),e=ea.getElementRelativePos(X,"middle"),f=ea.getElementRelativePos(Y,"right",ga.lightbox_arrows_offset),g=e;else var h=da.getSlideImage(),i=ea.getElementSize(h),d=(ea.getElementSize(da.getElement()),ea.getElementRelativePos(X,"left",0,h)+i.left+ga.lightbox_arrows_inside_offset),e=ea.getElementRelativePos(X,"middle",0,h)+i.top,f=ea.getElementRelativePos(X,"right",0,h)+i.left-ga.lightbox_arrows_inside_offset,g=e;if(b===!0){var j={left:d,top:e},k={left:f,top:g};X.stop().animate(j,{duration:ha.fadeDuration}),Y.stop().animate(k,{duration:ha.fadeDuration})}else X.stop(),Y.stop(),ea.placeElement(X,d,e),ea.placeElement(Y,f,g);1==a&&x(b)}function o(a,b){ha.positionFrom=null;var c=m(),d=2,e=ea.getElementRelativePos(Z,"right",2,V);if(0==c)var f=d,g=e;else{var h=da.getSlideImage(),i=ea.getElementSize(h),j=ea.getElementSize(da.getElement()),k=ea.getElementSize(Z);j.top==j.height&&(j.top=0);var g=j.left+i.right-k.width/2+ga.lightbox_compact_closebutton_offsetx,f=j.top+i.top-k.height/2-ga.lightbox_compact_closebutton_offsety;d>f&&(f=d),g>e&&(g=e)}if(b===!0){var l={left:g,top:f};Z.stop().animate(l,{duration:ha.fadeDuration})}else Z.stop(),ea.placeElement(Z,g,f);a===!0&&y(b)}function p(){Z&&Z.stop().fadeTo(ha.fadeDuration,0),s(),t(),ha.positionFrom="hideCompactElements",1==ha.isArrowsInside&&v()}function q(){Z&&Z.hide(),X&&1==ha.isArrowsInside&&(X.hide(),Y.hide()),$&&$.hide(),fa&&fa.hide()}function r(){var a=ea.getElementSize(V);_&&ea.setElementSizeAndPosition(_,0,0,a.width,ha.topPanelHeight),X&&0==ha.isArrowsInside&&(1==ga.lightbox_hide_arrows_onvideoplay&&(X.show(),Y.show()),ea.placeElement(X,"left","middle",ga.lightbox_arrows_offset),ea.placeElement(Y,"right","middle",ga.lightbox_arrows_offset)),0==ha.isCompact&&ea.placeElement(Z,"right","top",2,2),fa&&(ha.positionFrom="positionElements",0==ha.isCompact?g(a):(B(),C()));var b=a.width,c=a.height,d=0,e=0;if(da){if(_){var f=_.height(),h={slider_image_padding_top:f};da.setOptions(h)}da.setSize(b,c),da.setPosition(e,d)}}function s(){fa&&fa.getElement().stop().fadeTo(ha.fadeDuration,0)}function t(){$&&$.stop().fadeTo(ha.fadeDuration,0)}function u(){if(!ha.lastMouseX)return!0;var a={pageX:ha.lastMouseX,pageY:ha.lastMouseY},b=da.isMouseInsideSlideImage(a);return b}function v(a,b){return!!X&&(1==ha.isArrowsOnHoverMode&&b===!1?(1==u(),!0):void(a===!0?(X.stop().fadeTo(0,0),Y.stop().fadeTo(0,0)):(X.stop().fadeTo(ha.fadeDuration,0),Y.stop().fadeTo(ha.fadeDuration,0))))}function w(){if(!X)return!0;if(0==X.is(":visible"))return!0;var a=X.css("opacity");return 1!=a}function x(a,b){return!!X&&(1==ha.isArrowsOnHoverMode&&b!==!0&&1==m()||(1==da.isSwiping()||(a!==!0&&(X.stop(),Y.stop()),X.fadeTo(ha.fadeDuration,1),void Y.fadeTo(ha.fadeDuration,1))))}function y(a){a!==!0&&Z.stop(),Z.fadeTo(ha.fadeDuration,1)}function z(a){if(!fa)return!1;if(!a)var a=da.getCurrentItem();fa.setTextPlain(a.title,a.description)}function A(a){if(!$)return!1;if(!a)var a=da.getCurrentItem();var b=ca.getNumItems(),c=a.index+1;$.html(c+" / "+b)}function B(){return!!fa&&void fa.getElement().show().stop().fadeTo(ha.fadeDuration,1)}function C(){$&&$.stop().fadeTo(ha.fadeDuration,1)}function D(){return 0==ha.isCompact||void p()}function E(){if(0==ha.isCompact)return!0;if(ha.positionFrom="onZoomChange",o(!1,!0),n(!1,!0),1==ha.isCompact){var a=da.isCurrentSlideType("image")&&1==da.isCurrentImageInPlace();0==a?(s(),t()):(ha.positionFrom="onZoomChange",B(),C())}}function F(){if(0==ha.isCompact)return!0;ha.positionFrom="onSliderAfterReturn",o(!0),n(!0);var a=j();0==a&&l(),B(),C()}function G(a,b){return b=jQuery(b),0==ha.isCompact||(0==da.isSlideCurrent(b)||(ha.positionFrom="onSliderAfterPutImage",o(!0),n(!0),void l()))}function H(){var a=da.getOptions(),b=a.slider_image_padding_top;if(_){var c=_.height();c!=b&&e(c)}if(1==ha.isCompact){if(z(),A(),ha.positionFrom="onSliderTransitionEnd",o(!0),n(!0),0==da.isSlideActionActive()){var d=j();0==d&&l()}B(),C()}}function I(a,b){0==ha.isCompact?($&&A(b),fa&&(z(b),0==ha.isRightNowOpened&&(fa.positionElements(!1),f("onchange"),fa.positionPanel()))):0==da.isAnimating()&&(fa&&z(b),$&&A(b)),0==ha.isSliderChangedOnce&&(ha.isSliderChangedOnce=!0,ba.trigger(aa.events.LIGHTBOX_INIT))}function J(a,b){var c=da.getSlideType();if("image"!=c&&0==ha.isCompact&&da.isSlideActionActive())return!0;var d=da.isPreloading();if(1==d)return aa.close("slider"),!0;if(1==ga.lightbox_close_on_emptyspace){var e=da.isMouseInsideSlideImage(b);0==e&&aa.close("slider_inside")}}function K(){r()}function L(){_?h():$&&$.hide(),X&&1==ga.lightbox_hide_arrows_onvideoplay&&(X.hide(),Y.hide())}function M(){_?(i(),f("onStopVideo")):$&&$.show(),X&&1==ga.lightbox_hide_arrows_onvideoplay&&(X.show(),Y.show())}function N(a,b,c){var d=!1;switch(b){case 27:1==ha.isOpened&&aa.close("keypress");break;case 38:case 40:case 33:case 34:d=!0}1==ha.isOpened&&1==d&&c.preventDefault()}function O(){1==ha.isArrowsOnHoverMode&&x(!1,!0)}function P(a){ha.positionFrom="hideCompactElements",1==ha.isArrowsOnHoverMode&&1==m()&&v(!1,!0)}function Q(a){ha.lastMouseX=a.pageX,ha.lastMouseY=a.pageY;var b=w();1==b&&u()&&0==da.isAnimating()&&(ha.positionFrom="onMouseMove",X&&0==X.is(":animated")&&x(!1,!0))}function R(a,b,c,d){if(0==ha.isOpened)return!0;switch(ga.gallery_mousewheel_role){default:case"zoom":var e=da.getSlideType();"image"!=e&&a.preventDefault();break;case"none":a.preventDefault();break;case"advance":ca.onGalleryMouseWheel(a,b,c,d)}}function S(){if(W.on("touchstart",function(a){a.preventDefault()}),W.on("touchend",function(a){aa.close("overlay")}),ea.addClassOnHover(Y,"ug-arrow-hover"),ea.addClassOnHover(X,"ug-arrow-hover"),ea.addClassOnHover(Z),ca.setNextButton(Y),ca.setPrevButton(X),Z.click(function(){aa.close("button")}),U.on(ca.events.ITEM_CHANGE,I),da){jQuery(da).on(da.events.TRANSITION_END,H),jQuery(da).on(da.events.CLICK,J);var a=da.getVideoObject();jQuery(a).on(a.events.PLAY_START,L),jQuery(a).on(a.events.PLAY_STOP,M),jQuery(da).on(da.events.START_DRAG,D),jQuery(da).on(da.events.TRANSITION_START,D),jQuery(da).on(da.events.AFTER_DRAG_CHANGE,F),jQuery(da).on(da.events.AFTER_RETURN,F),jQuery(da).on(da.events.AFTER_PUT_IMAGE,G),jQuery(da).on(da.events.ZOOM_CHANGE,E),jQuery(da).on(da.events.IMAGE_MOUSEENTER,O),jQuery(da).on(da.events.IMAGE_MOUSELEAVE,P)}jQuery(window).resize(function(){return 0==ha.isOpened||void ea.whenContiniousEventOver("lightbox_resize",K,100)}),U.on(ca.events.GALLERY_KEYPRESS,N),1==ha.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",Q),V.on("mousewheel",R)}function T(){ha.isCompact=!1,b(),ha.isArrowsInside=!1,ha.isArrowsOnHoverMode=!1,ga=jQuery.extend({},ha.originalOptions),ga.lightbox_arrows_position="sides",da.setOptions(ga)}var U,V,W,X,Y,Z,$,_,aa=this,ba=jQuery(this),ca=new UniteGalleryMain,da=new UGSlider,ea=new UGFunctions,fa=new UGTextPanel,ga={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var ha={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},ia={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:ha.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,
lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ja={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),W.off("touchstart"),W.off("touchend"),Z.off("click"),U.off(ca.events.ITEM_CHANGE),da){jQuery(da).off(da.events.TRANSITION_END),jQuery(da).off(da.events.CLICK),jQuery(da).off(da.events.START_DRAG),jQuery(da).off(da.events.TRANSITION_START),jQuery(da).off(da.events.AFTER_DRAG_CHANGE),jQuery(da).off(da.events.AFTER_RETURN);var a=da.getVideoObject();jQuery(a).off(a.events.PLAY_START),jQuery(a).off(a.events.PLAY_STOP),jQuery(da).on(da.events.IMAGE_MOUSEENTER,O),jQuery(da).on(da.events.IMAGE_MOUSELEAVE,P),da.destroy()}jQuery(window).unbind("resize"),U.off(ca.events.GALLERY_KEYPRESS,N),V.off("mousewheel"),V.remove()},this.open=function(a){var b=ca.getItem(a);if(ha.isOpened=!0,ha.isRightNowOpened=!0,setTimeout(function(){ha.isRightNowOpened=!1},100),da&&da.setItem(b,"lightbox_open"),fa&&fa.setTextPlain(b.title,b.description),W.stop().fadeTo(0,0),V.show(),V.fadeTo(0,1),W.stop().fadeTo(ha.fadeDuration,ga.lightbox_overlay_opacity),r(),1==ha.isCompact){var c=da.isPreloading();1==c?q():1==ha.isArrowsInside&&(X.hide(),Y.hide())}da&&da.startSlideAction(),U.trigger(ca.events.OPEN_LIGHTBOX,b)},this.close=function(a){ha.isOpened=!1,1==ha.isCompact&&p(),da&&da.stopSlideAction();var b=da.getSlideType();"image"!=b?V.hide():V.fadeTo(ha.fadeDuration,0,function(){V.hide()}),U.trigger(ca.events.CLOSE_LIGHTBOX)},this.init=function(b,c){a(b,c)},this.putHtml=function(){var a=ca.isSmallWindow();a&&1==ha.isCompact&&T(),c()},this.run=function(){d(),da&&da.run(),S()}}function UGCarousel(){function a(a,b){g_objects=a.getObjects(),Q=a,J=jQuery(a),K=g_objects.g_objWrapper,L=g_objects.g_arrItems,U=jQuery.extend(U,b),S.setFixedMode(),S.setApproveClickFunction(I),S.init(a,U),T=S.getObjThumbs(),U=S.getOptions(),V.initTileWidth=U.tile_width,V.initTileHeight=U.tile_height,V.tileWidth=U.tile_width}function b(a){if(!a)var a=K;var b="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";K.append(b),M=K.children(".ug-carousel-wrapper"),N=M.children(".ug-carousel-inner"),S.setHtml(N),T.getThumbs().fadeTo(0,1)}function c(a,b){if(!b)var b=V.initTileHeight/V.initTileWidth*a;V.tileWidth=a;var c={tile_width:a,tile_height:b};S.setOptions(c),U.tile_width=a,U.tile_height=b,S.resizeAllTiles(a),r(!0)}function d(){if(null===V.carouselMaxWidth)throw new Error("The carousel width not set");if(V.tileWidth<V.initTileWidth){var a=V.carouselMaxWidth-2*U.carousel_padding;a>V.initTileWidth&&(a=V.initTileWidth),c(a);var b=R.getNumItemsInSpace(V.carouselMaxWidth,a,U.carousel_space_between_tiles)}else{var b=R.getNumItemsInSpace(V.carouselMaxWidth,V.tileWidth,U.carousel_space_between_tiles);if(0>=b){b=1;var a=V.carouselMaxWidth-2*U.carousel_padding;c(a)}}var d=R.getSpaceByNumItems(b,V.tileWidth,U.carousel_space_between_tiles);d+=2*U.carousel_padding,M.width(d),1==V.isFirstTimeRun?(H(),S.run(),jQuery.each(L,function(a,b){b.objThumbWrapper.data("index",a),K.trigger(V.eventSizeChange,[b.objThumbWrapper,!0]),b.objTileOriginal=b.objThumbWrapper.clone(!0,!0)}),r(!0),1==U.carousel_autoplay&&O.startAutoplay()):(1==U.carousel_autoplay&&O.pauseAutoplay(),w(0,!1),1==U.carousel_autoplay&&O.startAutoplay()),A(),V.isFirstTimeRun=!1}function e(){return R.getElementSize(N).left}function f(a){return R.getMousePosition(a).pageX}function g(){var a=N.children(".ug-thumb-wrapper");return a}function h(a){var b=R.getNumItemsInSpace(a,V.tileWidth,U.carousel_space_between_tiles);return b}function i(){return g().length}function j(a){s(a);var b=g(),c=jQuery(b[a]);return c}function k(){return N.children(".ug-thumb-wrapper").first()}function l(){return N.children(".ug-thumb-wrapper").last()}function m(a,b,c){var d=a.data("index");if(void 0==d)throw new Error("every tile should have index!");for(var e=[],f=0;b>f;f++){if("prev"==c)var g=Q.getPrevItem(d,!0);else var g=Q.getNextItem(d,!0);if(!g)throw new Error("the item to add is empty");var h=g.objTileOriginal.clone(!0,!0);d=g.index,h.addClass("cloned"),e.push(h)}return e}function n(){var a=R.getElementSize(M),b=R.getElementSize(N),c=b.width-a.width+b.left,d=V.sideSpace-c;return d}function o(){var a=-e(),b=V.sideSpace-a;return b}function p(){var a=R.getElementSize(M);return a.width}function q(){var a=p(),b=h(a);return b}function r(a){if(!a)var a=!1;var b,c=g(),d=0,e=0;return jQuery.each(c,function(a,f){f=jQuery(f),R.placeElement(f,d,0);var g=R.getElementSize(f);d+=g.width+U.carousel_space_between_tiles,e=Math.max(e,g.height),a==c.length-1&&(b=g.right)}),N.width(b),e+=2*U.carousel_padding,a===!0&&(N.height(e),M.height(e)),w(V.numCurrent,!1),b}function s(a){if(a>g().length-1)throw new Error("Wrogn tile number: "+a)}function t(a,b){if("left"==b)var c=k();else var c=l();var d="left"==b?"prev":"next",e=m(c,a,d);jQuery.each(e,function(a,c){"left"==b?N.prepend(c):N.append(c),K.trigger(V.eventSizeChange,c),S.loadTileImage(c)})}function u(a,b){s(d);for(var c=g(),d=c.length,e=0;a>e;e++)"left"==b?jQuery(c[e]).remove():jQuery(c[d-1-e]).remove()}function v(a){var b={left:a+"px"};N.css(b)}function w(a,b,c){if(void 0===b){var b=!0;if(N.is(":animated"))return!0}var d=j(a),e=R.getElementSize(d),f=-e.left+U.carousel_padding,g={left:f+"px"};if(b===!0){var h=U.carousel_scroll_duration,i=U.carousel_scroll_easing;c===!0&&(h=V.scrollShortDuration,i=V.scrollShortEasing),N.stop(!0).animate(g,{duration:h,easing:i,queue:!1,complete:function(){V.numCurrent=a,z(!0)}})}else V.numCurrent=a,N.css(g)}function x(){var a=-e(),b=h(a),c=R.getElementSize(j(b)).left,d=R.getElementSize(j(b+1)).left;return Math.abs(c-a)<Math.abs(d-a)?b:b+1}function y(){var a=x();w(a,!0,!0)}function z(){var a=o(),b=n(),c=0,d=0,e=0,f=0,g=i();if(a>V.spaceActionSize)c=h(a),t(c,"left"),V.numCurrent+=c;else if(a<-V.spaceActionSize){var e=h(Math.abs(a));u(e,"left"),V.numCurrent-=e}if(b>V.spaceActionSize?(d=h(b),t(d,"right")):b<-V.spaceActionSize&&(f=h(Math.abs(b)),u(f,"right")),f>g)throw new Error("Can't remove more then num tiles");var j=!1;return(c||d||e||f)&&(r(),j=!0),j}function A(a){R.placeElement(N,0,U.carousel_padding),z()}function B(){"left"==U.carousel_autoplay_direction?O.scrollRight(1):O.scrollLeft(1)}function C(a){return 1==V.touchActive||(V.touchActive=!0,O.pauseAutoplay(),V.startTime=jQuery.now(),V.startMousePos=f(a),V.startInnerPos=e(),V.lastTime=V.startTime,V.lastMousePos=V.startMousePos,void R.storeEventData(a,V.storedEventID))}function D(a){if(0==V.touchActive)return!0;R.updateStoredEventData(a,V.storedEventID),a.preventDefault();var b=null;if(1==U.carousel_vertical_scroll_ondrag&&(b=R.handleScrollTop(V.storedEventID)),"vert"===b)return!0;V.lastMousePos=f(a);var c=V.lastMousePos-V.startMousePos,d=V.startInnerPos+c,e=c>0?"prev":"next",g=R.getElementSize(N).width;d>0&&"prev"==e&&(d/=3),-g>d&&"next"==e&&(d=V.startInnerPos+c/3),v(d)}function E(a){return 0==V.touchActive||(V.touchActive=!1,y(),void O.unpauseAutoplay())}function F(a){return 0==U.carousel_autoplay_pause_onhover||void(1==V.isPlayMode&&0==V.isPaused&&O.pauseAutoplay())}function G(a){return 0==U.carousel_autoplay_pause_onhover||void O.unpauseAutoplay()}function H(){S.initEvents(),M.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",D),jQuery(window).add("body").bind("mouseup touchend",E),M.hover(F,G)}function I(){var a=V.lastTime-V.startTime,b=Math.abs(V.lastMousePos-V.startMousePos);return!(a>300)&&!(b>30)}var J,K,L,M,N,O=this,P=jQuery(this),Q=new UniteGalleryMain,R=new UGFunctions,S=new UGTileDesign,T=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var V={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){V.isPlayMode=!0,V.isPaused=!1,P.trigger(O.events.START_PLAY),V.handle&&clearInterval(V.handle),V.handle=setInterval(B,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==V.isPlayMode||(0==V.isPaused||void O.startAutoplay())},this.pauseAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!0,V.handle&&clearInterval(V.handle),void P.trigger(O.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!1,V.isPlayMode=!1,V.handle&&clearInterval(V.handle),void P.trigger(O.events.STOP_PLAY))},this.destroy=function(){V.handle&&clearInterval(V.handle),P.off(O.events.START_PLAY),P.off(O.events.STOP_PLAY),M.unbind("mousedown"),M.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),M.off("mouseenter").off("mouseleave"),S.destroy()},this.init=function(b,c,d){d&&this.setMaxWidth(d),a(b,c)},this.setMaxWidth=function(a){V.carouselMaxWidth=a},this.setHtml=function(a){b(a)},this.getElement=function(){return M},this.getObjTileDesign=function(){return S},this.getEstimatedHeight=function(){var a=U.tile_height+2*U.carousel_padding;return a},this.run=function(){d()},this.scrollRight=function(a){if(!a||"object"==typeof a)var a=U.carousel_navigation_numtiles;var b=q();a>b&&(a=b);var c=V.numCurrent-a;0>=c&&(c=0),w(c)},this.scrollLeft=function(a){if(!a||"object"==typeof a)var a=U.carousel_navigation_numtiles;var b=q();a>b&&(a=b);var c=i(),d=V.numCurrent+a;d>=c&&(d=c-1),w(d)},this.setScrollLeftButton=function(a){R.setButtonMobileReady(a),R.setButtonOnClick(a,O.scrollLeft)},this.setScrollRightButton=function(a){R.setButtonMobileReady(a),R.setButtonOnClick(a,O.scrollRight)},this.setPlayPauseButton=function(a){R.setButtonMobileReady(a),1==V.isPlayMode&&0==V.isPaused&&a.addClass("ug-pause-icon"),P.on(O.events.START_PLAY,function(){a.addClass("ug-pause-icon")}),P.on(O.events.STOP_PLAY,function(){a.removeClass("ug-pause-icon")}),R.setButtonOnClick(a,function(){0==V.isPlayMode||1==V.isPaused?O.startAutoplay():O.stopAutoplay()})}}function UGTabs(){function a(a,b){j=a,g=jQuery(j),k=jQuery.extend(k,b),"select"==k.tabs_type?i=jQuery(k.tabs_container):h=jQuery(k.tabs_container+" .ug-tab")}function b(){f()}function c(a){j.requestNewItems(a)}function d(){var a=k.tabs_class_selected,b=jQuery(this);if(b.hasClass(a))return!0;h.not(b).removeClass(a),b.addClass(a);var d=b.data("catid");return!d||void c(d)}function e(){var a=jQuery(this),b=a.val();return!b||void c(b)}function f(){"select"==k.tabs_type?i.change(e):h.click(d)}var g,h,i,j=(jQuery(this),new UniteGalleryMain),k=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){i&&i.off("change"),h&&h.off("click")},this.init=function(b,c){a(b,c)},this.run=function(){b()}}function UG_API(a){function b(a){var b={index:a.index,title:a.title,description:a.description,urlImage:a.urlImage,urlThumb:a.urlThumb},c=a.objThumbImage.data();for(var d in c){switch(d){case"image":case"description":continue}b[d]=c[d]}return b}var c,d=this,e=(jQuery(d),new UniteGalleryMain),f=[];e=a,c=jQuery(a),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(a,g,h){switch(h!==!0&&f.push({event:a,func:g}),a){case"item_change":c.on(e.events.ITEM_CHANGE,function(){var a=e.getSelectedItem(),c=b(a);g(c.index,c)});break;case"resize":c.on(e.events.SIZE_CHANGE,g);break;case"enter_fullscreen":c.on(e.events.ENTER_FULLSCREEN,g);break;case"exit_fullscreen":c.on(e.events.EXIT_FULLSCREEN,g);break;case"play":c.on(e.events.START_PLAY,g);break;case"stop":c.on(e.events.STOP_PLAY,g);break;case"pause":c.on(e.events.PAUSE_PLAYING,g);break;case"continue":c.on(e.events.CONTINUE_PLAYING,g);break;case"open_lightbox":c.on(e.events.OPEN_LIGHTBOX,g);break;case"close_lightbox":c.on(e.events.CLOSE_LIGHTBOX,g);break;default:console&&console.log("wrong api event: "+a)}c.trigger(d.events.API_ON_EVENT,[a,g])},this.play=function(){e.startPlayMode()},this.stop=function(){e.stopPlayMode()},this.togglePlay=function(){e.togglePlayMode()},this.enterFullscreen=function(){e.toFullScreen()},this.exitFullscreen=function(){e.exitFullScreen()},this.toggleFullscreen=function(){e.toggleFullscreen()},this.resetZoom=function(){var a=e.getObjSlider();return!!a&&void a.zoomBack()},this.zoomIn=function(){var a=e.getObjSlider();return!!a&&void a.zoomIn()},this.zoomOut=function(){var a=e.getObjSlider();return!!a&&void a.zoomOut()},this.nextItem=function(){e.nextItem()},this.prevItem=function(){e.prevItem()},this.selectItem=function(a){e.selectItem(a)},this.resize=function(a,b){b?e.resize(a,b):e.resize(a)},this.getItem=function(a){var c=e.getItem(a),d=b(c);return d},this.getNumItems=function(){var a=e.getNumItems();return a},this.reloadGallery=function(a){if(!a)var a={};e.run(null,a),f.map(function(a){d.on(a.event,a.func,!0)})},this.destroy=function(){e.destroy()},c.trigger(d.events.API_INIT_FUNCTIONS,d)}function UGLoadMore(){function a(){return f=jQuery("#"+l.loadmore_container),0!=f.length&&(g=f.find(".ug-loadmore-button"),0!=g.length&&(h=f.find(".ug-loadmore-loader"),0!=h.length&&(i=f.find(".ug-loadmore-error"),0!=i.length&&void(k.isInited=!0))))}function b(){f.show()}function c(){g.hide(),h.show();var a={numitems:j.getNumItems()};j.ajaxRequest("front_loadmore",a,function(a){h.hide();var b=a.html_items,c=a.show_loadmore;1==c?(g.blur().show(),h.hide()):f.hide(),j.addItems(b)},function(a){a="Ajax Error!"+a,h.hide(),i.show(),i.html(a)})}function d(){j.onEvent("tiles_first_placed",b),g.click(c)}var e,f,g,h,i,j=(jQuery(this),new UniteGalleryMain),k=(new UGFunctions,{isInited:!1}),l={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){return 0!=k.isInited&&void 0},this.init=function(b,c){return j=b,e=jQuery(j),l=jQuery.extend(l,c),a(),0==k.isInited?(trace("load more not inited, something is wrong"),!1):void d()}}function UGTheme_carousel(){function a(a,b){u=a,A=jQuery.extend(A,B),A=jQuery.extend(A,b),u.setOptions(A),u.setFreestyleMode(),n=a.getObjects(),m=jQuery(a),o=n.g_objWrapper,v.init(a,A),w.init(a,A),y=w.getObjTileDesign()}function b(){if(o.addClass("ug-theme-carousel"),w.setHtml(o),1==A.theme_enable_navigation){var a="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";a+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==A.theme_navigation_enable_play&&(a+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),a+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",a+="</div>",o.append(a),p=o.children(".ug-tile-navigation-wrapper"),q=p.children(".ug-button-tile-left"),r=p.children(".ug-button-tile-right"),q.css("margin-right",A.theme_space_between_arrows+"px"),1==A.theme_navigation_enable_play&&(s=p.children(".ug-button-tile-play"),s.css("margin-right",A.theme_space_between_arrows+"px"))}v.putHtml(),o.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),t=o.children(".ug-tiles-preloader"),t.fadeTo(0,0)}function c(){var a=u.getSize().width;return a-=2*A.theme_gallery_padding}function d(){var a=w.getEstimatedHeight();if(p){var b=p.height();a+=b+A.theme_navigation_margin}return a}function e(){var a=d();o.height(a);var b=c();l(),w.setMaxWidth(b),w.run(),v.run(),g()}function f(){b(),e()}function g(){var a=w.getElement(),b=x.getElementSize(a),c=0;if(p){var d=x.getElementSize(p);c=d.height}var e=b.height;c>0&&(e+=A.theme_navigation_margin+c);var f=0;if(p){var g=b.height+A.theme_navigation_margin;"top"==A.theme_navigation_position&&(f=d.height+A.theme_navigation_margin,g=0)}x.placeElement(a,A.theme_carousel_align,f,A.theme_carousel_offset,0);var b=x.getElementSize(a);if(p){var h=b.left+x.getElementRelativePos(p,A.theme_navigation_align,A.theme_navigation_offset_hor,a);x.placeElement(p,h,g)}o.height(e),x.placeElement(t,"center",50)}function h(a,b){b=jQuery(b);var c=y.getItemByTile(b),d=c.index;v.open(d)}function i(){var a=c();w.setMaxWidth(a),w.run(),g()}function j(){w.stopAutoplay(),w.getElement().hide(),p&&p.hide(),t.fadeTo(0,1)}function k(a,b){b.carouselStartAutoplay=function(){w.startAutoplay()},b.carouselStopAutoplay=function(){w.stopAutoplay()},b.carouselPause=function(){w.pauseAutoplay()},b.carouselUnpause=function(){w.unpauseAutoplay()},b.scrollLeft=function(a){w.scrollLeft(a)},b.scrollRight=function(a){w.scrollRight(a)}}function l(){p&&(w.setScrollLeftButton(r),w.setScrollRightButton(q),s&&w.setPlayPauseButton(s)),m.on(u.events.SIZE_CHANGE,i),m.on(u.events.GALLERY_BEFORE_REQUEST_ITEMS,j),jQuery(y).on(y.events.TILE_CLICK,h),m.on(z.events.API_INIT_FUNCTIONS,k)}var m,n,o,p,q,r,s,t,u=new UniteGalleryMain,v=new UGLightbox,w=new UGCarousel,x=new UGFunctions,y=new UGTileDesign,z=new UG_API,A={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},B={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};this.destroy=function(){p&&(x.destroyButton(r),x.destroyButton(q),s&&x.destroyButton(s)),m.off(u.events.SIZE_CHANGE),jQuery(y).off(y.events.TILE_CLICK),m.off(u.events.GALLERY_BEFORE_REQUEST_ITEMS),w.destroy(),v.destroy()},this.run=function(){f()},this.init=function(b,c){a(b,c)}}function UGTheme_compact(){function a(a,c){s=a,v=jQuery.extend(v,c),b(c),s.setOptions(v),1==v.theme_load_panel?(u.init(a,v),u.setOrientation(v.theme_panel_position)):u=null,1==v.theme_load_slider&&s.initSlider(v),p=a.getObjects(),o=jQuery(a),q=p.g_objWrapper,1==v.theme_load_slider&&(r=p.g_objSlider)}function b(a){if(v=jQuery.extend(v,w),1==v.theme_load_panel)switch(v.theme_panel_position){case"left":case"right":B.isVertical=!0,v.strippanel_vertical_type=!0}switch(v.theme_panel_position){case"left":v=jQuery.extend(v,x);break;case"right":v=jQuery.extend(v,y);break;case"top":v=jQuery.extend(v,A);break;case"bottom":v=jQuery.extend(v,z)}v=jQuery.extend(v,a)}function c(){u&&(f(),g()),r&&(r.run(),h())}function d(){e(),c(),n()}function e(){q.addClass("ug-theme-grid"),u&&u.setHtml(),r&&r.setHtml()}function f(){var a=s.getSize();0==B.isVertical?u.setWidth(a.width):u.setHeight(a.height),u.run()}function g(){var a=i(),b=u.isPanelClosed(),c=u.getElement(),d="bottom",e="left",f=a||b;if(f){var g=u.getClosedPanelDest(),h=t.getElementRelativePos(c,v.theme_panel_position);u.setClosedState(h)}else u.setOpenedState();switch(v.theme_panel_position){case"right":case"left":e=v.theme_panel_position,f&&(e=g);break;case"top":case"bottom":d=v.theme_panel_position,f&&(d=g);break;default:throw new Error("Wrong panel position: "+v.theme_panel_position)}t.placeElement(c,e,d,0,0)}function h(){var a=t.getElementSize(q),b=a.width,c=a.height,d=0,e=0;if(u){var f=u.getSize();switch(v.theme_panel_position){case"left":e=f.right,b=a.width-f.right;break;case"right":b=f.left;break;case"top":c=a.height-f.bottom,d=f.bottom;break;case"bottom":c=f.top}}r.setSize(b,c),r.setPosition(e,d)}function i(){if(!v.theme_hide_panel_under_width)return!1;var a=jQuery(window).width(),b=v.theme_hide_panel_under_width;return a<=b}function j(){if(!v.theme_hide_panel_under_width)return!1;var a=i();1==a?(u.closePanel(!0),B.isMobileModeWasEnabled=!0):1==B.isMobileModeWasEnabled&&(u.openPanel(!0),B.isMobileModeWasEnabled=!1)}function k(){c(),u&&j()}function l(){h()}function m(){s.showDisabledOverlay()}function n(){o.on(s.events.SIZE_CHANGE,k),o.on(s.events.GALLERY_BEFORE_REQUEST_ITEMS,m),u&&jQuery(u).on(u.events.FINISH_MOVE,l)}var o,p,q,r,s=new UniteGalleryMain,t=new UGFunctions,u=new UGStripPanel,v={theme_load_slider:!0,theme_load_panel:!0,theme_panel_position:"bottom",theme_hide_panel_under_width:480},w={slider_controls_always_on:!0,slider_enable_text_panel:!1,slider_vertical_scroll_ondrag:!0,strippanel_enable_buttons:!1},x={slider_enable_text_panel:!0,slider_zoompanel_align_hor:"right",slider_fullscreen_button_align_hor:"right",slider_play_button_align_hor:"right",slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9,slider_progress_indicator_align_hor:"right",slider_progress_indicator_offset_vert:36,slider_progress_indicator_offset_hor:63},y={slider_enable_text_panel:!0,slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9,slider_progress_indicator_align_hor:"left",slider_progress_indicator_offset_vert:36,slider_progress_indicator_offset_hor:63},z={slider_zoompanel_align_hor:"right",slider_zoompanel_offset_vert:10,slider_progress_indicator_align_hor:"left",slider_progress_indicator_offset_vert:36,slider_progress_indicator_offset_hor:16},A={slider_zoompanel_align_vert:"bottom",slider_zoompanel_offset_vert:10,slider_play_button_align_hor:"right",slider_play_button_align_vert:"bottom",slider_fullscreen_button_align_vert:"bottom",slider_fullscreen_button_align_hor:"right",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_vert:40},B={isVertical:!1,isMobileModeWasEnabled:!1};this.destroy=function(){o.off(s.events.SIZE_CHANGE),o.off(s.events.GALLERY_BEFORE_REQUEST_ITEMS),u&&jQuery(u).off(u.events.FINISH_MOVE),u.destroy(),r.destroy()},this.run=function(){d()},this.init=function(b,c){a(b,c)}}function UGTheme_grid(){function a(a,c){switch(s=a,v=jQuery.extend(v,w),v=jQuery.extend(v,c),v.theme_panel_position){case"left":v=jQuery.extend(v,x);break;case"right":v=jQuery.extend(v,y);break;case"top":v=jQuery.extend(v,A);break;case"bottom":v=jQuery.extend(v,z)}v=jQuery.extend(v,c),b(),s.setOptions(v),1==v.theme_load_panel?("top"!=v.theme_panel_position&&"bottom"!=v.theme_panel_position||(B.isHorPos=!0),u.setOrientation(v.theme_panel_position),u.init(a,v)):u=null,1==v.theme_load_slider&&s.initSlider(v),p=a.getObjects(),o=jQuery(a),q=p.g_objWrapper,1==v.theme_load_slider&&(r=p.g_objSlider)}function b(){1==v.theme_load_panel&&"left"==v.theme_panel_position&&(v.gridpanel_handle_position="right")}function c(){u&&(f(),g()),r&&(r.run(),h())}function d(){e(),c(),n()}function e(){q.addClass("ug-theme-grid"),u&&u.setHtml(),r&&r.setHtml()}function f(){var a=s.getSize();1==B.isHorPos?u.setWidth(a.width):u.setHeight(a.height),u.run()}function g(){var a=u.getElement(),b=i(),c=u.isPanelClosed(),d=b||c,e=v.theme_panel_position;if(d){var f=u.getClosedPanelDest(),g=t.getElementRelativePos(a,v.theme_panel_position);u.setClosedState(g),e=f}else u.setOpenedState();1==B.isHorPos?t.placeElement(a,"left",e):t.placeElement(a,e,"top")}function h(){var a=t.getElementSize(q),b=a.width,c=a.height,d=0,e=0;if(u){var f=u.getSize();switch(v.theme_panel_position){case"left":e=f.right,b=a.width-f.right;break;case"right":b=f.left;break;case"top":c=a.height-f.bottom,d=f.bottom;break;case"bottom":c=f.top}}r.setSize(b,c),r.setPosition(e,d)}function i(){if(!v.theme_hide_panel_under_width)return!1;var a=jQuery(window).width(),b=v.theme_hide_panel_under_width;return a<=b}function j(){if(!v.theme_hide_panel_under_width)return!1;var a=i();1==a?(u.closePanel(!0),B.isMobileModeWasEnabled=!0):1==B.isMobileModeWasEnabled&&(u.openPanel(!0),B.isMobileModeWasEnabled=!1)}function k(){c(),u&&j()}function l(){h()}function m(){s.showDisabledOverlay()}function n(){o.on(s.events.SIZE_CHANGE,k),o.on(s.events.GALLERY_BEFORE_REQUEST_ITEMS,m),u&&jQuery(u).on(u.events.FINISH_MOVE,l)}var o,p,q,r,s=new UniteGalleryMain,t=new UGFunctions,u=new UGGridPanel,v={theme_load_slider:!0,theme_load_panel:!0,theme_panel_position:"right",theme_hide_panel_under_width:480},w={slider_controls_always_on:!0,slider_vertical_scroll_ondrag:!0},x={slider_zoompanel_align_hor:"right",slider_fullscreen_button_align_hor:"right",slider_play_button_align_hor:"right",slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9},y={slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9},z={slider_enable_text_panel:!1,slider_zoompanel_align_hor:"right",slider_zoompanel_offset_vert:10,slider_progress_indicator_align_hor:"left",slider_progress_indicator_offset_vert:36,slider_progress_indicator_offset_hor:16},A={slider_enable_text_panel:!1,slider_zoompanel_align_vert:"bottom",slider_zoompanel_offset_vert:10,slider_play_button_align_hor:"right",slider_play_button_align_vert:"bottom",slider_fullscreen_button_align_vert:"bottom",slider_fullscreen_button_align_hor:"right",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_vert:40,gridpanel_padding_border_top:4,gridpanel_padding_border_bottom:10},B={isMobileModeWasEnabled:!1,isHorPos:!1};this.destroy=function(){o.off(s.events.SIZE_CHANGE,k),o.off(s.events.GALLERY_BEFORE_REQUEST_ITEMS),u&&jQuery(u).off(u.events.FINISH_MOVE),u.destroy(),r.destroy()},this.run=function(){d()},this.init=function(b,c){a(b,c)}}function UGTheme_slider(){function a(){h.addClass("ug-theme-slider"),i&&i.setHtml()}function b(){var a=j.getHeight(),b=j.getWidth();i.setSize(b,a),i.setPosition(0,0)}function c(){b()}function d(){f.on(j.events.SIZE_CHANGE,c)}function e(){b(),i.run()}var f,g,h,i,j=new UniteGalleryMain,k=(new UGFunctions,{}),l={gallery_autoplay:!0,slider_scale_mode:"fill",slider_controls_always_on:!0,slider_enable_text_panel:!1,slider_controls_appear_ontap:!0,slider_enable_bullets:!0,slider_enable_arrows:!0,slider_enable_play_button:!1,slider_enable_fullscreen_button:!1,slider_enable_zoom_panel:!1,slider_vertical_scroll_ondrag:!0};this.init=function(a,b){j=a,k=jQuery.extend(k,l),k=jQuery.extend(k,b),j.setOptions(k),j.initSlider(k),g=a.getObjects(),f=jQuery(a),h=g.g_objWrapper,i=g.g_objSlider},this.run=function(){a(),e(),d()}}function UGTheme_tiles(){function a(a,c){o=a,t=jQuery.extend(t,u),t=jQuery.extend(t,c),b(),o.setOptions(t),o.setFreestyleMode(),k=a.getObjects(),j=jQuery(a),l=k.g_objWrapper,p.init(a,t),q.init(a,t),s=p.getObjTileDesign()}function b(){switch(1==t.theme_enable_preloader&&(v.showPreloader=!0),t.theme_appearance_order){default:case"normal":break;case"shuffle":o.shuffleItems();break;case"keep":t.tiles_keep_order=!0}}function c(){l.addClass("ug-theme-tiles"),l.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==v.showPreloader&&(l.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),m=l.children(".ug-tiles-preloader"),m.fadeTo(0,0)),n=l.children(".ug-tiles-wrapper"),t.theme_gallery_padding&&l.css({"padding-left":t.theme_gallery_padding+"px","padding-right":t.theme_gallery_padding+"px"}),p.setHtml(n),q.putHtml()}function d(){m&&(m.fadeTo(0,1),l.height(t.theme_preloading_height),r.placeElement(m,"center",t.theme_preloader_vertpos)),i(),p.run(),q.run()}function e(){c(),d()}function f(a,b){b=jQuery(b);var c=s.getItemByTile(b),d=c.index;q.open(d)}function g(){if(n.hide(),m){m.show();var a=r.getElementSize(m),b=a.bottom+30;l.height(b)}}function h(){null!==t.theme_auto_open&&(q.open(t.theme_auto_open),t.theme_auto_open=null)}function i(){m&&o.onEvent(p.events.TILES_FIRST_PLACED,function(){l.height("auto"),m.hide()}),jQuery(s).on(s.events.TILE_CLICK,f),j.on(o.events.GALLERY_BEFORE_REQUEST_ITEMS,g),jQuery(q).on(q.events.LIGHTBOX_INIT,h)}var j,k,l,m,n,o=new UniteGalleryMain,p=new UGTiles,q=new UGLightbox,r=new UGFunctions,s=new UGTileDesign,t={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},u={gallery_width:"100%"},v={showPreloader:!1};this.destroy=function(){jQuery(s).off(s.events.TILE_CLICK),o.destroyEvent(p.events.TILES_FIRST_PLACED),j.off(o.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(q).off(q.events.LIGHTBOX_INIT),p.destroy(),q.destroy()},this.run=function(){e()},this.addItems=function(){p.runNewItems()},this.init=function(b,c){a(b,c)}}function UGTheme_tilesgrid(){function a(a,c){w=a,B=jQuery.extend(B,C),B=jQuery.extend(B,c),b(),w.setOptions(B),w.setFreestyleMode(),p=a.getObjects(),o=jQuery(a),q=p.g_objWrapper,y.init(a,B),x.init(a,B,!0),A=x.getObjTileDesign()}function b(){B.grid_num_rows||(B.grid_num_rows=9999),B.bullets_addclass="ug-bullets-"+B.theme_bullets_color}function c(){var a=w.getSize().width;return a-=2*B.theme_gallery_padding}function d(){if("bullets"==B.theme_navigation_type){r=new UGBullets;var a=c(),b=x.getNumPanesEstimationByWidth(a),d=w.getOptions();r.init(w,d,b)}if(q.addClass("ug-theme-tilesfixed"),x.setHtml(),r&&r.appendHTML(q),"arrows"==B.theme_navigation_type){var e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",e+="</div>",q.append(e),s=q.children(".ug-tile-navigation-wrapper"),t=s.children(".ug-button-tile-left"),u=s.children(".ug-button-tile-right"),t.css("margin-right",B.theme_space_between_arrows+"px")}y.putHtml(),q.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),v=q.children(".ug-tiles-preloader"),v.fadeTo(0,0)}function e(a){var b=x.getHeightEstimationByWidth(a),c=x.getNumPanesEstimationByWidth(a);return c>1&&("arrows"==B.theme_navigation_type?(b+=B.theme_arrows_margin_top,b+=30):(b+=B.theme_bullets_margin_top,b+=15)),b}function f(){var a=c(),b=e(a);q.height(b);var a=c();n(),z.placeElement(v,B.theme_grid_align,50),x.setWidth(a),x.run(),y.run(),j(),h()}function g(){d(),f()}function h(){var a=(w.getSize(),x.getSize()),b=x.getElement();z.placeElement(b,B.theme_grid_align,0),a=x.getSize();var c=a.height,d=x.getNumPanes();if(d>1){if(r){r.getElement().show();var e=r.getElement(),f=r.getBulletsWidth(),g=a.left+z.getElementRelativePos(f,B.theme_navigation_align,B.theme_navigation_offset_hor,b);z.placeElement(e,g,c+B.theme_bullets_margin_top);var h=z.getElementSize(e);c=h.bottom}if(s){s.show();var i=a.left+z.getElementRelativePos(s,B.theme_navigation_align,B.theme_navigation_offset_hor,b);z.placeElement(s,i,c+B.theme_arrows_margin_top);var j=z.getElementSize(s);c=j.bottom}}else s&&s.hide(),r&&r.getElement().hide();q.height(c)}function i(a,b){b=jQuery(b);var c=b.index();y.open(c)}function j(){return!!r&&(numPanes=x.getNumPanes(),r.updateNumBullets(numPanes),void r.setActive(0))}function k(){var a=c();x.setWidth(a),x.run(),j(),setTimeout(h,500)}function i(a,b){b=jQuery(b);var c=A.getItemByTile(b),d=c.index;y.open(d)}function l(){s&&s.hide(),x&&x.getElement().hide(),v.fadeTo(0,1)}function m(){null!==B.theme_auto_open&&(y.open(B.theme_auto_open),B.theme_auto_open=null)}function n(){o.on(w.events.SIZE_CHANGE,k),
o.on(w.events.GALLERY_BEFORE_REQUEST_ITEMS,l),r&&x.attachBullets(r),s&&(x.attachNextPaneButton(u),x.attachPrevPaneButton(t)),jQuery(A).on(A.events.TILE_CLICK,i),jQuery(y).on(y.events.LIGHTBOX_INIT,m)}var o,p,q,r,s,t,u,v,w=new UniteGalleryMain,x=new UGThumbsGrid,y=new UGLightbox,z=new UGFunctions,A=new UGTileDesign,B={theme_gallery_padding:0,theme_grid_align:"center",theme_navigation_type:"bullets",theme_arrows_margin_top:20,theme_space_between_arrows:5,theme_bullets_margin_top:40,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_bullets_color:"gray",theme_auto_open:null},C={gallery_width:"100%",tile_width:180,tile_height:150,grid_num_rows:3,grid_padding:10,tile_enable_border:!0,tile_enable_shadow:!0,tile_border_radius:2,grid_space_between_cols:20,grid_space_between_rows:20,grid_space_between_mobile:15,bullets_space_between:12,grid_vertical_scroll_ondrag:!0};this.destroy=function(){o.off(w.events.SIZE_CHANGE),o.off(w.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(A).off(A.events.TILE_CLICK),r&&jQuery(r).off(r.events.BULLET_CLICK),jQuery(y).off(y.events.LIGHTBOX_INIT),x.destroy(),y.destroy()},this.run=function(){g()},this.init=function(b,c){a(b,c)}}function UGTheme_video(){function a(a,c){v=a,z=jQuery.extend(z,A),z=jQuery.extend(z,c),z.strippanel_vertical_type=!0,b(),v.setOptions(z),0==B.isVertical&&v.setFuncCustomHeight(k),y.init(a,z),y.setOrientation(B.panel_position),y.setCustomThumbs(f),y.setDisabledAtStart(z.theme_disable_panel_timeout);var d=v.getGalleryID();w.init(z,!0,d),q=a.getObjects(),p=jQuery(a),r=q.g_objWrapper}function b(){switch(z.theme_skin){case"right-no-thumb":case"right-title-only":B.putButtonsPanel=!0;break;case"bottom-text":B.panel_position="bottom"}switch(B.panel_position){case"top":case"bottom":B.isVertical=!1,z.strippanel_vertical_type=!1}}function c(){g(),h(),i(),s&&j()}function d(){e(),c(),o(),w.show()}function e(){if(r.addClass("ug-theme-video ug-videoskin-"+z.theme_skin),y.setHtml(),w.setHtml(r),1==B.putButtonsPanel){var a="<div class='ug-video-buttons-panel'>";a+="<div href='javascript:void(0)' class='ug-button-prev-video'></div>",a+="<div href='javascript:void(0)' class='ug-button-next-video'></div>",a+="</div>",r.append(a),s=r.children(".ug-video-buttons-panel"),t=s.children(".ug-button-prev-video"),u=s.children(".ug-button-next-video")}}function f(a,b){var c=!0,d=!1;switch(z.theme_skin){case"right-title-only":c=!1;break;case"right-thumb":d=!0}var e="<div class='ug-thumb-inner'>";1==d&&(e+="<div class='ug-thumb-icon' style='background-image:url(\""+b.urlThumb+"\")'></div>",e+="<div class='ug-thumb-right'>"),e+="<div class='ug-thumb-title'>"+b.title+"</div>",1==c&&(e+="<div class='ug-thumb-desc'>"+b.description+"</div>"),1==d&&(e+="</div>"),e+="</div>",a.html(e)}function g(){var a=v.getSize();0==B.isVertical?y.setWidth(a.width):y.setHeight(a.height),y.run()}function h(){var a=y.getElement();switch(B.panel_position){default:case"right":x.placeElement(a,"right",0);break;case"bottom":x.placeElement(a,0,"bottom")}}function i(){var a=x.getElementSize(r),b=y.getSize(),c=a.width,d=a.height,e=0,f=0;if(y){var b=y.getSize();switch(B.panel_position){case"left":f=b.right,c=a.width-b.right;break;case"right":c=b.left;break;case"top":d=a.height-b.bottom,e=b.bottom;break;case"bottom":d=b.top}}if(s&&s.is(":visible")){var g=x.getElementSize(s),h=g.height;d-=h}w.setSize(c,d);var i=w.getObject();x.placeElement(i,f,e),null==B.playerRatio&&(B.playerRatio=d/c)}function j(){if(!s)return!1;if(0==s.is(":visible"))return!1;var a=w.getObject(),b=x.getElementSize(a);s.width(b.width),x.placeElement(s,0,"bottom")}function k(a){g();var b=y.getSize(),c=b.height,d=a.width,e=B.playerRatio*d,f=e+c;return f}function l(){c()}function m(){var a=z.theme_autoplay,b=v.getSelectedItem();switch(b.type){case"youtube":w.playYoutube(b.videoid,a);break;case"vimeo":w.playVimeo(b.videoid,a);break;case"html5video":w.playHtml5Video(b.videoogv,b.videowebm,b.videomp4,b.urlImage,a);break;case"wistia":w.playWistia(b.videoid,a);break;case"soundcloud":w.playSoundCloud(b.trackid,a)}B.isFirstChange=!1}function n(){1==z.theme_next_video_onend&&v.nextItem()}function o(){p.on(v.events.SIZE_CHANGE,l),p.on(v.events.ITEM_CHANGE,m),w.initEvents(),1==z.theme_next_video_onend&&jQuery(w).on(w.events.VIDEO_ENDED,n),s&&(x.setButtonMobileReady(t),v.setPrevButton(t),x.setButtonMobileReady(u),v.setNextButton(u))}var p,q,r,s,t,u,v=new UniteGalleryMain,w=new UGVideoPlayer,x=new UGFunctions,y=new UGStripPanel,z={theme_skin:"right-thumb",theme_autoplay:!1,theme_next_video_onend:!1,theme_disable_panel_timeout:2500},A={gallery_width:1100,slider_controls_always_on:!0,strippanel_enable_handle:!1,strippanel_enable_buttons:!1,strip_space_between_thumbs:0,strippanel_padding_top:0,strippanel_padding_bottom:0,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_vertical_type:!0},B={panel_position:"right",isVertical:!0,putButtonsPanel:!1,isFirstChange:!0,playerRatio:null};this.destroy=function(){p.off(v.events.SIZE_CHANGE),p.off(v.events.ITEM_CHANGE),w.destroy(),s&&(x.destroyButton(t),x.destroyButton(u)),1==z.theme_next_video_onend&&jQuery(w).off(w.events.VIDEO_ENDED),y&&y.destroy()},this.run=function(){d()},this.init=function(b,c){a(b,c)}}var g_ugFunctions=new UGFunctions;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b)}):"object"==typeof module&&"object"==typeof module.exports?exports=a(require("jquery")):a(jQuery)}(function(a){function b(a){var b=7.5625,c=2.75;return 1/c>a?b*a*a:2/c>a?b*(a-=1.5/c)*a+.75:2.5/c>a?b*(a-=2.25/c)*a+.9375:b*(a-=2.625/c)*a+.984375}a.easing.jswing=a.easing.swing;var c=Math.pow,d=Math.sqrt,e=Math.sin,f=Math.cos,g=Math.PI,h=1.70158,i=1.525*h,j=h+1,k=2*g/3,l=2*g/4.5;a.extend(a.easing,{def:"easeOutQuad",swing:function(b){return a.easing[a.easing.def](b)},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return 1-(1-a)*(1-a)},easeInOutQuad:function(a){return.5>a?2*a*a:1-c(-2*a+2,2)/2},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1-c(1-a,3)},easeInOutCubic:function(a){return.5>a?4*a*a*a:1-c(-2*a+2,3)/2},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1-c(1-a,4)},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-c(-2*a+2,4)/2},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1-c(1-a,5)},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1-c(-2*a+2,5)/2},easeInSine:function(a){return 1-f(a*g/2)},easeOutSine:function(a){return e(a*g/2)},easeInOutSine:function(a){return-(f(g*a)-1)/2},easeInExpo:function(a){return 0===a?0:c(2,10*a-10)},easeOutExpo:function(a){return 1===a?1:1-c(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:.5>a?c(2,20*a-10)/2:(2-c(2,-20*a+10))/2},easeInCirc:function(a){return 1-d(1-c(a,2))},easeOutCirc:function(a){return d(1-c(a-1,2))},easeInOutCirc:function(a){return.5>a?(1-d(1-c(2*a,2)))/2:(d(1-c(-2*a+2,2))+1)/2},easeInElastic:function(a){return 0===a?0:1===a?1:-c(2,10*a-10)*e((10*a-10.75)*k)},easeOutElastic:function(a){return 0===a?0:1===a?1:c(2,-10*a)*e((10*a-.75)*k)+1},easeInOutElastic:function(a){return 0===a?0:1===a?1:.5>a?-(c(2,20*a-10)*e((20*a-11.125)*l))/2:c(2,-20*a+10)*e((20*a-11.125)*l)/2+1},easeInBack:function(a){return j*a*a*a-h*a*a},easeOutBack:function(a){return 1+j*c(a-1,3)+h*c(a-1,2)},easeInOutBack:function(a){return.5>a?c(2*a,2)*(2*(i+1)*a-i)/2:(c(2*a-2,2)*((i+1)*(2*a-2)+i)+2)/2},easeInBounce:function(a){return 1-b(1-a)},easeOutBounce:b,easeInOutBounce:function(a){return.5>a?(1-b(1-2*a))/2:(1+b(2*a-1))/2}})}),!function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}if("undefined"==typeof a.cssHooks)return!1;var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(a){function b(){try{var c=this===document?a(this):a(this).contents()}catch(d){return!1}c.mousemove(function(b){a.mlp={x:b.pageX,y:b.pageY}}),c.find("iframe").on("load",b)}a.mlp={x:0,y:0},a(b),a.fn.ismouseover=function(){var b=!1;return this.eq(0).each(function(){var c=a(this).is("iframe")?a(this).contents().find("body"):a(this),d=c.offset();b=d.left<=a.mlp.x&&d.left+c.outerWidth()>a.mlp.x&&d.top<=a.mlp.y&&d.top+c.outerHeight()>a.mlp.y}),b}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(a){var b=jQuery(this),c="#"+b.attr("id");if(!a)var a={};var d=new UniteGalleryMain;d.run(c,a);var e=new UG_API(d);return e},"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/carousel/ug-theme-carousel.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("compact"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("compact")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/compact/ug-theme-compact.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("grid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("grid")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/grid/ug-theme-grid.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("slider"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("slider")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/slider/ug-theme-slider.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/tiles/ug-theme-tiles.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tilesgrid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tilesgrid")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/tilesgrid/ug-theme-tilesgrid.js",function(){}),"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("video"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("video")}),define("/Volumes/WORKSPACE/plone5/src/collective.js.unitegallery/src/collective/js/unitegallery/browser/static/themes/video/ug-theme-video.js",function(){});
//# sourceMappingURL=unitegallery.min.js.map